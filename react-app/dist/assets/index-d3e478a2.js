function Db(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _b(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var p0={exports:{}},Dl={},g0={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),Ib=Symbol.for("react.portal"),$b=Symbol.for("react.fragment"),Vb=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),Hb=Symbol.for("react.forward_ref"),Wb=Symbol.for("react.suspense"),Kb=Symbol.for("react.memo"),qb=Symbol.for("react.lazy"),Yh=Symbol.iterator;function Qb(e){return e===null||typeof e!="object"?null:(e=Yh&&e[Yh]||e["@@iterator"],typeof e=="function"?e:null)}var y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,x0={};function no(e,t,n){this.props=e,this.context=t,this.refs=x0,this.updater=n||y0}no.prototype.isReactComponent={};no.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};no.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b0(){}b0.prototype=no.prototype;function tf(e,t,n){this.props=e,this.context=t,this.refs=x0,this.updater=n||y0}var nf=tf.prototype=new b0;nf.constructor=tf;v0(nf,no.prototype);nf.isPureReactComponent=!0;var Zh=Array.isArray,w0=Object.prototype.hasOwnProperty,rf={current:null},k0={key:!0,ref:!0,__self:!0,__source:!0};function S0(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)w0.call(t,r)&&!k0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ca,type:e,key:o,ref:a,props:s,_owner:rf.current}}function Gb(e,t){return{$$typeof:Ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ca}function Xb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var em=/\/+/g;function Cc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xb(""+e.key):t.toString(36)}function bi(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ca:case Ib:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Cc(a,0):r,Zh(s)?(n="",e!=null&&(n=e.replace(em,"$&/")+"/"),bi(s,t,n,"",function(u){return u})):s!=null&&(sf(s)&&(s=Gb(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(em,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Zh(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Cc(o,l);a+=bi(o,t,n,c,s)}else if(c=Qb(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Cc(o,l++),a+=bi(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ga(e,t,n){if(e==null)return e;var r=[],s=0;return bi(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Jb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},wi={transition:null},Yb={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:wi,ReactCurrentOwner:rf};function j0(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!sf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=no;Fe.Fragment=$b;Fe.Profiler=zb;Fe.PureComponent=tf;Fe.StrictMode=Vb;Fe.Suspense=Wb;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb;Fe.act=j0;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v0({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=rf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w0.call(t,c)&&!k0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ca,type:e.type,key:s,ref:o,props:r,_owner:a}};Fe.createContext=function(e){return e={$$typeof:Bb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ub,_context:e},e.Consumer=e};Fe.createElement=S0;Fe.createFactory=function(e){var t=S0.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:Hb,render:e}};Fe.isValidElement=sf;Fe.lazy=function(e){return{$$typeof:qb,_payload:{_status:-1,_result:e},_init:Jb}};Fe.memo=function(e,t){return{$$typeof:Kb,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};Fe.unstable_act=j0;Fe.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Fe.useContext=function(e){return Ot.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Fe.useId=function(){return Ot.current.useId()};Fe.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Fe.useRef=function(e){return Ot.current.useRef(e)};Fe.useState=function(e){return Ot.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return Ot.current.useTransition()};Fe.version="18.3.1";g0.exports=Fe;var w=g0.exports;const Bt=ef(w),Zb=Db({__proto__:null,default:Bt},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=w,tw=Symbol.for("react.element"),nw=Symbol.for("react.fragment"),rw=Object.prototype.hasOwnProperty,sw=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ow={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)rw.call(t,r)&&!ow.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tw,type:e,key:o,ref:a,props:s,_owner:sw.current}}Dl.Fragment=nw;Dl.jsx=N0;Dl.jsxs=N0;p0.exports=Dl;var i=p0.exports,gu={},C0={exports:{}},qt={},E0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var F=O.length;O.push(B);e:for(;0<F;){var A=F-1>>>1,te=O[A];if(0<s(te,B))O[A]=B,O[F]=te,F=A;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],F=O.pop();if(F!==B){O[0]=F;e:for(var A=0,te=O.length,q=te>>>1;A<q;){var Y=2*(A+1)-1,ge=O[Y],re=Y+1,ie=O[re];if(0>s(ge,F))re<te&&0>s(ie,ge)?(O[A]=ie,O[re]=F,A=re):(O[A]=ge,O[Y]=F,A=Y);else if(re<te&&0>s(ie,F))O[A]=ie,O[re]=F,A=re;else break e}}return B}function s(O,B){var F=O.sortIndex-B.sortIndex;return F!==0?F:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function k(O){if(x=!1,y(O),!p)if(n(c)!==null)p=!0,z(S);else{var B=n(u);B!==null&&E(k,B.startTime-O)}}function S(O,B){p=!1,x&&(x=!1,v(j),j=-1),m=!0;var F=h;try{for(y(B),f=n(c);f!==null&&(!(f.expirationTime>B)||O&&!$());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var te=A(f.expirationTime<=B);B=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),y(B)}else r(c);f=n(c)}if(f!==null)var q=!0;else{var Y=n(u);Y!==null&&E(k,Y.startTime-B),q=!1}return q}finally{f=null,h=F,m=!1}}var C=!1,N=null,j=-1,P=5,D=-1;function $(){return!(e.unstable_now()-D<P)}function _(){if(N!==null){var O=e.unstable_now();D=O;var B=!0;try{B=N(!0,O)}finally{B?U():(C=!1,N=null)}}else C=!1}var U;if(typeof g=="function")U=function(){g(_)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,T=M.port2;M.port1.onmessage=_,U=function(){T.postMessage(null)}}else U=function(){b(_,0)};function z(O){N=O,C||(C=!0,U())}function E(O,B){j=b(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,z(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var F=h;h=B;try{return O()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=h;h=O;try{return B()}finally{h=F}},e.unstable_scheduleCallback=function(O,B,F){var A=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?A+F:A):F=A,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,O={id:d++,callback:B,priorityLevel:O,startTime:F,expirationTime:te,sortIndex:-1},F>A?(O.sortIndex=F,t(u,O),n(c)===null&&O===n(u)&&(x?(v(j),j=-1):x=!0,E(k,F-A))):(O.sortIndex=te,t(c,O),p||m||(p=!0,z(S))),O},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(O){var B=h;return function(){var F=h;h=B;try{return O.apply(this,arguments)}finally{h=F}}}})(P0);E0.exports=P0;var aw=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=w,Wt=aw;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,Go={};function us(e,t){Ws(e,t),Ws(e+"Capture",t)}function Ws(e,t){for(Go[e]=t,e=0;e<t.length;e++)T0.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=Object.prototype.hasOwnProperty,lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tm={},nm={};function cw(e){return yu.call(nm,e)?!0:yu.call(tm,e)?!1:lw.test(e)?nm[e]=!0:(tm[e]=!0,!1)}function uw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dw(e,t,n,r){if(t===null||typeof t>"u"||uw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var of=/[\-:]([a-z])/g;function af(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(of,af);yt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(of,af);yt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(of,af);yt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lf(e,t,n,r){var s=yt.hasOwnProperty(t)?yt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dw(t,n,s,r)&&(n=null),r||s===null?cw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xn=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),vs=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),vu=Symbol.for("react.profiler"),M0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),df=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),rm=Symbol.iterator;function ho(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Ec;function jo(e){if(Ec===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ec=t&&t[1]||""}return`
`+Ec+e}var Pc=!1;function Tc(e,t){if(!e||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jo(e):""}function fw(e){switch(e.tag){case 5:return jo(e.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return e=Tc(e.type,!1),e;case 11:return e=Tc(e.type.render,!1),e;case 1:return e=Tc(e.type,!0),e;default:return""}}function wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xs:return"Fragment";case vs:return"Portal";case vu:return"Profiler";case cf:return"StrictMode";case xu:return"Suspense";case bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O0:return(e.displayName||"Context")+".Consumer";case M0:return(e._context.displayName||"Context")+".Provider";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case df:return t=e.displayName||null,t!==null?t:wu(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return wu(e(t))}catch{}}return null}function hw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wu(t);case 8:return t===cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mw(e){var t=L0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=mw(e))}function F0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=L0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ku(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A0(e,t){t=t.checked,t!=null&&lf(e,"checked",t,!1)}function Su(e,t){A0(e,t);var n=Er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ju(e,t.type,n):t.hasOwnProperty("defaultValue")&&ju(e,t.type,Er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function om(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ju(e,t,n){(t!=="number"||Bi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function Ds(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Er(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Nu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function am(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(No(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Er(n)}}function D0(e,t){var n=Er(t.value),r=Er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function im(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ya,I0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pw=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){pw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});function $0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function V0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gw=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(e,t){if(t){if(gw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=null;function ff(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mu=null,_s=null,Is=null;function lm(e){if(e=Ta(e)){if(typeof Mu!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=zl(t),Mu(e.stateNode,e.type,t))}}function z0(e){_s?Is?Is.push(e):Is=[e]:_s=e}function U0(){if(_s){var e=_s,t=Is;if(Is=_s=null,lm(e),t)for(e=0;e<t.length;e++)lm(t[e])}}function B0(e,t){return e(t)}function H0(){}var Mc=!1;function W0(e,t,n){if(Mc)return e(t,n);Mc=!0;try{return B0(e,t,n)}finally{Mc=!1,(_s!==null||Is!==null)&&(H0(),U0())}}function Jo(e,t){var n=e.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Ou=!1;if(Hn)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Ou=!1}function yw(e,t,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Lo=!1,Hi=null,Wi=!1,Ru=null,vw={onError:function(e){Lo=!0,Hi=e}};function xw(e,t,n,r,s,o,a,l,c){Lo=!1,Hi=null,yw.apply(vw,arguments)}function bw(e,t,n,r,s,o,a,l,c){if(xw.apply(this,arguments),Lo){if(Lo){var u=Hi;Lo=!1,Hi=null}else throw Error(Z(198));Wi||(Wi=!0,Ru=u)}}function ds(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function K0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cm(e){if(ds(e)!==e)throw Error(Z(188))}function ww(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return cm(s),e;if(o===r)return cm(s),t;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function q0(e){return e=ww(e),e!==null?Q0(e):null}function Q0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Q0(e);if(t!==null)return t;e=e.sibling}return null}var G0=Wt.unstable_scheduleCallback,um=Wt.unstable_cancelCallback,kw=Wt.unstable_shouldYield,Sw=Wt.unstable_requestPaint,rt=Wt.unstable_now,jw=Wt.unstable_getCurrentPriorityLevel,hf=Wt.unstable_ImmediatePriority,X0=Wt.unstable_UserBlockingPriority,Ki=Wt.unstable_NormalPriority,Nw=Wt.unstable_LowPriority,J0=Wt.unstable_IdlePriority,_l=null,On=null;function Cw(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Tw,Ew=Math.log,Pw=Math.LN2;function Tw(e){return e>>>=0,e===0?32:31-(Ew(e)/Pw|0)|0}var Za=64,ei=4194304;function Co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Co(l):(o&=a,o!==0&&(r=Co(o)))}else a=n&~s,a!==0?r=Co(a):o!==0&&(r=Co(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),s=1<<n,r|=e[n],t&=~s;return r}function Mw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-mn(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Mw(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Y0(){var e=Za;return Za<<=1,!(Za&4194240)&&(Za=64),e}function Oc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function Rw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function mf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ze=0;function Z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ey,pf,ty,ny,ry,Fu=!1,ti=[],mr=null,pr=null,gr=null,Yo=new Map,Zo=new Map,ar=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dm(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function po(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ta(t),t!==null&&pf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fw(e,t,n,r,s){switch(t){case"focusin":return mr=po(mr,e,t,n,r,s),!0;case"dragenter":return pr=po(pr,e,t,n,r,s),!0;case"mouseover":return gr=po(gr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Yo.set(o,po(Yo.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Zo.set(o,po(Zo.get(o)||null,e,t,n,r,s)),!0}return!1}function sy(e){var t=Wr(e.target);if(t!==null){var n=ds(t);if(n!==null){if(t=n.tag,t===13){if(t=K0(n),t!==null){e.blockedOn=t,ry(e.priority,function(){ty(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Au(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tu=r,n.target.dispatchEvent(r),Tu=null}else return t=Ta(n),t!==null&&pf(t),e.blockedOn=n,!1;t.shift()}return!0}function fm(e,t,n){ki(e)&&n.delete(t)}function Aw(){Fu=!1,mr!==null&&ki(mr)&&(mr=null),pr!==null&&ki(pr)&&(pr=null),gr!==null&&ki(gr)&&(gr=null),Yo.forEach(fm),Zo.forEach(fm)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,Aw)))}function ea(e){function t(s){return go(s,e)}if(0<ti.length){go(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&go(mr,e),pr!==null&&go(pr,e),gr!==null&&go(gr,e),Yo.forEach(t),Zo.forEach(t),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)sy(n),n.blockedOn===null&&ar.shift()}var $s=Xn.ReactCurrentBatchConfig,Qi=!0;function Dw(e,t,n,r){var s=ze,o=$s.transition;$s.transition=null;try{ze=1,gf(e,t,n,r)}finally{ze=s,$s.transition=o}}function _w(e,t,n,r){var s=ze,o=$s.transition;$s.transition=null;try{ze=4,gf(e,t,n,r)}finally{ze=s,$s.transition=o}}function gf(e,t,n,r){if(Qi){var s=Au(e,t,n,r);if(s===null)zc(e,t,r,Gi,n),dm(e,r);else if(Fw(s,e,t,n,r))r.stopPropagation();else if(dm(e,r),t&4&&-1<Lw.indexOf(e)){for(;s!==null;){var o=Ta(s);if(o!==null&&ey(o),o=Au(e,t,n,r),o===null&&zc(e,t,r,Gi,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else zc(e,t,r,null,n)}}var Gi=null;function Au(e,t,n,r){if(Gi=null,e=ff(r),e=Wr(e),e!==null)if(t=ds(e),t===null)e=null;else if(n=t.tag,n===13){if(e=K0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function oy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jw()){case hf:return 1;case X0:return 4;case Ki:case Nw:return 16;case J0:return 536870912;default:return 16}default:return 16}}var cr=null,yf=null,Si=null;function ay(){if(Si)return Si;var e,t=yf,n=t.length,r,s="value"in cr?cr.value:cr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return Si=s.slice(e,1<r?1-r:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function hm(){return!1}function Qt(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ni:hm,this.isPropagationStopped=hm,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=Qt(ro),Pa=Ze({},ro,{view:0,detail:0}),Iw=Qt(Pa),Rc,Lc,yo,Il=Ze({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(Rc=e.screenX-yo.screenX,Lc=e.screenY-yo.screenY):Lc=Rc=0,yo=e),Rc)},movementY:function(e){return"movementY"in e?e.movementY:Lc}}),mm=Qt(Il),$w=Ze({},Il,{dataTransfer:0}),Vw=Qt($w),zw=Ze({},Pa,{relatedTarget:0}),Fc=Qt(zw),Uw=Ze({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Bw=Qt(Uw),Hw=Ze({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ww=Qt(Hw),Kw=Ze({},ro,{data:0}),pm=Qt(Kw),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gw[e])?!!t[e]:!1}function xf(){return Xw}var Jw=Ze({},Pa,{key:function(e){if(e.key){var t=qw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xf,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yw=Qt(Jw),Zw=Ze({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gm=Qt(Zw),ek=Ze({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xf}),tk=Qt(ek),nk=Ze({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),rk=Qt(nk),sk=Ze({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ok=Qt(sk),ak=[9,13,27,32],bf=Hn&&"CompositionEvent"in window,Fo=null;Hn&&"documentMode"in document&&(Fo=document.documentMode);var ik=Hn&&"TextEvent"in window&&!Fo,iy=Hn&&(!bf||Fo&&8<Fo&&11>=Fo),ym=String.fromCharCode(32),vm=!1;function ly(e,t){switch(e){case"keyup":return ak.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function lk(e,t){switch(e){case"compositionend":return cy(t);case"keypress":return t.which!==32?null:(vm=!0,ym);case"textInput":return e=t.data,e===ym&&vm?null:e;default:return null}}function ck(e,t){if(bs)return e==="compositionend"||!bf&&ly(e,t)?(e=ay(),Si=yf=cr=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iy&&t.locale!=="ko"?null:t.data;default:return null}}var uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uk[e.type]:t==="textarea"}function uy(e,t,n,r){z0(r),t=Xi(t,"onChange"),0<t.length&&(n=new vf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,ta=null;function dk(e){wy(e,0)}function $l(e){var t=Ss(e);if(F0(t))return e}function fk(e,t){if(e==="change")return t}var dy=!1;if(Hn){var Ac;if(Hn){var Dc="oninput"in document;if(!Dc){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),Dc=typeof bm.oninput=="function"}Ac=Dc}else Ac=!1;dy=Ac&&(!document.documentMode||9<document.documentMode)}function wm(){Ao&&(Ao.detachEvent("onpropertychange",fy),ta=Ao=null)}function fy(e){if(e.propertyName==="value"&&$l(ta)){var t=[];uy(t,ta,e,ff(e)),W0(dk,t)}}function hk(e,t,n){e==="focusin"?(wm(),Ao=t,ta=n,Ao.attachEvent("onpropertychange",fy)):e==="focusout"&&wm()}function mk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(ta)}function pk(e,t){if(e==="click")return $l(t)}function gk(e,t){if(e==="input"||e==="change")return $l(t)}function yk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:yk;function na(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yu.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sm(e,t){var n=km(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=km(n)}}function hy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function my(){for(var e=window,t=Bi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bi(e.document)}return t}function wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vk(e){var t=my(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hy(n.ownerDocument.documentElement,n)){if(r!==null&&wf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Sm(n,o);var a=Sm(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xk=Hn&&"documentMode"in document&&11>=document.documentMode,ws=null,Du=null,Do=null,_u=!1;function jm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_u||ws==null||ws!==Bi(r)||(r=ws,"selectionStart"in r&&wf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Do&&na(Do,r)||(Do=r,r=Xi(Du,"onSelect"),0<r.length&&(t=new vf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ws)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ks={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},_c={},py={};Hn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Vl(e){if(_c[e])return _c[e];if(!ks[e])return e;var t=ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in py)return _c[e]=t[n];return e}var gy=Vl("animationend"),yy=Vl("animationiteration"),vy=Vl("animationstart"),xy=Vl("transitionend"),by=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){by.set(e,t),us(t,[e])}for(var Ic=0;Ic<Nm.length;Ic++){var $c=Nm[Ic],bk=$c.toLowerCase(),wk=$c[0].toUpperCase()+$c.slice(1);Rr(bk,"on"+wk)}Rr(gy,"onAnimationEnd");Rr(yy,"onAnimationIteration");Rr(vy,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(xy,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Cm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bw(r,t,void 0,e),e.currentTarget=null}function wy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Cm(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Cm(s,l,u),o=c}}}if(Wi)throw e=Ru,Wi=!1,Ru=null,e}function He(e,t){var n=t[Uu];n===void 0&&(n=t[Uu]=new Set);var r=e+"__bubble";n.has(r)||(ky(t,e,2,!1),n.add(r))}function Vc(e,t,n){var r=0;t&&(r|=4),ky(n,e,r,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function ra(e){if(!e[si]){e[si]=!0,T0.forEach(function(n){n!=="selectionchange"&&(kk.has(n)||Vc(n,!1,e),Vc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,Vc("selectionchange",!1,t))}}function ky(e,t,n,r){switch(oy(t)){case 1:var s=Dw;break;case 4:s=_w;break;default:s=gf}n=s.bind(null,t,n,e),s=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Wr(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}W0(function(){var u=o,d=ff(n),f=[];e:{var h=by.get(e);if(h!==void 0){var m=vf,p=e;switch(e){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":m=Yw;break;case"focusin":p="focus",m=Fc;break;case"focusout":p="blur",m=Fc;break;case"beforeblur":case"afterblur":m=Fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tk;break;case gy:case yy:case vy:m=Bw;break;case xy:m=rk;break;case"scroll":m=Iw;break;case"wheel":m=ok;break;case"copy":case"cut":case"paste":m=Ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gm}var x=(t&4)!==0,b=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,y;g!==null;){y=g;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,v!==null&&(k=Jo(g,v),k!=null&&x.push(sa(g,k,y)))),b)break;g=g.return}0<x.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Tu&&(p=n.relatedTarget||n.fromElement)&&(Wr(p)||p[Wn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Wr(p):null,p!==null&&(b=ds(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=mm,k="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=gm,k="onPointerLeave",v="onPointerEnter",g="pointer"),b=m==null?h:Ss(m),y=p==null?h:Ss(p),h=new x(k,g+"leave",m,n,d),h.target=b,h.relatedTarget=y,k=null,Wr(d)===u&&(x=new x(v,g+"enter",p,n,d),x.target=y,x.relatedTarget=b,k=x),b=k,m&&p)t:{for(x=m,v=p,g=0,y=x;y;y=ys(y))g++;for(y=0,k=v;k;k=ys(k))y++;for(;0<g-y;)x=ys(x),g--;for(;0<y-g;)v=ys(v),y--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=ys(x),v=ys(v)}x=null}else x=null;m!==null&&Em(f,h,m,x,!1),p!==null&&b!==null&&Em(f,b,p,x,!0)}}e:{if(h=u?Ss(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=fk;else if(xm(h))if(dy)S=gk;else{S=mk;var C=hk}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=pk);if(S&&(S=S(e,u))){uy(f,S,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ju(h,"number",h.value)}switch(C=u?Ss(u):window,e){case"focusin":(xm(C)||C.contentEditable==="true")&&(ws=C,Du=u,Do=null);break;case"focusout":Do=Du=ws=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,jm(f,n,d);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":jm(f,n,d)}var N;if(bf)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else bs?ly(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(iy&&n.locale!=="ko"&&(bs||j!=="onCompositionStart"?j==="onCompositionEnd"&&bs&&(N=ay()):(cr=d,yf="value"in cr?cr.value:cr.textContent,bs=!0)),C=Xi(u,j),0<C.length&&(j=new pm(j,e,null,n,d),f.push({event:j,listeners:C}),N?j.data=N:(N=cy(n),N!==null&&(j.data=N)))),(N=ik?lk(e,n):ck(e,n))&&(u=Xi(u,"onBeforeInput"),0<u.length&&(d=new pm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}wy(f,t)})}function sa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Jo(e,n),o!=null&&r.unshift(sa(e,o,s)),o=Jo(e,t),o!=null&&r.push(sa(e,o,s))),e=e.return}return r}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Em(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Jo(n,o),c!=null&&a.unshift(sa(n,c,l))):s||(c=Jo(n,o),c!=null&&a.push(sa(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Sk=/\r\n?/g,jk=/\u0000|\uFFFD/g;function Pm(e){return(typeof e=="string"?e:""+e).replace(Sk,`
`).replace(jk,"")}function oi(e,t,n){if(t=Pm(t),Pm(e)!==t&&n)throw Error(Z(425))}function Ji(){}var Iu=null,$u=null;function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(Ek)}:zu;function Ek(e){setTimeout(function(){throw e})}function Uc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ea(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ea(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),Pn="__reactFiber$"+so,oa="__reactProps$"+so,Wn="__reactContainer$"+so,Uu="__reactEvents$"+so,Pk="__reactListeners$"+so,Tk="__reactHandles$"+so;function Wr(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mm(e);e!==null;){if(n=e[Pn])return n;e=Mm(e)}return t}e=n,n=e.parentNode}return null}function Ta(e){return e=e[Pn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function zl(e){return e[oa]||null}var Bu=[],js=-1;function Lr(e){return{current:e}}function We(e){0>js||(e.current=Bu[js],Bu[js]=null,js--)}function Ue(e,t){js++,Bu[js]=e.current,e.current=t}var Pr={},Nt=Lr(Pr),At=Lr(!1),ns=Pr;function Ks(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(e){return e=e.childContextTypes,e!=null}function Yi(){We(At),We(Nt)}function Om(e,t,n){if(Nt.current!==Pr)throw Error(Z(168));Ue(Nt,t),Ue(At,n)}function Sy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,hw(e)||"Unknown",s));return Ze({},n,r)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,ns=Nt.current,Ue(Nt,e),Ue(At,At.current),!0}function Rm(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Sy(e,t,ns),r.__reactInternalMemoizedMergedChildContext=e,We(At),We(Nt),Ue(Nt,e)):We(At),Ue(At,n)}var _n=null,Ul=!1,Bc=!1;function jy(e){_n===null?_n=[e]:_n.push(e)}function Mk(e){Ul=!0,jy(e)}function Fr(){if(!Bc&&_n!==null){Bc=!0;var e=0,t=ze;try{var n=_n;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_n=null,Ul=!1}catch(s){throw _n!==null&&(_n=_n.slice(e+1)),G0(hf,Fr),s}finally{ze=t,Bc=!1}}return null}var Ns=[],Cs=0,el=null,tl=0,en=[],tn=0,rs=null,In=1,$n="";function $r(e,t){Ns[Cs++]=tl,Ns[Cs++]=el,el=e,tl=t}function Ny(e,t,n){en[tn++]=In,en[tn++]=$n,en[tn++]=rs,rs=e;var r=In;e=$n;var s=32-mn(r)-1;r&=~(1<<s),n+=1;var o=32-mn(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,In=1<<32-mn(t)+s|n<<s|r,$n=o+e}else In=1<<o|n<<s|r,$n=e}function kf(e){e.return!==null&&($r(e,1),Ny(e,1,0))}function Sf(e){for(;e===el;)el=Ns[--Cs],Ns[Cs]=null,tl=Ns[--Cs],Ns[Cs]=null;for(;e===rs;)rs=en[--tn],en[tn]=null,$n=en[--tn],en[tn]=null,In=en[--tn],en[tn]=null}var Ht=null,Ut=null,Ke=!1,hn=null;function Cy(e,t){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Ut=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rs!==null?{id:In,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Ut=null,!0):!1;default:return!1}}function Hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wu(e){if(Ke){var t=Ut;if(t){var n=t;if(!Lm(e,t)){if(Hu(e))throw Error(Z(418));t=yr(n.nextSibling);var r=Ht;t&&Lm(e,t)?Cy(r,n):(e.flags=e.flags&-4097|2,Ke=!1,Ht=e)}}else{if(Hu(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Ke=!1,Ht=e}}}function Fm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function ai(e){if(e!==Ht)return!1;if(!Ke)return Fm(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vu(e.type,e.memoizedProps)),t&&(t=Ut)){if(Hu(e))throw Ey(),Error(Z(418));for(;t;)Cy(e,t),t=yr(t.nextSibling)}if(Fm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Ht?yr(e.stateNode.nextSibling):null;return!0}function Ey(){for(var e=Ut;e;)e=yr(e.nextSibling)}function qs(){Ut=Ht=null,Ke=!1}function jf(e){hn===null?hn=[e]:hn.push(e)}var Ok=Xn.ReactCurrentBatchConfig;function vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function ii(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Am(e){var t=e._init;return t(e._payload)}function Py(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=wr(v,g),v.index=0,v.sibling=null,v}function o(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,y,k){return g===null||g.tag!==6?(g=Xc(y,v.mode,k),g.return=v,g):(g=s(g,y),g.return=v,g)}function c(v,g,y,k){var S=y.type;return S===xs?d(v,g,y.props.children,k,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nr&&Am(S)===g.type)?(k=s(g,y.props),k.ref=vo(v,g,y),k.return=v,k):(k=Oi(y.type,y.key,y.props,null,v.mode,k),k.ref=vo(v,g,y),k.return=v,k)}function u(v,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Jc(y,v.mode,k),g.return=v,g):(g=s(g,y.children||[]),g.return=v,g)}function d(v,g,y,k,S){return g===null||g.tag!==7?(g=Zr(y,v.mode,k,S),g.return=v,g):(g=s(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xc(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xa:return y=Oi(g.type,g.key,g.props,null,v.mode,y),y.ref=vo(v,null,g),y.return=v,y;case vs:return g=Jc(g,v.mode,y),g.return=v,g;case nr:var k=g._init;return f(v,k(g._payload),y)}if(No(g)||ho(g))return g=Zr(g,v.mode,y,null),g.return=v,g;ii(v,g)}return null}function h(v,g,y,k){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(v,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return y.key===S?c(v,g,y,k):null;case vs:return y.key===S?u(v,g,y,k):null;case nr:return S=y._init,h(v,g,S(y._payload),k)}if(No(y)||ho(y))return S!==null?null:d(v,g,y,k,null);ii(v,y)}return null}function m(v,g,y,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(y)||null,l(g,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xa:return v=v.get(k.key===null?y:k.key)||null,c(g,v,k,S);case vs:return v=v.get(k.key===null?y:k.key)||null,u(g,v,k,S);case nr:var C=k._init;return m(v,g,y,C(k._payload),S)}if(No(k)||ho(k))return v=v.get(y)||null,d(g,v,k,S,null);ii(g,k)}return null}function p(v,g,y,k){for(var S=null,C=null,N=g,j=g=0,P=null;N!==null&&j<y.length;j++){N.index>j?(P=N,N=null):P=N.sibling;var D=h(v,N,y[j],k);if(D===null){N===null&&(N=P);break}e&&N&&D.alternate===null&&t(v,N),g=o(D,g,j),C===null?S=D:C.sibling=D,C=D,N=P}if(j===y.length)return n(v,N),Ke&&$r(v,j),S;if(N===null){for(;j<y.length;j++)N=f(v,y[j],k),N!==null&&(g=o(N,g,j),C===null?S=N:C.sibling=N,C=N);return Ke&&$r(v,j),S}for(N=r(v,N);j<y.length;j++)P=m(N,v,j,y[j],k),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?j:P.key),g=o(P,g,j),C===null?S=P:C.sibling=P,C=P);return e&&N.forEach(function($){return t(v,$)}),Ke&&$r(v,j),S}function x(v,g,y,k){var S=ho(y);if(typeof S!="function")throw Error(Z(150));if(y=S.call(y),y==null)throw Error(Z(151));for(var C=S=null,N=g,j=g=0,P=null,D=y.next();N!==null&&!D.done;j++,D=y.next()){N.index>j?(P=N,N=null):P=N.sibling;var $=h(v,N,D.value,k);if($===null){N===null&&(N=P);break}e&&N&&$.alternate===null&&t(v,N),g=o($,g,j),C===null?S=$:C.sibling=$,C=$,N=P}if(D.done)return n(v,N),Ke&&$r(v,j),S;if(N===null){for(;!D.done;j++,D=y.next())D=f(v,D.value,k),D!==null&&(g=o(D,g,j),C===null?S=D:C.sibling=D,C=D);return Ke&&$r(v,j),S}for(N=r(v,N);!D.done;j++,D=y.next())D=m(N,v,j,D.value,k),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?j:D.key),g=o(D,g,j),C===null?S=D:C.sibling=D,C=D);return e&&N.forEach(function(_){return t(v,_)}),Ke&&$r(v,j),S}function b(v,g,y,k){if(typeof y=="object"&&y!==null&&y.type===xs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:e:{for(var S=y.key,C=g;C!==null;){if(C.key===S){if(S=y.type,S===xs){if(C.tag===7){n(v,C.sibling),g=s(C,y.props.children),g.return=v,v=g;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nr&&Am(S)===C.type){n(v,C.sibling),g=s(C,y.props),g.ref=vo(v,C,y),g.return=v,v=g;break e}n(v,C);break}else t(v,C);C=C.sibling}y.type===xs?(g=Zr(y.props.children,v.mode,k,y.key),g.return=v,v=g):(k=Oi(y.type,y.key,y.props,null,v.mode,k),k.ref=vo(v,g,y),k.return=v,v=k)}return a(v);case vs:e:{for(C=y.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=s(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=Jc(y,v.mode,k),g.return=v,v=g}return a(v);case nr:return C=y._init,b(v,g,C(y._payload),k)}if(No(y))return p(v,g,y,k);if(ho(y))return x(v,g,y,k);ii(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,y),g.return=v,v=g):(n(v,g),g=Xc(y,v.mode,k),g.return=v,v=g),a(v)):n(v,g)}return b}var Qs=Py(!0),Ty=Py(!1),nl=Lr(null),rl=null,Es=null,Nf=null;function Cf(){Nf=Es=rl=null}function Ef(e){var t=nl.current;We(nl),e._currentValue=t}function Ku(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vs(e,t){rl=e,Nf=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(Nf!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(rl===null)throw Error(Z(308));Es=e,rl.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Kr=null;function Pf(e){Kr===null?Kr=[e]:Kr.push(e)}function My(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rr=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kn(e,n)}return s=r.interleaved,s===null?(t.next=t,Pf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kn(e,n)}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mf(e,n)}}function Dm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sl(e,t,n,r){var s=e.updateQueue;rr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Ze({},f,h);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);os|=a,e.lanes=a,e.memoizedState=f}}function _m(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var Ma={},Rn=Lr(Ma),aa=Lr(Ma),ia=Lr(Ma);function qr(e){if(e===Ma)throw Error(Z(174));return e}function Mf(e,t){switch(Ue(ia,t),Ue(aa,e),Ue(Rn,Ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cu(t,e)}We(Rn),Ue(Rn,t)}function Gs(){We(Rn),We(aa),We(ia)}function Ry(e){qr(ia.current);var t=qr(Rn.current),n=Cu(t,e.type);t!==n&&(Ue(aa,e),Ue(Rn,n))}function Of(e){aa.current===e&&(We(Rn),We(aa))}var Ge=Lr(0);function ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hc=[];function Rf(){for(var e=0;e<Hc.length;e++)Hc[e]._workInProgressVersionPrimary=null;Hc.length=0}var Ci=Xn.ReactCurrentDispatcher,Wc=Xn.ReactCurrentBatchConfig,ss=0,Ye=null,dt=null,ht=null,al=!1,_o=!1,la=0,Rk=0;function xt(){throw Error(Z(321))}function Lf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Ff(e,t,n,r,s,o){if(ss=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?Dk:_k,e=n(r,s),_o){o=0;do{if(_o=!1,la=0,25<=o)throw Error(Z(301));o+=1,ht=dt=null,t.updateQueue=null,Ci.current=Ik,e=n(r,s)}while(_o)}if(Ci.current=il,t=dt!==null&&dt.next!==null,ss=0,ht=dt=Ye=null,al=!1,t)throw Error(Z(300));return e}function Af(){var e=la!==0;return la=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ye.memoizedState=ht=e:ht=ht.next=e,ht}function an(){if(dt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=ht===null?Ye.memoizedState:ht.next;if(t!==null)ht=t,dt=e;else{if(e===null)throw Error(Z(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},ht===null?Ye.memoizedState=ht=e:ht=ht.next=e}return ht}function ca(e,t){return typeof t=="function"?t(e):t}function Kc(e){var t=an(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=dt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((ss&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ye.lanes|=d,os|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,xn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ye.lanes|=o,os|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qc(e){var t=an(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);xn(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ly(){}function Fy(e,t){var n=Ye,r=an(),s=t(),o=!xn(r.memoizedState,s);if(o&&(r.memoizedState=s,Ft=!0),r=r.queue,Df(_y.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ua(9,Dy.bind(null,n,r,s,t),void 0,null),mt===null)throw Error(Z(349));ss&30||Ay(n,t,s)}return s}function Ay(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dy(e,t,n,r){t.value=n,t.getSnapshot=r,Iy(t)&&$y(e)}function _y(e,t,n){return n(function(){Iy(t)&&$y(e)})}function Iy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function $y(e){var t=Kn(e,1);t!==null&&pn(t,e,1,-1)}function Im(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t.queue=e,e=e.dispatch=Ak.bind(null,Ye,e),[t.memoizedState,e]}function ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vy(){return an().memoizedState}function Ei(e,t,n,r){var s=En();Ye.flags|=e,s.memoizedState=ua(1|t,n,void 0,r===void 0?null:r)}function Bl(e,t,n,r){var s=an();r=r===void 0?null:r;var o=void 0;if(dt!==null){var a=dt.memoizedState;if(o=a.destroy,r!==null&&Lf(r,a.deps)){s.memoizedState=ua(t,n,o,r);return}}Ye.flags|=e,s.memoizedState=ua(1|t,n,o,r)}function $m(e,t){return Ei(8390656,8,e,t)}function Df(e,t){return Bl(2048,8,e,t)}function zy(e,t){return Bl(4,2,e,t)}function Uy(e,t){return Bl(4,4,e,t)}function By(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hy(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4,4,By.bind(null,t,e),n)}function _f(){}function Wy(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ky(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qy(e,t,n){return ss&21?(xn(n,t)||(n=Y0(),Ye.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function Lk(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=Wc.transition;Wc.transition={};try{e(!1),t()}finally{ze=n,Wc.transition=r}}function Qy(){return an().memoizedState}function Fk(e,t,n){var r=br(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gy(e))Xy(t,n);else if(n=My(e,t,n,r),n!==null){var s=Mt();pn(n,e,r,s),Jy(n,t,r)}}function Ak(e,t,n){var r=br(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gy(e))Xy(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,xn(l,a)){var c=t.interleaved;c===null?(s.next=s,Pf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=My(e,t,s,r),n!==null&&(s=Mt(),pn(n,e,r,s),Jy(n,t,r))}}function Gy(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Xy(e,t){_o=al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mf(e,n)}}var il={readContext:on,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Dk={readContext:on,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:$m,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4194308,4,By.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fk.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:Im,useDebugValue:_f,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=Im(!1),t=e[0];return e=Lk.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,s=En();if(Ke){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),mt===null)throw Error(Z(349));ss&30||Ay(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,$m(_y.bind(null,r,o,e),[e]),r.flags|=2048,ua(9,Dy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=En(),t=mt.identifierPrefix;if(Ke){var n=$n,r=In;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=la++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_k={readContext:on,useCallback:Wy,useContext:on,useEffect:Df,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:Uy,useMemo:Ky,useReducer:Kc,useRef:Vy,useState:function(){return Kc(ca)},useDebugValue:_f,useDeferredValue:function(e){var t=an();return qy(t,dt.memoizedState,e)},useTransition:function(){var e=Kc(ca)[0],t=an().memoizedState;return[e,t]},useMutableSource:Ly,useSyncExternalStore:Fy,useId:Qy,unstable_isNewReconciler:!1},Ik={readContext:on,useCallback:Wy,useContext:on,useEffect:Df,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:Uy,useMemo:Ky,useReducer:qc,useRef:Vy,useState:function(){return qc(ca)},useDebugValue:_f,useDeferredValue:function(e){var t=an();return dt===null?t.memoizedState=e:qy(t,dt.memoizedState,e)},useTransition:function(){var e=qc(ca)[0],t=an().memoizedState;return[e,t]},useMutableSource:Ly,useSyncExternalStore:Fy,useId:Qy,unstable_isNewReconciler:!1};function un(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=br(e),o=zn(r,s);o.payload=t,n!=null&&(o.callback=n),t=vr(e,o,s),t!==null&&(pn(t,e,s,r),Ni(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=br(e),o=zn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=vr(e,o,s),t!==null&&(pn(t,e,s,r),Ni(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=br(e),s=zn(n,r);s.tag=2,t!=null&&(s.callback=t),t=vr(e,s,r),t!==null&&(pn(t,e,r,n),Ni(t,e,r))}};function Vm(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!na(n,r)||!na(s,o):!0}function Yy(e,t,n){var r=!1,s=Pr,o=t.contextType;return typeof o=="object"&&o!==null?o=on(o):(s=Dt(t)?ns:Nt.current,r=t.contextTypes,o=(r=r!=null)?Ks(e,s):Pr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function zm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function Qu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Tf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=on(o):(o=Dt(t)?ns:Nt.current,s.context=Ks(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qu(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hl.enqueueReplaceState(s,s.state,null),sl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xs(e,t){try{var n="",r=t;do n+=fw(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Qc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $k=typeof WeakMap=="function"?WeakMap:Map;function Zy(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cl||(cl=!0,od=r),Gu(e,t)},n}function ev(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Gu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gu(e,t),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Um(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $k;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Zk.bind(null,e,t,n),t.then(e,e))}function Bm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,vr(n,t,1))),n.lanes|=1),e)}var Vk=Xn.ReactCurrentOwner,Ft=!1;function Pt(e,t,n,r){t.child=e===null?Ty(t,null,n,r):Qs(t,e.child,n,r)}function Wm(e,t,n,r,s){n=n.render;var o=t.ref;return Vs(t,s),r=Ff(e,t,n,r,o,s),n=Af(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qn(e,t,s)):(Ke&&n&&kf(t),t.flags|=1,Pt(e,t,r,s),t.child)}function Km(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Wf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,tv(e,t,o,r,s)):(e=Oi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(a,r)&&e.ref===t.ref)return qn(e,t,s)}return t.flags|=1,e=wr(o,r),e.ref=t.ref,e.return=t,t.child=e}function tv(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(na(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,qn(e,t,s)}return Xu(e,t,n,r,s)}function nv(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ts,zt),zt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Ts,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(Ts,zt),zt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ue(Ts,zt),zt|=r;return Pt(e,t,s,n),t.child}function rv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xu(e,t,n,r,s){var o=Dt(n)?ns:Nt.current;return o=Ks(t,o),Vs(t,s),n=Ff(e,t,n,r,o,s),r=Af(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qn(e,t,s)):(Ke&&r&&kf(t),t.flags|=1,Pt(e,t,n,s),t.child)}function qm(e,t,n,r,s){if(Dt(n)){var o=!0;Zi(t)}else o=!1;if(Vs(t,s),t.stateNode===null)Pi(e,t),Yy(t,n,r),Qu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Dt(n)?ns:Nt.current,u=Ks(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&zm(t,a,r,u),rr=!1;var h=t.memoizedState;a.state=h,sl(t,r,a,s),c=t.memoizedState,l!==r||h!==c||At.current||rr?(typeof d=="function"&&(qu(t,n,d,r),c=t.memoizedState),(l=rr||Vm(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:un(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=on(c):(c=Dt(n)?ns:Nt.current,c=Ks(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&zm(t,a,r,c),rr=!1,h=t.memoizedState,a.state=h,sl(t,r,a,s);var p=t.memoizedState;l!==f||h!==p||At.current||rr?(typeof m=="function"&&(qu(t,n,m,r),p=t.memoizedState),(u=rr||Vm(t,n,u,r,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ju(e,t,n,r,o,s)}function Ju(e,t,n,r,s,o){rv(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Rm(t,n,!1),qn(e,t,o);r=t.stateNode,Vk.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Qs(t,e.child,null,o),t.child=Qs(t,null,l,o)):Pt(e,t,l,o),t.memoizedState=r.state,s&&Rm(t,n,!0),t.child}function sv(e){var t=e.stateNode;t.pendingContext?Om(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Om(e,t.context,!1),Mf(e,t.containerInfo)}function Qm(e,t,n,r,s){return qs(),jf(s),t.flags|=256,Pt(e,t,n,r),t.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ov(e,t,n){var r=t.pendingProps,s=Ge.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ue(Ge,s&1),e===null)return Wu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ql(a,r,0,null),e=Zr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zu(n),t.memoizedState=Yu,e):If(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zk(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=wr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=wr(l,o):(o=Zr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Zu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Yu,r}return o=e.child,e=o.sibling,r=wr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function If(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,n,r){return r!==null&&jf(r),Qs(t,e.child,null,n),e=If(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zk(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Qc(Error(Z(422))),li(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=ql({mode:"visible",children:r.children},s,0,null),o=Zr(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Qs(t,e.child,null,a),t.child.memoizedState=Zu(a),t.memoizedState=Yu,o);if(!(t.mode&1))return li(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Z(419)),r=Qc(o,r,void 0),li(e,t,a,r)}if(l=(a&e.childLanes)!==0,Ft||l){if(r=mt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kn(e,s),pn(r,e,s,-1))}return Hf(),r=Qc(Error(Z(421))),li(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=eS.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ut=yr(s.nextSibling),Ht=t,Ke=!0,hn=null,e!==null&&(en[tn++]=In,en[tn++]=$n,en[tn++]=rs,In=e.id,$n=e.overflow,rs=t),t=If(t,r.children),t.flags|=4096,t)}function Gm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ku(e.return,t,n)}function Gc(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function av(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gm(e,n,t);else if(e.tag===19)Gm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ol(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ol(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gc(t,!0,n,null,o);break;case"together":Gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uk(e,t,n){switch(t.tag){case 3:sv(t),qs();break;case 5:Ry(t);break;case 1:Dt(t.type)&&Zi(t);break;case 4:Mf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ue(nl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?ov(e,t,n):(Ue(Ge,Ge.current&1),e=qn(e,t,n),e!==null?e.sibling:null);Ue(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return av(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,nv(e,t,n)}return qn(e,t,n)}var iv,ed,lv,cv;iv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ed=function(){};lv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qr(Rn.current);var o=null;switch(n){case"input":s=ku(e,s),r=ku(e,r),o=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),o=[];break;case"textarea":s=Nu(e,s),r=Nu(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ji)}Eu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Go.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Go.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};cv=function(e,t,n,r){n!==r&&(t.flags|=4)};function xo(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bk(e,t,n){var r=t.pendingProps;switch(Sf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Dt(t.type)&&Yi(),bt(t),null;case 3:return r=t.stateNode,Gs(),We(At),We(Nt),Rf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(ld(hn),hn=null))),ed(e,t),bt(t),null;case 5:Of(t);var s=qr(ia.current);if(n=t.type,e!==null&&t.stateNode!=null)lv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return bt(t),null}if(e=qr(Rn.current),ai(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Pn]=t,r[oa]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Eo.length;s++)He(Eo[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":sm(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":am(r,o),He("invalid",r)}Eu(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&oi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&oi(r.textContent,l,e),s=["children",""+l]):Go.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":Ja(r),om(r,o,!0);break;case"textarea":Ja(r),im(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ji)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Pn]=t,e[oa]=r,iv(e,t,!1,!1),t.stateNode=e;e:{switch(a=Pu(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<Eo.length;s++)He(Eo[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":sm(e,r),s=ku(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),He("invalid",e);break;case"textarea":am(e,r),s=Nu(e,r),He("invalid",e);break;default:s=r}Eu(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?V0(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I0(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xo(e,c):typeof c=="number"&&Xo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Go.hasOwnProperty(o)?c!=null&&o==="onScroll"&&He("scroll",e):c!=null&&lf(e,o,c,a))}switch(n){case"input":Ja(e),om(e,r,!1);break;case"textarea":Ja(e),im(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ds(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ds(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)cv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=qr(ia.current),qr(Rn.current),ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pn]=t,(o=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r}return bt(t),null;case 13:if(We(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Ut!==null&&t.mode&1&&!(t.flags&128))Ey(),qs(),t.flags|=98560,o=!1;else if(o=ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Pn]=t}else qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),o=!1}else hn!==null&&(ld(hn),hn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?ft===0&&(ft=3):Hf())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return Gs(),ed(e,t),e===null&&ra(t.stateNode.containerInfo),bt(t),null;case 10:return Ef(t.type._context),bt(t),null;case 17:return Dt(t.type)&&Yi(),bt(t),null;case 19:if(We(Ge),o=t.memoizedState,o===null)return bt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)xo(o,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ol(e),a!==null){for(t.flags|=128,xo(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&rt()>Js&&(t.flags|=128,r=!0,xo(o,!1),t.lanes=4194304)}else{if(!r)if(e=ol(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return bt(t),null}else 2*rt()-o.renderingStartTime>Js&&n!==1073741824&&(t.flags|=128,r=!0,xo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rt(),t.sibling=null,n=Ge.current,Ue(Ge,r?n&1|2:n&1),t):(bt(t),null);case 22:case 23:return Bf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function Hk(e,t){switch(Sf(t),t.tag){case 1:return Dt(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),We(At),We(Nt),Rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Of(t),null;case 13:if(We(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ge),null;case 4:return Gs(),null;case 10:return Ef(t.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var ci=!1,St=!1,Wk=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function td(e,t,n){try{n()}catch(r){tt(e,t,r)}}var Xm=!1;function Kk(e,t){if(Iu=Qi,e=my(),wf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:e,selectionRange:n},Qi=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,b=p.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:un(t.type,x),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(k){tt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return p=Xm,Xm=!1,p}function Io(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&td(t,n,o)}s=s.next}while(s!==r)}}function Wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uv(e){var t=e.alternate;t!==null&&(e.alternate=null,uv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[oa],delete t[Uu],delete t[Pk],delete t[Tk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dv(e){return e.tag===5||e.tag===3||e.tag===4}function Jm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ji));else if(r!==4&&(e=e.child,e!==null))for(rd(e,t,n),e=e.sibling;e!==null;)rd(e,t,n),e=e.sibling}function sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sd(e,t,n),e=e.sibling;e!==null;)sd(e,t,n),e=e.sibling}var pt=null,fn=!1;function er(e,t,n){for(n=n.child;n!==null;)fv(e,t,n),n=n.sibling}function fv(e,t,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:St||Ps(n,t);case 6:var r=pt,s=fn;pt=null,er(e,t,n),pt=r,fn=s,pt!==null&&(fn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(fn?(e=pt,n=n.stateNode,e.nodeType===8?Uc(e.parentNode,n):e.nodeType===1&&Uc(e,n),ea(e)):Uc(pt,n.stateNode));break;case 4:r=pt,s=fn,pt=n.stateNode.containerInfo,fn=!0,er(e,t,n),pt=r,fn=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&td(n,t,a),s=s.next}while(s!==r)}er(e,t,n);break;case 1:if(!St&&(Ps(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tt(n,t,l)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,er(e,t,n),St=r):er(e,t,n);break;default:er(e,t,n)}}function Ym(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wk),t.forEach(function(r){var s=tS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,fn=!1;break e;case 3:pt=l.stateNode.containerInfo,fn=!0;break e;case 4:pt=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if(pt===null)throw Error(Z(160));fv(o,a,s),pt=null,fn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){tt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hv(t,e),t=t.sibling}function hv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),Nn(e),r&4){try{Io(3,e,e.return),Wl(3,e)}catch(x){tt(e,e.return,x)}try{Io(5,e,e.return)}catch(x){tt(e,e.return,x)}}break;case 1:cn(t,e),Nn(e),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(cn(t,e),Nn(e),r&512&&n!==null&&Ps(n,n.return),e.flags&32){var s=e.stateNode;try{Xo(s,"")}catch(x){tt(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&A0(s,o),Pu(l,a);var u=Pu(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?V0(s,f):d==="dangerouslySetInnerHTML"?I0(s,f):d==="children"?Xo(s,f):lf(s,d,f,u)}switch(l){case"input":Su(s,o);break;case"textarea":D0(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ds(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ds(s,!!o.multiple,o.defaultValue,!0):Ds(s,!!o.multiple,o.multiple?[]:"",!1))}s[oa]=o}catch(x){tt(e,e.return,x)}}break;case 6:if(cn(t,e),Nn(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){tt(e,e.return,x)}}break;case 3:if(cn(t,e),Nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ea(t.containerInfo)}catch(x){tt(e,e.return,x)}break;case 4:cn(t,e),Nn(e);break;case 13:cn(t,e),Nn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(zf=rt())),r&4&&Ym(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||d,cn(t,e),St=u):cn(t,e),Nn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:Io(4,h,h.return);break;case 1:Ps(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){tt(r,n,x)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){ep(f);continue}}m!==null?(m.return=h,ce=m):ep(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$0("display",a))}catch(x){tt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){tt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cn(t,e),Nn(e),r&4&&Ym(e);break;case 21:break;default:cn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dv(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xo(s,""),r.flags&=-33);var o=Jm(e);sd(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Jm(e);rd(e,l,a);break;default:throw Error(Z(161))}}catch(c){tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qk(e,t,n){ce=e,mv(e)}function mv(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var s=ce,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ci;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||St;l=ci;var u=St;if(ci=a,(St=c)&&!u)for(ce=s;ce!==null;)a=ce,c=a.child,a.tag===22&&a.memoizedState!==null?tp(s):c!==null?(c.return=a,ce=c):tp(s);for(;o!==null;)ce=o,mv(o),o=o.sibling;ce=s,ci=l,St=u}Zm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ce=o):Zm(e)}}function Zm(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||Wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:un(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_m(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_m(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ea(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}St||t.flags&512&&nd(t)}catch(h){tt(t,t.return,h)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function ep(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function tp(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wl(4,t)}catch(c){tt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){tt(t,s,c)}}var o=t.return;try{nd(t)}catch(c){tt(t,o,c)}break;case 5:var a=t.return;try{nd(t)}catch(c){tt(t,a,c)}}}catch(c){tt(t,t.return,c)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var Qk=Math.ceil,ll=Xn.ReactCurrentDispatcher,$f=Xn.ReactCurrentOwner,sn=Xn.ReactCurrentBatchConfig,De=0,mt=null,at=null,gt=0,zt=0,Ts=Lr(0),ft=0,da=null,os=0,Kl=0,Vf=0,$o=null,Lt=null,zf=0,Js=1/0,Dn=null,cl=!1,od=null,xr=null,ui=!1,ur=null,ul=0,Vo=0,ad=null,Ti=-1,Mi=0;function Mt(){return De&6?rt():Ti!==-1?Ti:Ti=rt()}function br(e){return e.mode&1?De&2&&gt!==0?gt&-gt:Ok.transition!==null?(Mi===0&&(Mi=Y0()),Mi):(e=ze,e!==0||(e=window.event,e=e===void 0?16:oy(e.type)),e):1}function pn(e,t,n,r){if(50<Vo)throw Vo=0,ad=null,Error(Z(185));Ea(e,n,r),(!(De&2)||e!==mt)&&(e===mt&&(!(De&2)&&(Kl|=n),ft===4&&ir(e,gt)),_t(e,r),n===1&&De===0&&!(t.mode&1)&&(Js=rt()+500,Ul&&Fr()))}function _t(e,t){var n=e.callbackNode;Ow(e,t);var r=qi(e,e===mt?gt:0);if(r===0)n!==null&&um(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&um(n),t===1)e.tag===0?Mk(np.bind(null,e)):jy(np.bind(null,e)),Ck(function(){!(De&6)&&Fr()}),n=null;else{switch(Z0(r)){case 1:n=hf;break;case 4:n=X0;break;case 16:n=Ki;break;case 536870912:n=J0;break;default:n=Ki}n=kv(n,pv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pv(e,t){if(Ti=-1,Mi=0,De&6)throw Error(Z(327));var n=e.callbackNode;if(zs()&&e.callbackNode!==n)return null;var r=qi(e,e===mt?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dl(e,r);else{t=r;var s=De;De|=2;var o=yv();(mt!==e||gt!==t)&&(Dn=null,Js=rt()+500,Yr(e,t));do try{Jk();break}catch(l){gv(e,l)}while(1);Cf(),ll.current=o,De=s,at!==null?t=0:(mt=null,gt=0,t=ft)}if(t!==0){if(t===2&&(s=Lu(e),s!==0&&(r=s,t=id(e,s))),t===1)throw n=da,Yr(e,0),ir(e,r),_t(e,rt()),n;if(t===6)ir(e,r);else{if(s=e.current.alternate,!(r&30)&&!Gk(s)&&(t=dl(e,r),t===2&&(o=Lu(e),o!==0&&(r=o,t=id(e,o))),t===1))throw n=da,Yr(e,0),ir(e,r),_t(e,rt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Vr(e,Lt,Dn);break;case 3:if(ir(e,r),(r&130023424)===r&&(t=zf+500-rt(),10<t)){if(qi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zu(Vr.bind(null,e,Lt,Dn),t);break}Vr(e,Lt,Dn);break;case 4:if(ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-mn(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qk(r/1960))-r,10<r){e.timeoutHandle=zu(Vr.bind(null,e,Lt,Dn),r);break}Vr(e,Lt,Dn);break;case 5:Vr(e,Lt,Dn);break;default:throw Error(Z(329))}}}return _t(e,rt()),e.callbackNode===n?pv.bind(null,e):null}function id(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=dl(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&ld(t)),e}function ld(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function Gk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!xn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Vf,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function np(e){if(De&6)throw Error(Z(327));zs();var t=qi(e,0);if(!(t&1))return _t(e,rt()),null;var n=dl(e,t);if(e.tag!==0&&n===2){var r=Lu(e);r!==0&&(t=r,n=id(e,r))}if(n===1)throw n=da,Yr(e,0),ir(e,t),_t(e,rt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,Lt,Dn),_t(e,rt()),null}function Uf(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Js=rt()+500,Ul&&Fr())}}function as(e){ur!==null&&ur.tag===0&&!(De&6)&&zs();var t=De;De|=1;var n=sn.transition,r=ze;try{if(sn.transition=null,ze=1,e)return e()}finally{ze=r,sn.transition=n,De=t,!(De&6)&&Fr()}}function Bf(){zt=Ts.current,We(Ts)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nk(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Sf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yi();break;case 3:Gs(),We(At),We(Nt),Rf();break;case 5:Of(r);break;case 4:Gs();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Ef(r.type._context);break;case 22:case 23:Bf()}n=n.return}if(mt=e,at=e=wr(e.current,null),gt=zt=t,ft=0,da=null,Vf=Kl=os=0,Lt=$o=null,Kr!==null){for(t=0;t<Kr.length;t++)if(n=Kr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Kr=null}return e}function gv(e,t){do{var n=at;try{if(Cf(),Ci.current=il,al){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}al=!1}if(ss=0,ht=dt=Ye=null,_o=!1,la=0,$f.current=null,n===null||n.return===null){ft=1,da=t,at=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Bm(a);if(m!==null){m.flags&=-257,Hm(m,a,l,o,t),m.mode&1&&Um(o,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Um(o,u,t),Hf();break e}c=Error(Z(426))}}else if(Ke&&l.mode&1){var b=Bm(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hm(b,a,l,o,t),jf(Xs(c,l));break e}}o=c=Xs(c,l),ft!==4&&(ft=2),$o===null?$o=[o]:$o.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Zy(o,c,t);Dm(o,v);break e;case 1:l=c;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=ev(o,l,t);Dm(o,k);break e}}o=o.return}while(o!==null)}xv(n)}catch(S){t=S,at===n&&n!==null&&(at=n=n.return);continue}break}while(1)}function yv(){var e=ll.current;return ll.current=il,e===null?il:e}function Hf(){(ft===0||ft===3||ft===2)&&(ft=4),mt===null||!(os&268435455)&&!(Kl&268435455)||ir(mt,gt)}function dl(e,t){var n=De;De|=2;var r=yv();(mt!==e||gt!==t)&&(Dn=null,Yr(e,t));do try{Xk();break}catch(s){gv(e,s)}while(1);if(Cf(),De=n,ll.current=r,at!==null)throw Error(Z(261));return mt=null,gt=0,ft}function Xk(){for(;at!==null;)vv(at)}function Jk(){for(;at!==null&&!kw();)vv(at)}function vv(e){var t=wv(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?xv(e):at=t,$f.current=null}function xv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hk(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,at=null;return}}else if(n=Bk(n,t,zt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ft===0&&(ft=5)}function Vr(e,t,n){var r=ze,s=sn.transition;try{sn.transition=null,ze=1,Yk(e,t,n,r)}finally{sn.transition=s,ze=r}return null}function Yk(e,t,n,r){do zs();while(ur!==null);if(De&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Rw(e,o),e===mt&&(at=mt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ui||(ui=!0,kv(Ki,function(){return zs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var a=ze;ze=1;var l=De;De|=4,$f.current=null,Kk(e,n),hv(n,e),vk($u),Qi=!!Iu,$u=Iu=null,e.current=n,qk(n),Sw(),De=l,ze=a,sn.transition=o}else e.current=n;if(ui&&(ui=!1,ur=e,ul=s),o=e.pendingLanes,o===0&&(xr=null),Cw(n.stateNode),_t(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cl)throw cl=!1,e=od,od=null,e;return ul&1&&e.tag!==0&&zs(),o=e.pendingLanes,o&1?e===ad?Vo++:(Vo=0,ad=e):Vo=0,Fr(),null}function zs(){if(ur!==null){var e=Z0(ul),t=sn.transition,n=ze;try{if(sn.transition=null,ze=16>e?16:e,ur===null)var r=!1;else{if(e=ur,ur=null,ul=0,De&6)throw Error(Z(331));var s=De;for(De|=4,ce=e.current;ce!==null;){var o=ce,a=o.child;if(ce.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Io(8,d,o)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,m=d.return;if(uv(d),d===u){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var p=o.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ce=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ce=a;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Io(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ce=v;break e}ce=o.return}}var g=e.current;for(ce=g;ce!==null;){a=ce;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,ce=y;else e:for(a=g;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wl(9,l)}}catch(S){tt(l,l.return,S)}if(l===a){ce=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ce=k;break e}ce=l.return}}if(De=s,Fr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(_l,e)}catch{}r=!0}return r}finally{ze=n,sn.transition=t}}return!1}function rp(e,t,n){t=Xs(n,t),t=Zy(e,t,1),e=vr(e,t,1),t=Mt(),e!==null&&(Ea(e,1,t),_t(e,t))}function tt(e,t,n){if(e.tag===3)rp(e,e,n);else for(;t!==null;){if(t.tag===3){rp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){e=Xs(n,e),e=ev(t,e,1),t=vr(t,e,1),e=Mt(),t!==null&&(Ea(t,1,e),_t(t,e));break}}t=t.return}}function Zk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(gt&n)===n&&(ft===4||ft===3&&(gt&130023424)===gt&&500>rt()-zf?Yr(e,0):Vf|=n),_t(e,t)}function bv(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=Mt();e=Kn(e,t),e!==null&&(Ea(e,t,n),_t(e,n))}function eS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bv(e,n)}function tS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),bv(e,n)}var wv;wv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,Uk(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,Ke&&t.flags&1048576&&Ny(t,tl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pi(e,t),e=t.pendingProps;var s=Ks(t,Nt.current);Vs(t,n),s=Ff(null,t,r,e,s,n);var o=Af();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(o=!0,Zi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tf(t),s.updater=Hl,t.stateNode=s,s._reactInternals=t,Qu(t,r,e,n),t=Ju(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&kf(t),Pt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=rS(r),e=un(r,e),s){case 0:t=Xu(null,t,r,e,n);break e;case 1:t=qm(null,t,r,e,n);break e;case 11:t=Wm(null,t,r,e,n);break e;case 14:t=Km(null,t,r,un(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),Xu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),qm(e,t,r,s,n);case 3:e:{if(sv(t),e===null)throw Error(Z(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Oy(e,t),sl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Xs(Error(Z(423)),t),t=Qm(e,t,r,n,s);break e}else if(r!==s){s=Xs(Error(Z(424)),t),t=Qm(e,t,r,n,s);break e}else for(Ut=yr(t.stateNode.containerInfo.firstChild),Ht=t,Ke=!0,hn=null,n=Ty(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),r===s){t=qn(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return Ry(t),e===null&&Wu(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Vu(r,s)?a=null:o!==null&&Vu(r,o)&&(t.flags|=32),rv(e,t),Pt(e,t,a,n),t.child;case 6:return e===null&&Wu(t),null;case 13:return ov(e,t,n);case 4:return Mf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qs(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),Wm(e,t,r,s,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ue(nl,r._currentValue),r._currentValue=a,o!==null)if(xn(o.value,a)){if(o.children===s.children&&!At.current){t=qn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=zn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ku(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Z(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ku(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Pt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vs(t,n),s=on(s),r=r(s),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,s=un(r,t.pendingProps),s=un(r.type,s),Km(e,t,r,s,n);case 15:return tv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:un(r,s),Pi(e,t),t.tag=1,Dt(r)?(e=!0,Zi(t)):e=!1,Vs(t,n),Yy(t,r,s),Qu(t,r,s,n),Ju(null,t,r,!0,e,n);case 19:return av(e,t,n);case 22:return nv(e,t,n)}throw Error(Z(156,t.tag))};function kv(e,t){return G0(e,t)}function nS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,n,r){return new nS(e,t,n,r)}function Wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rS(e){if(typeof e=="function")return Wf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uf)return 11;if(e===df)return 14}return 2}function wr(e,t){var n=e.alternate;return n===null?(n=nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oi(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Wf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case xs:return Zr(n.children,s,o,t);case cf:a=8,s|=8;break;case vu:return e=nn(12,n,t,s|2),e.elementType=vu,e.lanes=o,e;case xu:return e=nn(13,n,t,s),e.elementType=xu,e.lanes=o,e;case bu:return e=nn(19,n,t,s),e.elementType=bu,e.lanes=o,e;case R0:return ql(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M0:a=10;break e;case O0:a=9;break e;case uf:a=11;break e;case df:a=14;break e;case nr:a=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=nn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Zr(e,t,n,r){return e=nn(7,e,r,t),e.lanes=n,e}function ql(e,t,n,r){return e=nn(22,e,r,t),e.elementType=R0,e.lanes=n,e.stateNode={isHidden:!1},e}function Xc(e,t,n){return e=nn(6,e,null,t),e.lanes=n,e}function Jc(e,t,n){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kf(e,t,n,r,s,o,a,l,c){return e=new sS(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=nn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(o),e}function oS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sv(e){if(!e)return Pr;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Dt(n))return Sy(e,n,t)}return t}function jv(e,t,n,r,s,o,a,l,c){return e=Kf(n,r,!0,e,s,o,a,l,c),e.context=Sv(null),n=e.current,r=Mt(),s=br(n),o=zn(r,s),o.callback=t??null,vr(n,o,s),e.current.lanes=s,Ea(e,s,r),_t(e,r),e}function Ql(e,t,n,r){var s=t.current,o=Mt(),a=br(s);return n=Sv(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vr(s,t,a),e!==null&&(pn(e,s,a,o),Ni(e,s,a)),a}function fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qf(e,t){sp(e,t),(e=e.alternate)&&sp(e,t)}function aS(){return null}var Nv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qf(e){this._internalRoot=e}Gl.prototype.render=Qf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Ql(e,t,null,null)};Gl.prototype.unmount=Qf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){Ql(null,e,null,null)}),t[Wn]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ny();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ar.length&&t!==0&&t<ar[n].priority;n++);ar.splice(n,0,e),n===0&&sy(e)}};function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function op(){}function iS(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=fl(a);o.call(u)}}var a=jv(t,r,e,0,null,!1,!1,"",op);return e._reactRootContainer=a,e[Wn]=a.current,ra(e.nodeType===8?e.parentNode:e),as(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=fl(c);l.call(u)}}var c=Kf(e,0,!1,null,null,!1,!1,"",op);return e._reactRootContainer=c,e[Wn]=c.current,ra(e.nodeType===8?e.parentNode:e),as(function(){Ql(t,c,n,r)}),c}function Jl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=fl(a);l.call(c)}}Ql(t,a,e,s)}else a=iS(n,t,e,s,r);return fl(a)}ey=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Co(t.pendingLanes);n!==0&&(mf(t,n|1),_t(t,rt()),!(De&6)&&(Js=rt()+500,Fr()))}break;case 13:as(function(){var r=Kn(e,1);if(r!==null){var s=Mt();pn(r,e,1,s)}}),qf(e,1)}};pf=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var n=Mt();pn(t,e,134217728,n)}qf(e,134217728)}};ty=function(e){if(e.tag===13){var t=br(e),n=Kn(e,t);if(n!==null){var r=Mt();pn(n,e,t,r)}qf(e,t)}};ny=function(){return ze};ry=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}};Mu=function(e,t,n){switch(t){case"input":if(Su(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zl(r);if(!s)throw Error(Z(90));F0(r),Su(r,s)}}}break;case"textarea":D0(e,n);break;case"select":t=n.value,t!=null&&Ds(e,!!n.multiple,t,!1)}};B0=Uf;H0=as;var lS={usingClientEntryPoint:!1,Events:[Ta,Ss,zl,z0,U0,Uf]},bo={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cS={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q0(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||aS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{_l=di.inject(cS),On=di}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(t))throw Error(Z(200));return oS(e,t,null,n)};qt.createRoot=function(e,t){if(!Gf(e))throw Error(Z(299));var n=!1,r="",s=Nv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kf(e,1,!1,null,null,n,!1,r,s),e[Wn]=t.current,ra(e.nodeType===8?e.parentNode:e),new Qf(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=q0(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return as(e)};qt.hydrate=function(e,t,n){if(!Xl(t))throw Error(Z(200));return Jl(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!Gf(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Nv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=jv(t,null,e,1,n??null,s,!1,o,a),e[Wn]=t.current,ra(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gl(t)};qt.render=function(e,t,n){if(!Xl(t))throw Error(Z(200));return Jl(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(Z(40));return e._reactRootContainer?(as(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};qt.unstable_batchedUpdates=Uf;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Jl(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function Cv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cv)}catch(e){console.error(e)}}Cv(),C0.exports=qt;var Ev=C0.exports,ap=Ev;gu.createRoot=ap.createRoot,gu.hydrateRoot=ap.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(this,arguments)}var dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dr||(dr={}));const ip="popstate";function uS(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:l}=r.location;return cd("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hl(s)}return fS(t,n,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dS(){return Math.random().toString(36).substr(2,8)}function lp(e,t){return{usr:e.state,key:e.key,idx:t}}function cd(e,t,n,r){return n===void 0&&(n=null),fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oo(t):t,{state:n,key:t&&t.key||r||dS()})}function hl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fS(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=dr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(fa({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=dr.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:v})}function h(b,v){l=dr.Push;let g=cd(x.location,b,v);n&&n(g,b),u=d()+1;let y=lp(g,u),k=x.createHref(g);try{a.pushState(y,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}o&&c&&c({action:l,location:x.location,delta:1})}function m(b,v){l=dr.Replace;let g=cd(x.location,b,v);n&&n(g,b),u=d();let y=lp(g,u),k=x.createHref(g);a.replaceState(y,"",k),o&&c&&c({action:l,location:x.location,delta:0})}function p(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:hl(b);return g=g.replace(/ $/,"%20"),it(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ip,f),c=b,()=>{s.removeEventListener(ip,f),c=null}},createHref(b){return t(s,b)},createURL:p,encodeLocation(b){let v=p(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(b){return a.go(b)}};return x}var cp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cp||(cp={}));function hS(e,t,n){return n===void 0&&(n="/"),mS(e,t,n,!1)}function mS(e,t,n,r){let s=typeof t=="string"?oo(t):t,o=Xf(s.pathname||"/",n);if(o==null)return null;let a=Tv(e);pS(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=CS(o);l=jS(a[c],u,r)}return l}function Tv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=kr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(it(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tv(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:kS(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Mv(o.path))s(o,a,c)}),t}function Mv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=Mv(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gS=/^:[\w-]+$/,yS=3,vS=2,xS=1,bS=10,wS=-2,up=e=>e==="*";function kS(e,t){let n=e.split("/"),r=n.length;return n.some(up)&&(r+=wS),t&&(r+=vS),n.filter(s=>!up(s)).reduce((s,o)=>s+(gS.test(o)?yS:o===""?xS:bS),r)}function SS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function jS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=dp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=dp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:kr([o,f.pathname]),pathnameBase:MS(kr([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=kr([o,f.pathnameBase]))}return a}function dp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NS(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=l[f]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function NS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function CS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ES(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?oo(e):e;return{pathname:n?n.startsWith("/")?n:PS(n,t):t,search:OS(r),hash:RS(s)}}function PS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ov(e,t){let n=TS(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=oo(e):(s=fa({},e),it(!s.pathname||!s.pathname.includes("?"),Yc("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Yc("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Yc("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=ES(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const kr=e=>e.join("/").replace(/\/\/+/g,"/"),MS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lv=["post","put","patch","delete"];new Set(Lv);const FS=["get",...Lv];new Set(FS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}const Jf=w.createContext(null),AS=w.createContext(null),fs=w.createContext(null),Yl=w.createContext(null),Jn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Fv=w.createContext(null);function DS(e,t){let{relative:n}=t===void 0?{}:t;Oa()||it(!1);let{basename:r,navigator:s}=w.useContext(fs),{hash:o,pathname:a,search:l}=Dv(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:kr([r,a])),s.createHref({pathname:c,search:l,hash:o})}function Oa(){return w.useContext(Yl)!=null}function Yn(){return Oa()||it(!1),w.useContext(Yl).location}function Av(e){w.useContext(fs).static||w.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=w.useContext(Jn);return e?YS():_S()}function _S(){Oa()||it(!1);let e=w.useContext(Jf),{basename:t,future:n,navigator:r}=w.useContext(fs),{matches:s}=w.useContext(Jn),{pathname:o}=Yn(),a=JSON.stringify(Ov(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return Av(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Rv(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:kr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}const IS=w.createContext(null);function $S(e){let t=w.useContext(Jn).outlet;return t&&w.createElement(IS.Provider,{value:e},t)}function VS(){let{matches:e}=w.useContext(Jn),t=e[e.length-1];return t?t.params:{}}function Dv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(fs),{matches:s}=w.useContext(Jn),{pathname:o}=Yn(),a=JSON.stringify(Ov(s,r.v7_relativeSplatPath));return w.useMemo(()=>Rv(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function zS(e,t){return US(e,t)}function US(e,t,n,r){Oa()||it(!1);let{navigator:s}=w.useContext(fs),{matches:o}=w.useContext(Jn),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Yn(),d;if(t){var f;let b=typeof t=="string"?oo(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||it(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=hS(e,{pathname:m}),x=qS(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:kr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:kr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&x?w.createElement(Yl.Provider,{value:{location:ha({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:dr.Pop}},x):x}function BS(){let e=JS(),t=LS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,o)}const HS=w.createElement(BS,null);class WS extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Jn.Provider,{value:this.props.routeContext},w.createElement(Fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KS(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Jf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Jn.Provider,{value:t},r)}function qS(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||it(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,p=!1,x=null,b=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||HS,c&&(u<0&&h===0?(ZS("route-fallback",!1),p=!0,b=null):u===h&&(p=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),g=()=>{let y;return m?y=x:p?y=b:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,w.createElement(KS,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(WS,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var _v=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_v||{}),ml=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ml||{});function QS(e){let t=w.useContext(Jf);return t||it(!1),t}function GS(e){let t=w.useContext(AS);return t||it(!1),t}function XS(e){let t=w.useContext(Jn);return t||it(!1),t}function Iv(e){let t=XS(),n=t.matches[t.matches.length-1];return n.route.id||it(!1),n.route.id}function JS(){var e;let t=w.useContext(Fv),n=GS(ml.UseRouteError),r=Iv(ml.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function YS(){let{router:e}=QS(_v.UseNavigateStable),t=Iv(ml.UseNavigateStable),n=w.useRef(!1);return Av(()=>{n.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ha({fromRouteId:t},o)))},[e,t])}const fp={};function ZS(e,t,n){!t&&!fp[e]&&(fp[e]=!0)}function ej(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function tj(e){return $S(e.context)}function ut(e){it(!1)}function nj(e){let{basename:t="/",children:n=null,location:r,navigationType:s=dr.Pop,navigator:o,static:a=!1,future:l}=e;Oa()&&it(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:o,static:a,future:ha({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=oo(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=r,x=w.useMemo(()=>{let b=Xf(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:p},navigationType:s}},[c,d,f,h,m,p,s]);return x==null?null:w.createElement(fs.Provider,{value:u},w.createElement(Yl.Provider,{children:n,value:x}))}function rj(e){let{children:t,location:n}=e;return zS(ud(t),n)}new Promise(()=>{});function ud(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let o=[...t,s];if(r.type===w.Fragment){n.push.apply(n,ud(r.props.children,o));return}r.type!==ut&&it(!1),!r.props.index||!r.props.children||it(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ud(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(this,arguments)}function sj(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function oj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aj(e,t){return e.button===0&&(!t||t==="_self")&&!oj(e)}function fd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ij(e,t){let n=fd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const lj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cj="6";try{window.__reactRouterVersion=cj}catch{}const uj="startTransition",hp=Zb[uj];function dj(e){let{basename:t,children:n,future:r,window:s}=e,o=w.useRef();o.current==null&&(o.current=uS({window:s,v5Compat:!0}));let a=o.current,[l,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&hp?hp(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.useEffect(()=>ej(r),[r]),w.createElement(nj,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const fj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Us=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=sj(t,lj),{basename:m}=w.useContext(fs),p,x=!1;if(typeof u=="string"&&hj.test(u)&&(p=u,fj))try{let y=new URL(window.location.href),k=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=Xf(k.pathname,m);k.origin===y.origin&&S!=null?u=S+k.search+k.hash:x=!0}catch{}let b=DS(u,{relative:s}),v=mj(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(y){r&&r(y),y.defaultPrevented||v(y)}return w.createElement("a",dd({},h,{href:p||b,onClick:x||o?r:g,ref:n,target:c}))});var mp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mp||(mp={}));var pp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pp||(pp={}));function mj(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=vt(),u=Yn(),d=Dv(e,{relative:a});return w.useCallback(f=>{if(aj(f,n)){f.preventDefault();let h=r!==void 0?r:hl(u)===hl(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,o,a,l])}function ao(e){let t=w.useRef(fd(e)),n=w.useRef(!1),r=Yn(),s=w.useMemo(()=>ij(r.search,n.current?null:t.current),[r.search]),o=vt(),a=w.useCallback((l,c)=>{const u=fd(typeof l=="function"?l(s):l);n.current=!0,o("?"+u,c)},[o,s]);return[s,a]}class Ra{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ma=typeof window>"u"||"Deno"in window;function Yt(){}function pj(e,t){return typeof e=="function"?e(t):e}function hd(e){return typeof e=="number"&&e>=0&&e!==1/0}function $v(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Po(e,t,n){return Zl(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function sr(e,t,n){return Zl(e)?[{...t,queryKey:e},n]:[e||{},t]}function gp(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(Zl(a)){if(r){if(t.queryHash!==Yf(a,t.options))return!1}else if(!pl(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof s<"u"&&s!==t.state.fetchStatus||o&&!o(t))}function yp(e,t){const{exact:n,fetching:r,predicate:s,mutationKey:o}=e;if(Zl(o)){if(!t.options.mutationKey)return!1;if(n){if(Qr(t.options.mutationKey)!==Qr(o))return!1}else if(!pl(t.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||s&&!s(t))}function Yf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qr)(e)}function Qr(e){return JSON.stringify(e,(t,n)=>pd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function pl(e,t){return Vv(e,t)}function Vv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Vv(e[n],t[n])):!1}function zv(e,t){if(e===t)return e;const n=vp(e)&&vp(t);if(n||pd(e)&&pd(t)){const r=n?e.length:Object.keys(e).length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];a[u]=zv(e[u],t[u]),a[u]===e[u]&&l++}return r===o&&l===r?e:a}return t}function md(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function vp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pd(e){if(!xp(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!xp(n)||!n.hasOwnProperty("isPrototypeOf"))}function xp(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zl(e){return Array.isArray(e)}function Uv(e){return new Promise(t=>{setTimeout(t,e)})}function bp(e){Uv(0).then(e)}function gj(){if(typeof AbortController=="function")return new AbortController}function gd(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?zv(e,t):t}class yj extends Ra{constructor(){super(),this.setup=t=>{if(!ma&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const gl=new yj,wp=["online","offline"];class vj extends Ra{constructor(){super(),this.setup=t=>{if(!ma&&window.addEventListener){const n=()=>t();return wp.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{wp.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const yl=new vj;function xj(e){return Math.min(1e3*2**e,3e4)}function ec(e){return(e??"online")==="online"?yl.isOnline():!0}class Bv{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Ri(e){return e instanceof Bv}function Hv(e){let t=!1,n=0,r=!1,s,o,a;const l=new Promise((b,v)=>{o=b,a=v}),c=b=>{r||(m(new Bv(b)),e.abort==null||e.abort())},u=()=>{t=!0},d=()=>{t=!1},f=()=>!gl.isFocused()||e.networkMode!=="always"&&!yl.isOnline(),h=b=>{r||(r=!0,e.onSuccess==null||e.onSuccess(b),s==null||s(),o(b))},m=b=>{r||(r=!0,e.onError==null||e.onError(b),s==null||s(),a(b))},p=()=>new Promise(b=>{s=v=>{const g=r||!f();return g&&b(v),g},e.onPause==null||e.onPause()}).then(()=>{s=void 0,r||e.onContinue==null||e.onContinue()}),x=()=>{if(r)return;let b;try{b=e.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(h).catch(v=>{var g,y;if(r)return;const k=(g=e.retry)!=null?g:3,S=(y=e.retryDelay)!=null?y:xj,C=typeof S=="function"?S(n,v):S,N=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,v);if(t||!N){m(v);return}n++,e.onFail==null||e.onFail(n,v),Uv(C).then(()=>{if(f())return p()}).then(()=>{t?m(v):x()})})};return ec(e.networkMode)?x():p().then(x),{promise:l,cancel:c,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:u,continueRetry:d}}const Zf=console;function bj(){let e=[],t=0,n=d=>{d()},r=d=>{d()};const s=d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},o=d=>{t?e.push(d):bp(()=>{n(d)})},a=d=>(...f)=>{o(()=>{d(...f)})},l=()=>{const d=e;e=[],d.length&&bp(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:s,batchCalls:a,schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d}}}const ot=bj();class Wv{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hd(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(ma?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class wj extends Wv{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Zf,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||kj(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=gd(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Yt).catch(Yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!$v(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=gj(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};c(l);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(c(d),(r=this.options.behavior)==null||r.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=d.fetchOptions)==null?void 0:s.meta)){var f;this.dispatch({type:"fetch",meta:(f=d.fetchOptions)==null?void 0:f.meta})}const h=m=>{if(Ri(m)&&m.silent||this.dispatch({type:"error",error:m}),!Ri(m)){var p,x,b,v;(p=(x=this.cache.config).onError)==null||p.call(x,m,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Hv({fn:d.fetchFn,abort:a==null?void 0:a.abort.bind(a),onSuccess:m=>{var p,x,b,v;if(typeof m>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(p=(x=this.cache.config).onSuccess)==null||p.call(x,m,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(m,p)=>{this.dispatch({type:"failed",failureCount:m,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var s,o;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=t.meta)!=null?s:null,fetchStatus:ec(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=t.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Ri(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function kj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Sj extends Ra{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var s;const o=n.queryKey,a=(s=n.queryHash)!=null?s:Yf(o,n);let l=this.get(a);return l||(l=new wj({cache:this,logger:t.getLogger(),queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ot.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=sr(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>gp(r,s))}findAll(t,n){const[r]=sr(t,n);return Object.keys(r).length>0?this.queries.filter(s=>gp(r,s)):this.queries}notify(t){ot.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){ot.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ot.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class jj extends Wv{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Zf,this.observers=[],this.state=t.state||Nj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var N;return this.retryer=Hv({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(j,P)=>{this.dispatch({type:"failed",failureCount:j,error:P})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(N=this.options.retry)!=null?N:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,s,o,a,l,c,u,d;if(!n){var f,h,m,p;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(h=this.mutationCache.config).onMutate)==null?void 0:f.call(h,this.state.variables,this));const j=await((m=(p=this.options).onMutate)==null?void 0:m.call(p,this.state.variables));j!==this.state.context&&this.dispatch({type:"loading",context:j,variables:this.state.variables})}const N=await t();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,N,this.state.variables,this.state.context,this)),await((o=(a=this.options).onSuccess)==null?void 0:o.call(a,N,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,N,null,this.state.variables,this.state.context,this)),await((u=(d=this.options).onSettled)==null?void 0:u.call(d,N,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:N}),N}catch(N){try{var x,b,v,g,y,k,S,C;throw await((x=(b=this.mutationCache.config).onError)==null?void 0:x.call(b,N,this.state.variables,this.state.context,this)),await((v=(g=this.options).onError)==null?void 0:v.call(g,N,this.state.variables,this.state.context)),await((y=(k=this.mutationCache.config).onSettled)==null?void 0:y.call(k,void 0,N,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,N,this.state.variables,this.state.context)),N}finally{this.dispatch({type:"error",error:N})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ec(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Nj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Cj extends Ra{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const s=new jj({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){ot.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>yp(t,n))}findAll(t){return this.mutations.filter(n=>yp(t,n))}notify(t){ot.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ot.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch(Yt)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Ej(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,s,o,a;const l=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,c=(r=e.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,u=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",f=(c==null?void 0:c.direction)==="backward",h=((o=e.state.data)==null?void 0:o.pages)||[],m=((a=e.state.data)==null?void 0:a.pageParams)||[];let p=m,x=!1;const b=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var N;if((N=e.signal)!=null&&N.aborted)x=!0;else{var j;(j=e.signal)==null||j.addEventListener("abort",()=>{x=!0})}return e.signal}})},v=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),g=(C,N,j,P)=>(p=P?[N,...p]:[...p,N],P?[j,...C]:[...C,j]),y=(C,N,j,P)=>{if(x)return Promise.reject("Cancelled");if(typeof j>"u"&&!N&&C.length)return Promise.resolve(C);const D={queryKey:e.queryKey,pageParam:j,meta:e.options.meta};b(D);const $=v(D);return Promise.resolve($).then(U=>g(C,j,U,P))};let k;if(!h.length)k=y([]);else if(d){const C=typeof u<"u",N=C?u:kp(e.options,h);k=y(h,C,N)}else if(f){const C=typeof u<"u",N=C?u:Pj(e.options,h);k=y(h,C,N,!0)}else{p=[];const C=typeof e.options.getNextPageParam>"u";k=(l&&h[0]?l(h[0],0,h):!0)?y([],C,m[0]):Promise.resolve(g([],m[0],h[0]));for(let j=1;j<h.length;j++)k=k.then(P=>{if(l&&h[j]?l(h[j],j,h):!0){const $=C?m[j]:kp(e.options,P);return y(P,C,$)}return Promise.resolve(g(P,m[j],h[j]))})}return k.then(C=>({pages:C,pageParams:p}))}}}}function kp(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function Pj(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class Tj{constructor(t={}){this.queryCache=t.queryCache||new Sj,this.mutationCache=t.mutationCache||new Cj,this.logger=t.logger||Zf,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=gl.subscribe(()=>{gl.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=yl.subscribe(()=>{yl.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=sr(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const s=Po(t,n,r),o=this.getQueryData(s.queryKey);return o?Promise.resolve(o):this.fetchQuery(s)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(t,n,r){const s=this.queryCache.find(t),o=s==null?void 0:s.state.data,a=pj(n,o);if(typeof a>"u")return;const l=Po(t),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(a,{...r,manual:!0})}setQueriesData(t,n,r){return ot.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=sr(t,n),s=this.queryCache;ot.batch(()=>{s.findAll(r).forEach(o=>{s.remove(o)})})}resetQueries(t,n,r){const[s,o]=sr(t,n,r),a=this.queryCache,l={type:"active",...s};return ot.batch(()=>(a.findAll(s).forEach(c=>{c.reset()}),this.refetchQueries(l,o)))}cancelQueries(t,n,r){const[s,o={}]=sr(t,n,r);typeof o.revert>"u"&&(o.revert=!0);const a=ot.batch(()=>this.queryCache.findAll(s).map(l=>l.cancel(o)));return Promise.all(a).then(Yt).catch(Yt)}invalidateQueries(t,n,r){const[s,o]=sr(t,n,r);return ot.batch(()=>{var a,l;if(this.queryCache.findAll(s).forEach(u=>{u.invalidate()}),s.refetchType==="none")return Promise.resolve();const c={...s,type:(a=(l=s.refetchType)!=null?l:s.type)!=null?a:"active"};return this.refetchQueries(c,o)})}refetchQueries(t,n,r){const[s,o]=sr(t,n,r),a=ot.batch(()=>this.queryCache.findAll(s).filter(c=>!c.isDisabled()).map(c=>{var u;return c.fetch(void 0,{...o,cancelRefetch:(u=o==null?void 0:o.cancelRefetch)!=null?u:!0,meta:{refetchPage:s.refetchPage}})}));let l=Promise.all(a).then(Yt);return o!=null&&o.throwOnError||(l=l.catch(Yt)),l}fetchQuery(t,n,r){const s=Po(t,n,r),o=this.defaultQueryOptions(s);typeof o.retry>"u"&&(o.retry=!1);const a=this.queryCache.build(this,o);return a.isStaleByTime(o.staleTime)?a.fetch(o):Promise.resolve(a.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Yt).catch(Yt)}fetchInfiniteQuery(t,n,r){const s=Po(t,n,r);return s.behavior=Ej(),this.fetchQuery(s)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Yt).catch(Yt)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(s=>Qr(t)===Qr(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>pl(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(s=>Qr(t)===Qr(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>pl(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Yf(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Mj extends Ra{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Sp(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yd(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yd(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),md(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const o=this.hasListeners();o&&jp(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(n),o&&(this.currentQuery!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();o&&(this.currentQuery!==s||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return Rj(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yt)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),ma||this.currentResult.isStale||!hd(this.options.staleTime))return;const n=$v(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(ma||this.options.enabled===!1||!hd(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||gl.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,s=this.options,o=this.currentResult,a=this.currentResultState,l=this.currentResultOptions,c=t!==r,u=c?t.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,{state:f}=t;let{dataUpdatedAt:h,error:m,errorUpdatedAt:p,fetchStatus:x,status:b}=f,v=!1,g=!1,y;if(n._optimisticResults){const j=this.hasListeners(),P=!j&&Sp(t,n),D=j&&jp(t,r,n,s);(P||D)&&(x=ec(t.options.networkMode)?"fetching":"paused",h||(b="loading")),n._optimisticResults==="isRestoring"&&(x="idle")}if(n.keepPreviousData&&!f.dataUpdatedAt&&d!=null&&d.isSuccess&&b!=="error")y=d.data,h=d.dataUpdatedAt,b=d.status,v=!0;else if(n.select&&typeof f.data<"u")if(o&&f.data===(a==null?void 0:a.data)&&n.select===this.selectFn)y=this.selectResult;else try{this.selectFn=n.select,y=n.select(f.data),y=gd(o==null?void 0:o.data,y,n),this.selectResult=y,this.selectError=null}catch(j){this.selectError=j}else y=f.data;if(typeof n.placeholderData<"u"&&typeof y>"u"&&b==="loading"){let j;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))j=o.data;else if(j=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof j<"u")try{j=n.select(j),this.selectError=null}catch(P){this.selectError=P}typeof j<"u"&&(b="success",y=gd(o==null?void 0:o.data,j,n),g=!0)}this.selectError&&(m=this.selectError,y=this.selectResult,p=Date.now(),b="error");const k=x==="fetching",S=b==="loading",C=b==="error";return{status:b,fetchStatus:x,isLoading:S,isSuccess:b==="success",isError:C,isInitialLoading:S&&k,data:y,dataUpdatedAt:h,error:m,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!S,isLoadingError:C&&f.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:g,isPreviousData:v,isRefetchError:C&&f.dataUpdatedAt!==0,isStale:eh(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,md(r,n))return;this.currentResult=r;const s={cache:!0},o=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(u=>{const d=u;return this.currentResult[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),this.notify({...s,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!Ri(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){ot.batch(()=>{if(t.onSuccess){var n,r,s,o;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(s=(o=this.options).onSettled)==null||s.call(o,this.currentResult.data,null)}else if(t.onError){var a,l,c,u;(a=(l=this.options).onError)==null||a.call(l,this.currentResult.error),(c=(u=this.options).onSettled)==null||c.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Oj(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Sp(e,t){return Oj(e,t)||e.state.dataUpdatedAt>0&&yd(e,t,t.refetchOnMount)}function yd(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&eh(e,t)}return!1}function jp(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&eh(e,n)}function eh(e,t){return e.isStaleByTime(t.staleTime)}function Rj(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!md(e.getCurrentResult(),t)}var Kv={exports:{}},qv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ys=w;function Lj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fj=typeof Object.is=="function"?Object.is:Lj,Aj=Ys.useState,Dj=Ys.useEffect,_j=Ys.useLayoutEffect,Ij=Ys.useDebugValue;function $j(e,t){var n=t(),r=Aj({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return _j(function(){s.value=n,s.getSnapshot=t,Zc(s)&&o({inst:s})},[e,n,t]),Dj(function(){return Zc(s)&&o({inst:s}),e(function(){Zc(s)&&o({inst:s})})},[e]),Ij(n),n}function Zc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fj(e,n)}catch{return!0}}function Vj(e,t){return t()}var zj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vj:$j;qv.useSyncExternalStore=Ys.useSyncExternalStore!==void 0?Ys.useSyncExternalStore:zj;Kv.exports=qv;var Qv=Kv.exports;const Uj=Qv.useSyncExternalStore,Np=w.createContext(void 0),Gv=w.createContext(!1);function Xv(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Np),window.ReactQueryClientContext):Np)}const La=({context:e}={})=>{const t=w.useContext(Xv(e,w.useContext(Gv)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bj=({client:e,children:t,context:n,contextSharing:r=!1})=>{w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const s=Xv(n,r);return w.createElement(Gv.Provider,{value:!n&&r},w.createElement(s.Provider,{value:e},t))},Jv=w.createContext(!1),Hj=()=>w.useContext(Jv);Jv.Provider;function Wj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Kj=w.createContext(Wj()),qj=()=>w.useContext(Kj);function Qj(e,t){return typeof e=="function"?e(...t):!!e}const Gj=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Xj=e=>{w.useEffect(()=>{e.clearReset()},[e])},Jj=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&Qj(n,[e.error,r]),Yj=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Zj=(e,t)=>e.isLoading&&e.isFetching&&!t,e2=(e,t,n)=>(e==null?void 0:e.suspense)&&Zj(t,n),t2=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function n2(e,t){const n=La({context:e.context}),r=Hj(),s=qj(),o=n.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",o.onError&&(o.onError=ot.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ot.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ot.batchCalls(o.onSettled)),Yj(o),Gj(o,s),Xj(s);const[a]=w.useState(()=>new t(n,o)),l=a.getOptimisticResult(o);if(Uj(w.useCallback(c=>{const u=r?()=>{}:a.subscribe(ot.batchCalls(c));return a.updateResult(),u},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),w.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),e2(o,l,r))throw t2(o,a,s);if(Jj({result:l,errorResetBoundary:s,useErrorBoundary:o.useErrorBoundary,query:a.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function th(e,t,n){const r=Po(e,t,n);return n2(r,Mj)}var vd={exports:{}},is={},Yv={exports:{}},r2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s2=r2,o2=s2;function Zv(){}function ex(){}ex.resetWarningCache=Zv;var a2=function(){function e(r,s,o,a,l,c){if(c!==o2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ex,resetWarningCache:Zv};return n.PropTypes=n,n};Yv.exports=a2();var tx=Yv.exports,xd={exports:{}},wn={},bd={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",s=/^(input|select|textarea|button|object|iframe)$/;function o(f,h){return h.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function a(f){var h=f.offsetWidth<=0&&f.offsetHeight<=0;if(h&&!f.innerHTML)return!0;try{var m=window.getComputedStyle(f),p=m.getPropertyValue("display");return h?p!==r&&o(f,m):p===n}catch{return console.warn("Failed to inspect element style"),!1}}function l(f){for(var h=f,m=f.getRootNode&&f.getRootNode();h&&h!==document.body;){if(m&&h===m&&(h=m.host.parentNode),a(h))return!1;h=h.parentNode}return!0}function c(f,h){var m=f.nodeName.toLowerCase(),p=s.test(m)&&!f.disabled||m==="a"&&f.href||h;return p&&l(f)}function u(f){var h=f.getAttribute("tabindex");h===null&&(h=void 0);var m=isNaN(h);return(m||h>=0)&&c(f,!m)}function d(f){var h=[].slice.call(f.querySelectorAll("*"),0).reduce(function(m,p){return m.concat(p.shadowRoot?d(p.shadowRoot):[p])},[]);return h.filter(u)}e.exports=t.default})(bd,bd.exports);var nx=bd.exports;Object.defineProperty(wn,"__esModule",{value:!0});wn.resetState=u2;wn.log=d2;wn.handleBlur=pa;wn.handleFocus=ga;wn.markForFocusLater=f2;wn.returnFocus=h2;wn.popWithoutFocus=m2;wn.setupScopedFocus=p2;wn.teardownScopedFocus=g2;var i2=nx,l2=c2(i2);function c2(e){return e&&e.__esModule?e:{default:e}}var Zs=[],Ms=null,wd=!1;function u2(){Zs=[]}function d2(){}function pa(){wd=!0}function ga(){if(wd){if(wd=!1,!Ms)return;setTimeout(function(){if(!Ms.contains(document.activeElement)){var e=(0,l2.default)(Ms)[0]||Ms;e.focus()}},0)}}function f2(){Zs.push(document.activeElement)}function h2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Zs.length!==0&&(t=Zs.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function m2(){Zs.length>0&&Zs.pop()}function p2(e){Ms=e,window.addEventListener?(window.addEventListener("blur",pa,!1),document.addEventListener("focus",ga,!0)):(window.attachEvent("onBlur",pa),document.attachEvent("onFocus",ga))}function g2(){Ms=null,window.addEventListener?(window.removeEventListener("blur",pa),document.removeEventListener("focus",ga)):(window.detachEvent("onBlur",pa),document.detachEvent("onFocus",ga))}var kd={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=nx,r=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function o(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return l.activeElement.shadowRoot?o(l.activeElement.shadowRoot):l.activeElement}function a(l,c){var u=(0,r.default)(l);if(!u.length){c.preventDefault();return}var d=void 0,f=c.shiftKey,h=u[0],m=u[u.length-1],p=o();if(l===p){if(!f)return;d=m}if(m===p&&!f&&(d=h),h===p&&f&&(d=m),d){c.preventDefault(),d.focus();return}var x=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),b=x!=null&&x[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(b){var v=u.indexOf(p);if(v>-1&&(v+=f?-1:1),d=u[v],typeof d>"u"){c.preventDefault(),d=f?m:h,d.focus();return}c.preventDefault(),d.focus()}}e.exports=t.default})(kd,kd.exports);var y2=kd.exports,kn={},v2=function(){},x2=v2,gn={},rx={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(rx);var b2=rx.exports;Object.defineProperty(gn,"__esModule",{value:!0});gn.canUseDOM=gn.SafeNodeList=gn.SafeHTMLCollection=void 0;var w2=b2,k2=S2(w2);function S2(e){return e&&e.__esModule?e:{default:e}}var tc=k2.default,j2=tc.canUseDOM?window.HTMLElement:{};gn.SafeHTMLCollection=tc.canUseDOM?window.HTMLCollection:{};gn.SafeNodeList=tc.canUseDOM?window.NodeList:{};gn.canUseDOM=tc.canUseDOM;gn.default=j2;Object.defineProperty(kn,"__esModule",{value:!0});kn.resetState=T2;kn.log=M2;kn.assertNodeList=sx;kn.setElement=O2;kn.validateElement=nh;kn.hide=R2;kn.show=L2;kn.documentNotReadyOrSSRTesting=F2;var N2=x2,C2=P2(N2),E2=gn;function P2(e){return e&&e.__esModule?e:{default:e}}var Zt=null;function T2(){Zt&&(Zt.removeAttribute?Zt.removeAttribute("aria-hidden"):Zt.length!=null?Zt.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Zt).forEach(function(e){return e.removeAttribute("aria-hidden")})),Zt=null}function M2(){}function sx(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function O2(e){var t=e;if(typeof t=="string"&&E2.canUseDOM){var n=document.querySelectorAll(t);sx(n,t),t=n}return Zt=t||Zt,Zt}function nh(e){var t=e||Zt;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,C2.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function R2(e){var t=!0,n=!1,r=void 0;try{for(var s=nh(e)[Symbol.iterator](),o;!(t=(o=s.next()).done);t=!0){var a=o.value;a.setAttribute("aria-hidden","true")}}catch(l){n=!0,r=l}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}function L2(e){var t=!0,n=!1,r=void 0;try{for(var s=nh(e)[Symbol.iterator](),o;!(t=(o=s.next()).done);t=!0){var a=o.value;a.removeAttribute("aria-hidden")}}catch(l){n=!0,r=l}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}function F2(){Zt=null}var io={};Object.defineProperty(io,"__esModule",{value:!0});io.resetState=A2;io.log=D2;var zo={},Uo={};function Cp(e,t){e.classList.remove(t)}function A2(){var e=document.getElementsByTagName("html")[0];for(var t in zo)Cp(e,zo[t]);var n=document.body;for(var r in Uo)Cp(n,Uo[r]);zo={},Uo={}}function D2(){}var _2=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},I2=function(t,n){return t[n]&&(t[n]-=1),n},$2=function(t,n,r){r.forEach(function(s){_2(n,s),t.add(s)})},V2=function(t,n,r){r.forEach(function(s){I2(n,s),n[s]===0&&t.remove(s)})};io.add=function(t,n){return $2(t.classList,t.nodeName.toLowerCase()=="html"?zo:Uo,n.split(" "))};io.remove=function(t,n){return V2(t.classList,t.nodeName.toLowerCase()=="html"?zo:Uo,n.split(" "))};var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.log=U2;lo.resetState=B2;function z2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ox=function e(){var t=this;z2(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},vl=new ox;function U2(){console.log("portalOpenInstances ----------"),console.log(vl.openInstances.length),vl.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function B2(){vl=new ox}lo.default=vl;var rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.resetState=q2;rh.log=Q2;var H2=lo,W2=K2(H2);function K2(e){return e&&e.__esModule?e:{default:e}}var wt=void 0,dn=void 0,es=[];function q2(){for(var e=[wt,dn],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}wt=dn=null,es=[]}function Q2(){console.log("bodyTrap ----------"),console.log(es.length);for(var e=[wt,dn],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Ep(){es.length!==0&&es[es.length-1].focusContent()}function G2(e,t){!wt&&!dn&&(wt=document.createElement("div"),wt.setAttribute("data-react-modal-body-trap",""),wt.style.position="absolute",wt.style.opacity="0",wt.setAttribute("tabindex","0"),wt.addEventListener("focus",Ep),dn=wt.cloneNode(),dn.addEventListener("focus",Ep)),es=t,es.length>0?(document.body.firstChild!==wt&&document.body.insertBefore(wt,document.body.firstChild),document.body.lastChild!==dn&&document.body.appendChild(dn)):(wt.parentElement&&wt.parentElement.removeChild(wt),dn.parentElement&&dn.parentElement.removeChild(dn))}W2.default.subscribe(G2);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(M){for(var T=1;T<arguments.length;T++){var z=arguments[T];for(var E in z)Object.prototype.hasOwnProperty.call(z,E)&&(M[E]=z[E])}return M},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(T,z){for(var E=0;E<z.length;E++){var O=z[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,z,E){return z&&M(T.prototype,z),E&&M(T,E),T}}(),o=w,a=tx,l=S(a),c=wn,u=k(c),d=y2,f=S(d),h=kn,m=k(h),p=io,x=k(p),b=gn,v=S(b),g=lo,y=S(g);function k(M){if(M&&M.__esModule)return M;var T={};if(M!=null)for(var z in M)Object.prototype.hasOwnProperty.call(M,z)&&(T[z]=M[z]);return T.default=M,T}function S(M){return M&&M.__esModule?M:{default:M}}function C(M,T){if(!(M instanceof T))throw new TypeError("Cannot call a class as a function")}function N(M,T){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:M}function j(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);M.prototype=Object.create(T&&T.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(M,T):M.__proto__=T)}var P={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},D=function(T){return T.code==="Tab"||T.keyCode===9},$=function(T){return T.code==="Escape"||T.keyCode===27},_=0,U=function(M){j(T,M);function T(z){C(this,T);var E=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,z));return E.setOverlayRef=function(O){E.overlay=O,E.props.overlayRef&&E.props.overlayRef(O)},E.setContentRef=function(O){E.content=O,E.props.contentRef&&E.props.contentRef(O)},E.afterClose=function(){var O=E.props,B=O.appElement,F=O.ariaHideApp,A=O.htmlOpenClassName,te=O.bodyOpenClassName,q=O.parentSelector,Y=q&&q().ownerDocument||document;te&&x.remove(Y.body,te),A&&x.remove(Y.getElementsByTagName("html")[0],A),F&&_>0&&(_-=1,_===0&&m.show(B)),E.props.shouldFocusAfterRender&&(E.props.shouldReturnFocusAfterClose?(u.returnFocus(E.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),E.props.onAfterClose&&E.props.onAfterClose(),y.default.deregister(E)},E.open=function(){E.beforeOpen(),E.state.afterOpen&&E.state.beforeClose?(clearTimeout(E.closeTimer),E.setState({beforeClose:!1})):(E.props.shouldFocusAfterRender&&(u.setupScopedFocus(E.node),u.markForFocusLater()),E.setState({isOpen:!0},function(){E.openAnimationFrame=requestAnimationFrame(function(){E.setState({afterOpen:!0}),E.props.isOpen&&E.props.onAfterOpen&&E.props.onAfterOpen({overlayEl:E.overlay,contentEl:E.content})})}))},E.close=function(){E.props.closeTimeoutMS>0?E.closeWithTimeout():E.closeWithoutTimeout()},E.focusContent=function(){return E.content&&!E.contentHasFocus()&&E.content.focus({preventScroll:!0})},E.closeWithTimeout=function(){var O=Date.now()+E.props.closeTimeoutMS;E.setState({beforeClose:!0,closesAt:O},function(){E.closeTimer=setTimeout(E.closeWithoutTimeout,E.state.closesAt-Date.now())})},E.closeWithoutTimeout=function(){E.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},E.afterClose)},E.handleKeyDown=function(O){D(O)&&(0,f.default)(E.content,O),E.props.shouldCloseOnEsc&&$(O)&&(O.stopPropagation(),E.requestClose(O))},E.handleOverlayOnClick=function(O){E.shouldClose===null&&(E.shouldClose=!0),E.shouldClose&&E.props.shouldCloseOnOverlayClick&&(E.ownerHandlesClose()?E.requestClose(O):E.focusContent()),E.shouldClose=null},E.handleContentOnMouseUp=function(){E.shouldClose=!1},E.handleOverlayOnMouseDown=function(O){!E.props.shouldCloseOnOverlayClick&&O.target==E.overlay&&O.preventDefault()},E.handleContentOnClick=function(){E.shouldClose=!1},E.handleContentOnMouseDown=function(){E.shouldClose=!1},E.requestClose=function(O){return E.ownerHandlesClose()&&E.props.onRequestClose(O)},E.ownerHandlesClose=function(){return E.props.onRequestClose},E.shouldBeClosed=function(){return!E.state.isOpen&&!E.state.beforeClose},E.contentHasFocus=function(){return document.activeElement===E.content||E.content.contains(document.activeElement)},E.buildClassName=function(O,B){var F=(typeof B>"u"?"undefined":r(B))==="object"?B:{base:P[O],afterOpen:P[O]+"--after-open",beforeClose:P[O]+"--before-close"},A=F.base;return E.state.afterOpen&&(A=A+" "+F.afterOpen),E.state.beforeClose&&(A=A+" "+F.beforeClose),typeof B=="string"&&B?A+" "+B:A},E.attributesFromObject=function(O,B){return Object.keys(B).reduce(function(F,A){return F[O+"-"+A]=B[A],F},{})},E.state={afterOpen:!1,beforeClose:!1},E.shouldClose=null,E.moveFromContentToOverlay=null,E}return s(T,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(E,O){this.props.isOpen&&!E.isOpen?this.open():!this.props.isOpen&&E.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!O.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var E=this.props,O=E.appElement,B=E.ariaHideApp,F=E.htmlOpenClassName,A=E.bodyOpenClassName,te=E.parentSelector,q=te&&te().ownerDocument||document;A&&x.add(q.body,A),F&&x.add(q.getElementsByTagName("html")[0],F),B&&(_+=1,m.hide(O)),y.default.register(this)}},{key:"render",value:function(){var E=this.props,O=E.id,B=E.className,F=E.overlayClassName,A=E.defaultStyles,te=E.children,q=B?{}:A.content,Y=F?{}:A.overlay;if(this.shouldBeClosed())return null;var ge={ref:this.setOverlayRef,className:this.buildClassName("overlay",F),style:n({},Y,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},re=n({id:O,ref:this.setContentRef,style:n({},q,this.props.style.content),className:this.buildClassName("content",B),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ie=this.props.contentElement(re,te);return this.props.overlayElement(ge,ie)}}]),T}(o.Component);U.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},U.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),parentSelector:l.default.func,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(v.default),l.default.instanceOf(b.SafeHTMLCollection),l.default.instanceOf(b.SafeNodeList),l.default.arrayOf(l.default.instanceOf(v.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},t.default=U,e.exports=t.default})(xd,xd.exports);var X2=xd.exports;function ax(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ix(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function lx(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ax.__suppressDeprecationWarning=!0;ix.__suppressDeprecationWarning=!0;lx.__suppressDeprecationWarning=!0;function J2(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,s=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||r!==null||s!==null){var o=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ax,t.componentWillReceiveProps=ix),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=lx;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}const Y2=Object.freeze(Object.defineProperty({__proto__:null,polyfill:J2},Symbol.toStringTag,{value:"Module"})),Z2=_b(Y2);Object.defineProperty(is,"__esModule",{value:!0});is.bodyOpenClassName=is.portalClassName=void 0;var Pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eN=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cx=w,xl=Fa(cx),tN=Ev,bl=Fa(tN),nN=tx,Ne=Fa(nN),rN=X2,Tp=Fa(rN),sN=kn,oN=iN(sN),fr=gn,Mp=Fa(fr),aN=Z2;function iN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Fa(e){return e&&e.__esModule?e:{default:e}}function lN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Op(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var uN=is.portalClassName="ReactModalPortal",dN=is.bodyOpenClassName="ReactModal__Body--open",zr=fr.canUseDOM&&bl.default.createPortal!==void 0,Rp=function(t){return document.createElement(t)},Lp=function(){return zr?bl.default.createPortal:bl.default.unstable_renderSubtreeIntoContainer};function fi(e){return e()}var Aa=function(e){cN(t,e);function t(){var n,r,s,o;lN(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=(r=(s=Op(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(l))),s),s.removePortal=function(){!zr&&bl.default.unmountComponentAtNode(s.node);var u=fi(s.props.parentSelector);u&&u.contains(s.node)?u.removeChild(s.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},s.portalRef=function(u){s.portal=u},s.renderPortal=function(u){var d=Lp(),f=d(s,xl.default.createElement(Tp.default,Pp({defaultStyles:t.defaultStyles},u)),s.node);s.portalRef(f)},r),Op(s,o)}return eN(t,[{key:"componentDidMount",value:function(){if(fr.canUseDOM){zr||(this.node=Rp("div")),this.node.className=this.props.portalClassName;var r=fi(this.props.parentSelector);r.appendChild(this.node),!zr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var s=fi(r.parentSelector),o=fi(this.props.parentSelector);return{prevParent:s,nextParent:o}}},{key:"componentDidUpdate",value:function(r,s,o){if(fr.canUseDOM){var a=this.props,l=a.isOpen,c=a.portalClassName;r.portalClassName!==c&&(this.node.className=c);var u=o.prevParent,d=o.nextParent;d!==u&&(u.removeChild(this.node),d.appendChild(this.node)),!(!r.isOpen&&!l)&&!zr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!fr.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,s=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||s+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-s)):this.removePortal()}}},{key:"render",value:function(){if(!fr.canUseDOM||!zr)return null;!this.node&&zr&&(this.node=Rp("div"));var r=Lp();return r(xl.default.createElement(Tp.default,Pp({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){oN.setElement(r)}}]),t}(cx.Component);Aa.propTypes={isOpen:Ne.default.bool.isRequired,style:Ne.default.shape({content:Ne.default.object,overlay:Ne.default.object}),portalClassName:Ne.default.string,bodyOpenClassName:Ne.default.string,htmlOpenClassName:Ne.default.string,className:Ne.default.oneOfType([Ne.default.string,Ne.default.shape({base:Ne.default.string.isRequired,afterOpen:Ne.default.string.isRequired,beforeClose:Ne.default.string.isRequired})]),overlayClassName:Ne.default.oneOfType([Ne.default.string,Ne.default.shape({base:Ne.default.string.isRequired,afterOpen:Ne.default.string.isRequired,beforeClose:Ne.default.string.isRequired})]),appElement:Ne.default.oneOfType([Ne.default.instanceOf(Mp.default),Ne.default.instanceOf(fr.SafeHTMLCollection),Ne.default.instanceOf(fr.SafeNodeList),Ne.default.arrayOf(Ne.default.instanceOf(Mp.default))]),onAfterOpen:Ne.default.func,onRequestClose:Ne.default.func,closeTimeoutMS:Ne.default.number,ariaHideApp:Ne.default.bool,shouldFocusAfterRender:Ne.default.bool,shouldCloseOnOverlayClick:Ne.default.bool,shouldReturnFocusAfterClose:Ne.default.bool,preventScroll:Ne.default.bool,parentSelector:Ne.default.func,aria:Ne.default.object,data:Ne.default.object,role:Ne.default.string,contentLabel:Ne.default.string,shouldCloseOnEsc:Ne.default.bool,overlayRef:Ne.default.func,contentRef:Ne.default.func,id:Ne.default.string,overlayElement:Ne.default.func,contentElement:Ne.default.func};Aa.defaultProps={isOpen:!1,portalClassName:uN,bodyOpenClassName:dN,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return xl.default.createElement("div",t,n)},contentElement:function(t,n){return xl.default.createElement("div",t,n)}};Aa.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,aN.polyfill)(Aa);is.default=Aa;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=is,r=s(n);function s(o){return o&&o.__esModule?o:{default:o}}t.default=r.default,e.exports=t.default})(vd,vd.exports);var fN=vd.exports;const sh=ef(fN),Fp=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(p=>p(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{n.clear()}},u=t=e(r,s,c);return c},hN=e=>e?Fp(e):Fp;var ux={exports:{}},dx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=w,mN=Qv;function pN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gN=typeof Object.is=="function"?Object.is:pN,yN=mN.useSyncExternalStore,vN=nc.useRef,xN=nc.useEffect,bN=nc.useMemo,wN=nc.useDebugValue;dx.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=vN(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=bN(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return f=p}return f=m}if(p=f,gN(d,m))return p;var x=r(m);return s!==void 0&&s(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=yN(e,o[0],o[1]);return xN(function(){a.hasValue=!0,a.value=l},[l]),wN(l),l};ux.exports=dx;var kN=ux.exports;const SN=ef(kN),{useDebugValue:jN}=Bt,{useSyncExternalStoreWithSelector:NN}=SN;const CN=e=>e;function EN(e,t=CN,n){const r=NN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return jN(r),r}const Ap=e=>{const t=typeof e=="function"?hN(e):e,n=(r,s)=>EN(t,r,s);return Object.assign(n,t),n},Da=e=>e?Ap(e):Ap;function PN(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),l=(o=n.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const ya=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ya(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ya(r)(n)}}}},TN=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...t},a=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...b)},r,s);const d=ya(o.serialize),f=()=>{const b=o.partialize({...r()});let v;const g=d({state:b,version:o.version}).then(y=>u.setItem(o.name,y)).catch(y=>{v=y});if(v)throw v;return g},h=s.setState;s.setState=(b,v)=>{h(b,v),f()};const m=e((...b)=>{n(...b),f()},r,s);let p;const x=()=>{var b;if(!u)return;a=!1,l.forEach(g=>g(r()));const v=((b=o.onRehydrateStorage)==null?void 0:b.call(o,r()))||void 0;return ya(u.getItem.bind(u))(o.name).then(g=>{if(g)return o.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==o.version){if(o.migrate)return o.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var y;return p=o.merge(g,(y=r())!=null?y:m),n(p,!0),f()}).then(()=>{v==null||v(p,void 0),a=!0,c.forEach(g=>g(p))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:b=>{o={...o,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},x(),p||m},MN=(e,t)=>(n,r,s)=>{let o={storage:PN(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,s);const d=()=>{const x=o.partialize({...r()});return u.setItem(o.name,{state:x,version:o.version})},f=s.setState;s.setState=(x,b)=>{f(x,b),d()};const h=e((...x)=>{n(...x),d()},r,s);s.getInitialState=()=>h;let m;const p=()=>{var x,b;if(!u)return;a=!1,l.forEach(g=>{var y;return g((y=r())!=null?y:h)});const v=((b=o.onRehydrateStorage)==null?void 0:b.call(o,(x=r())!=null?x:h))||void 0;return ya(u.getItem.bind(u))(o.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==o.version){if(o.migrate)return[!0,o.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var y;const[k,S]=g;if(m=o.merge(S,(y=r())!=null?y:h),n(m,!0),k)return d()}).then(()=>{v==null||v(m,void 0),m=r(),a=!0,c.forEach(g=>g(m))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:x=>{o={...o,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},o.skipHydration||p(),m||h},ON=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?TN(e,t):MN(e,t),rc=ON,Sd={FOLDERS_PER_PAGE:24,MANGA_FAVORITES_PER_PAGE:20,MOVIE_FAVORITES_FOLDER_PER_PAGE:16,MOVIE_FAVORITES_VIDEO_PER_PAGE:16,MOVIES_PER_PAGE:16,MUSIC_PER_PAGE:20,SEARCH_LIMIT:100,SEARCH_OFFSET:0,DROPDOWN_SCROLL_THRESHOLD:10},RN={MIN_SEARCH_LENGTH:2,SEARCH_DEBOUNCE:300,MAX_SEARCH_RESULTS:50,RANDOM_ITEMS_LIMIT:30,TOP_ITEMS_LIMIT:30},Re={ENDPOINTS:{MANGA:"/api/manga",MOVIE:"/api/movie",MUSIC:"/api/music",SYSTEM:"/api"},TIMEOUT:3e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3};function fx(e,t){return function(){return e.apply(t,arguments)}}const{toString:LN}=Object.prototype,{getPrototypeOf:oh}=Object,{iterator:sc,toStringTag:hx}=Symbol,oc=(e=>t=>{const n=LN.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sn=e=>(e=e.toLowerCase(),t=>oc(t)===e),ac=e=>t=>typeof t===e,{isArray:co}=Array,va=ac("undefined");function _a(e){return e!==null&&!va(e)&&e.constructor!==null&&!va(e.constructor)&&It(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mx=Sn("ArrayBuffer");function FN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mx(e.buffer),t}const AN=ac("string"),It=ac("function"),px=ac("number"),Ia=e=>e!==null&&typeof e=="object",DN=e=>e===!0||e===!1,Li=e=>{if(oc(e)!=="object")return!1;const t=oh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hx in e)&&!(sc in e)},_N=e=>{if(!Ia(e)||_a(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},IN=Sn("Date"),$N=Sn("File"),VN=Sn("Blob"),zN=Sn("FileList"),UN=e=>Ia(e)&&It(e.pipe),BN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||It(e.append)&&((t=oc(e))==="formdata"||t==="object"&&It(e.toString)&&e.toString()==="[object FormData]"))},HN=Sn("URLSearchParams"),[WN,KN,qN,QN]=["ReadableStream","Request","Response","Headers"].map(Sn),GN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $a(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),co(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(_a(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(r=0;r<a;r++)l=o[r],t.call(null,e[l],l,e)}}function gx(e,t){if(_a(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Gr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),yx=e=>!va(e)&&e!==Gr;function jd(){const{caseless:e}=yx(this)&&this||{},t={},n=(r,s)=>{const o=e&&gx(t,s)||s;Li(t[o])&&Li(r)?t[o]=jd(t[o],r):Li(r)?t[o]=jd({},r):co(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&$a(arguments[r],n);return t}const XN=(e,t,n,{allOwnKeys:r}={})=>($a(t,(s,o)=>{n&&It(s)?e[o]=fx(s,n):e[o]=s},{allOwnKeys:r}),e),JN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),YN=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ZN=(e,t,n,r)=>{let s,o,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&oh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},eC=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},tC=e=>{if(!e)return null;if(co(e))return e;let t=e.length;if(!px(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},nC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&oh(Uint8Array)),rC=(e,t)=>{const r=(e&&e[sc]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},sC=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},oC=Sn("HTMLFormElement"),aC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Dp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),iC=Sn("RegExp"),vx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};$a(n,(s,o)=>{let a;(a=t(s,o,e))!==!1&&(r[o]=a||s)}),Object.defineProperties(e,r)},lC=e=>{vx(e,(t,n)=>{if(It(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(It(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cC=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return co(e)?r(e):r(String(e).split(t)),n},uC=()=>{},dC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function fC(e){return!!(e&&It(e.append)&&e[hx]==="FormData"&&e[sc])}const hC=e=>{const t=new Array(10),n=(r,s)=>{if(Ia(r)){if(t.indexOf(r)>=0)return;if(_a(r))return r;if(!("toJSON"in r)){t[s]=r;const o=co(r)?[]:{};return $a(r,(a,l)=>{const c=n(a,s+1);!va(c)&&(o[l]=c)}),t[s]=void 0,o}}return r};return n(e,0)},mC=Sn("AsyncFunction"),pC=e=>e&&(Ia(e)||It(e))&&It(e.then)&&It(e.catch),xx=((e,t)=>e?setImmediate:t?((n,r)=>(Gr.addEventListener("message",({source:s,data:o})=>{s===Gr&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Gr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",It(Gr.postMessage)),gC=typeof queueMicrotask<"u"?queueMicrotask.bind(Gr):typeof process<"u"&&process.nextTick||xx,yC=e=>e!=null&&It(e[sc]),V={isArray:co,isArrayBuffer:mx,isBuffer:_a,isFormData:BN,isArrayBufferView:FN,isString:AN,isNumber:px,isBoolean:DN,isObject:Ia,isPlainObject:Li,isEmptyObject:_N,isReadableStream:WN,isRequest:KN,isResponse:qN,isHeaders:QN,isUndefined:va,isDate:IN,isFile:$N,isBlob:VN,isRegExp:iC,isFunction:It,isStream:UN,isURLSearchParams:HN,isTypedArray:nC,isFileList:zN,forEach:$a,merge:jd,extend:XN,trim:GN,stripBOM:JN,inherits:YN,toFlatObject:ZN,kindOf:oc,kindOfTest:Sn,endsWith:eC,toArray:tC,forEachEntry:rC,matchAll:sC,isHTMLForm:oC,hasOwnProperty:Dp,hasOwnProp:Dp,reduceDescriptors:vx,freezeMethods:lC,toObjectSet:cC,toCamelCase:aC,noop:uC,toFiniteNumber:dC,findKey:gx,global:Gr,isContextDefined:yx,isSpecCompliantForm:fC,toJSONObject:hC,isAsyncFn:mC,isThenable:pC,setImmediate:xx,asap:gC,isIterable:yC};function Pe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const bx=Pe.prototype,wx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wx[e]={value:e}});Object.defineProperties(Pe,wx);Object.defineProperty(bx,"isAxiosError",{value:!0});Pe.from=(e,t,n,r,s,o)=>{const a=Object.create(bx);return V.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Pe.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const vC=null;function Nd(e){return V.isPlainObject(e)||V.isArray(e)}function kx(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function _p(e,t,n){return e?e.concat(t).map(function(s,o){return s=kx(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function xC(e){return V.isArray(e)&&!e.some(Nd)}const bC=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function ic(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!V.isUndefined(b[x])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(V.isDate(p))return p.toISOString();if(V.isBoolean(p))return p.toString();if(!c&&V.isBlob(p))throw new Pe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(p)||V.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,b){let v=p;if(p&&!b&&typeof p=="object"){if(V.endsWith(x,"{}"))x=r?x:x.slice(0,-2),p=JSON.stringify(p);else if(V.isArray(p)&&xC(p)||(V.isFileList(p)||V.endsWith(x,"[]"))&&(v=V.toArray(p)))return x=kx(x),v.forEach(function(y,k){!(V.isUndefined(y)||y===null)&&t.append(a===!0?_p([x],k,o):a===null?x:x+"[]",u(y))}),!1}return Nd(p)?!0:(t.append(_p(b,x,o),u(p)),!1)}const f=[],h=Object.assign(bC,{defaultVisitor:d,convertValue:u,isVisitable:Nd});function m(p,x){if(!V.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),V.forEach(p,function(v,g){(!(V.isUndefined(v)||v===null)&&s.call(t,v,V.isString(g)?g.trim():g,x,h))===!0&&m(v,x?x.concat(g):[g])}),f.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Ip(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ah(e,t){this._pairs=[],e&&ic(e,this,t)}const Sx=ah.prototype;Sx.append=function(t,n){this._pairs.push([t,n])};Sx.toString=function(t){const n=t?function(r){return t.call(this,r,Ip)}:Ip;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function wC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jx(e,t,n){if(!t)return e;const r=n&&n.encode||wC;V.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=V.isURLSearchParams(t)?t.toString():new ah(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class kC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(r){r!==null&&t(r)})}}const $p=kC,Nx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SC=typeof URLSearchParams<"u"?URLSearchParams:ah,jC=typeof FormData<"u"?FormData:null,NC=typeof Blob<"u"?Blob:null,CC={isBrowser:!0,classes:{URLSearchParams:SC,FormData:jC,Blob:NC},protocols:["http","https","file","blob","url","data"]},ih=typeof window<"u"&&typeof document<"u",Cd=typeof navigator=="object"&&navigator||void 0,EC=ih&&(!Cd||["ReactNative","NativeScript","NS"].indexOf(Cd.product)<0),PC=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),TC=ih&&window.location.href||"http://localhost",MC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ih,hasStandardBrowserEnv:EC,hasStandardBrowserWebWorkerEnv:PC,navigator:Cd,origin:TC},Symbol.toStringTag,{value:"Module"})),jt={...MC,...CC};function OC(e,t){return ic(e,new jt.classes.URLSearchParams,{visitor:function(n,r,s,o){return jt.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function RC(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function LC(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function Cx(e){function t(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=n.length;return a=!a&&V.isArray(s)?s.length:a,c?(V.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!V.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],o)&&V.isArray(s[a])&&(s[a]=LC(s[a])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,(r,s)=>{t(RC(r),s,n,0)}),n}return null}function FC(e,t,n){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const lh={transitional:Nx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=V.isObject(t);if(o&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return s?JSON.stringify(Cx(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OC(t,this.formSerializer).toString();if((l=V.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ic(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),FC(t)):t}],transformResponse:[function(t){const n=this.transitional||lh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?Pe.from(l,Pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{lh.headers[e]={}});const ch=lh,AC=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DC=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&AC[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Vp=Symbol("internals");function wo(e){return e&&String(e).trim().toLowerCase()}function Fi(e){return e===!1||e==null?e:V.isArray(e)?e.map(Fi):String(e)}function _C(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const IC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eu(e,t,n,r,s){if(V.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!V.isString(t)){if(V.isString(r))return t.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(t)}}function $C(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function VC(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,a){return this[r].call(this,t,s,o,a)},configurable:!0})})}class lc{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(l,c,u){const d=wo(c);if(!d)throw new Error("header name must be a non-empty string");const f=V.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Fi(l))}const a=(l,c)=>V.forEach(l,(u,d)=>o(u,d,c));if(V.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(V.isString(t)&&(t=t.trim())&&!IC(t))a(DC(t),n);else if(V.isObject(t)&&V.isIterable(t)){let l={},c,u;for(const d of t){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?V.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=wo(t),t){const r=V.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return _C(s);if(V.isFunction(n))return n.call(this,s,r);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wo(t),t){const r=V.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||eu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(a){if(a=wo(a),a){const l=V.findKey(r,a);l&&(!n||eu(r,r[l],l,n))&&(delete r[l],s=!0)}}return V.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||eu(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return V.forEach(this,(s,o)=>{const a=V.findKey(r,o);if(a){n[a]=Fi(s),delete n[o];return}const l=t?$C(o):String(o).trim();l!==o&&delete n[o],n[l]=Fi(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return V.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Vp]=this[Vp]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=wo(a);r[l]||(VC(s,a),r[l]=!0)}return V.isArray(t)?t.forEach(o):o(t),this}}lc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(lc.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});V.freezeMethods(lc);const yn=lc;function tu(e,t){const n=this||ch,r=t||n,s=yn.from(r.headers);let o=r.data;return V.forEach(e,function(l){o=l.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Ex(e){return!!(e&&e.__CANCEL__)}function uo(e,t,n){Pe.call(this,e??"canceled",Pe.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(uo,Pe,{__CANCEL__:!0});function Px(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];a||(a=u),n[s]=c,r[s]=u;let f=o,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-a<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function BC(e,t){let n=0,r=1e3/t,s,o;const a=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,o||(o=setTimeout(()=>{o=null,a(s)},r-f)))},()=>s&&a(s)]}const wl=(e,t,n=3)=>{let r=0;const s=UC(50,250);return BC(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},zp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Up=e=>(...t)=>V.asap(()=>e(...t)),HC=jt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,jt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(jt.origin),jt.navigator&&/(msie|trident)/i.test(jt.navigator.userAgent)):()=>!0,WC=jt.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const a=[e+"="+encodeURIComponent(t)];V.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),V.isString(r)&&a.push("path="+r),V.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Tx(e,t,n){let r=!KC(t);return e&&(r||n==!1)?qC(e,t):t}const Bp=e=>e instanceof yn?{...e}:e;function ls(e,t){t=t||{};const n={};function r(u,d,f,h){return V.isPlainObject(u)&&V.isPlainObject(d)?V.merge.call({caseless:h},u,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function s(u,d,f,h){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function o(u,d){if(!V.isUndefined(d))return r(void 0,d)}function a(u,d){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(Bp(u),Bp(d),f,!0)};return V.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);V.isUndefined(h)&&f!==l||(n[d]=h)}),n}const Mx=e=>{const t=ls({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=yn.from(a),t.url=jx(Tx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(V.isFormData(n)){if(jt.hasStandardBrowserEnv||jt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(jt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(t)),r||r!==!1&&HC(t.url))){const u=s&&o&&WC.read(o);u&&a.set(s,u)}return t},QC=typeof XMLHttpRequest<"u",GC=QC&&function(e){return new Promise(function(n,r){const s=Mx(e);let o=s.data;const a=yn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,m,p;function x(){m&&m(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function v(){if(!b)return;const y=yn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:e,request:b};Px(function(N){n(N),x()},function(N){r(N),x()},S),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new Pe("Request aborted",Pe.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||Nx;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new Pe(k,S.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,b)),b=null},o===void 0&&a.setContentType(null),"setRequestHeader"in b&&V.forEach(a.toJSON(),function(k,S){b.setRequestHeader(S,k)}),V.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([h,p]=wl(u,!0),b.addEventListener("progress",h)),c&&b.upload&&([f,m]=wl(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=y=>{b&&(r(!y||y.type?new uo(null,e,b):y),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=zC(s.url);if(g&&jt.protocols.indexOf(g)===-1){r(new Pe("Unsupported protocol "+g+":",Pe.ERR_BAD_REQUEST,e));return}b.send(o||null)})},XC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Pe?d:new uo(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,o(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>V.asap(l),c}},JC=XC,YC=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ZC=async function*(e,t){for await(const n of eE(e))yield*YC(n,t)},eE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Hp=(e,t,n,r)=>{const s=ZC(e,t);let o=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=o+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},cc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ox=cc&&typeof ReadableStream=="function",tE=cc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Rx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},nE=Ox&&Rx(()=>{let e=!1;const t=new Request(jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Wp=64*1024,Ed=Ox&&Rx(()=>V.isReadableStream(new Response("").body)),kl={stream:Ed&&(e=>e.body)};cc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!kl[t]&&(kl[t]=V.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Pe(`Response type '${t}' is not supported`,Pe.ERR_NOT_SUPPORT,r)})})})(new Response);const rE=async e=>{if(e==null)return 0;if(V.isBlob(e))return e.size;if(V.isSpecCompliantForm(e))return(await new Request(jt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(V.isArrayBufferView(e)||V.isArrayBuffer(e))return e.byteLength;if(V.isURLSearchParams(e)&&(e=e+""),V.isString(e))return(await tE(e)).byteLength},sE=async(e,t)=>{const n=V.toFiniteNumber(e.getContentLength());return n??rE(t)},oE=cc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=Mx(e);u=u?(u+"").toLowerCase():"text";let m=JC([s,o&&o.toAbortSignal()],a),p;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let b;try{if(c&&nE&&n!=="get"&&n!=="head"&&(b=await sE(d,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),C;if(V.isFormData(r)&&(C=S.headers.get("content-type"))&&d.setContentType(C),S.body){const[N,j]=zp(b,wl(Up(c)));r=Hp(S.body,Wp,N,j)}}V.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;p=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let g=await fetch(p,h);const y=Ed&&(u==="stream"||u==="response");if(Ed&&(l||y&&x)){const S={};["status","statusText","headers"].forEach(P=>{S[P]=g[P]});const C=V.toFiniteNumber(g.headers.get("content-length")),[N,j]=l&&zp(C,wl(Up(l),!0))||[];g=new Response(Hp(g.body,Wp,N,()=>{j&&j(),x&&x()}),S)}u=u||"text";let k=await kl[V.findKey(kl,u)||"text"](g,e);return!y&&x&&x(),await new Promise((S,C)=>{Px(S,C,{data:k,headers:yn.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:p})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,e,p),{cause:v.cause||v}):Pe.from(v,v&&v.code,e,p)}}),Pd={http:vC,xhr:GC,fetch:oE};V.forEach(Pd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kp=e=>`- ${e}`,aE=e=>V.isFunction(e)||e===null||e===!1,Lx={getAdapter:e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let a;if(r=n,!aE(n)&&(r=Pd[(a=String(n)).toLowerCase()],r===void 0))throw new Pe(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(Kp).join(`
`):" "+Kp(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Pd};function nu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uo(null,e)}function qp(e){return nu(e),e.headers=yn.from(e.headers),e.data=tu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lx.getAdapter(e.adapter||ch.adapter)(e).then(function(r){return nu(e),r.data=tu.call(e,e.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return Ex(r)||(nu(e),r&&r.response&&(r.response.data=tu.call(e,e.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const Fx="1.11.0",uc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qp={};uc.transitional=function(t,n,r){function s(o,a){return"[Axios v"+Fx+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(t===!1)throw new Pe(s(a," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!Qp[a]&&(Qp[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,l):!0}};uc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function iE(e,t,n){if(typeof e!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new Pe("option "+o+" must be "+c,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+o,Pe.ERR_BAD_OPTION)}}const Ai={assertOptions:iE,validators:uc},Cn=Ai.validators;class Sl{constructor(t){this.defaults=t||{},this.interceptors={request:new $p,response:new $p}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ls(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Ai.assertOptions(r,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:Ai.assertOptions(s,{encode:Cn.function,serialize:Cn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ai.assertOptions(n,{baseUrl:Cn.spelling("baseURL"),withXsrfToken:Cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&V.merge(o.common,o[n.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=yn.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const p=[qp.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(n);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=n;for(f=0;f<h;){const p=l[f++],x=l[f++];try{m=p(m)}catch(b){x.call(this,b);break}}try{d=qp.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ls(this.defaults,t);const n=Tx(t.baseURL,t.url,t.allowAbsoluteUrls);return jx(n,t.params,t.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(t){Sl.prototype[t]=function(n,r){return this.request(ls(r||{},{method:t,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,l){return this.request(ls(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Sl.prototype[t]=n(),Sl.prototype[t+"Form"]=n(!0)});const Di=Sl;class uh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,l){r.reason||(r.reason=new uo(o,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new uh(function(s){t=s}),cancel:t}}}const lE=uh;function cE(e){return function(n){return e.apply(null,n)}}function uE(e){return V.isObject(e)&&e.isAxiosError===!0}const Td={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Td).forEach(([e,t])=>{Td[t]=e});const dE=Td;function Ax(e){const t=new Di(e),n=fx(Di.prototype.request,t);return V.extend(n,Di.prototype,t,{allOwnKeys:!0}),V.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Ax(ls(e,s))},n}const lt=Ax(ch);lt.Axios=Di;lt.CanceledError=uo;lt.CancelToken=lE;lt.isCancel=Ex;lt.VERSION=Fx;lt.toFormData=ic;lt.AxiosError=Pe;lt.Cancel=lt.CanceledError;lt.all=function(t){return Promise.all(t)};lt.spread=cE;lt.isAxiosError=uE;lt.mergeConfig=ls;lt.AxiosHeaders=yn;lt.formToJSON=e=>Cx(V.isHTMLForm(e)?new FormData(e):e);lt.getAdapter=Lx.getAdapter;lt.HttpStatusCode=dE;lt.default=lt;const fE=lt,Ce=fE.create({baseURL:"",timeout:Re.TIMEOUT,headers:{"Content-Type":"application/json"}});Ce.interceptors.request.use(e=>{const t=localStorage.getItem("userToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ce.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("userToken"),window.location.href="/"),Promise.reject(e)});const _e={get:(e,t={})=>Ce.get(e,t),post:(e,t,n={})=>Ce.post(e,t,n),put:(e,t,n={})=>Ce.put(e,t,n),delete:(e,t={})=>Ce.delete(e,t),manga:{getFolders:e=>Ce.get(`${Re.ENDPOINTS.MANGA}/folder-cache`,{params:e}),getFavorites:e=>Ce.get(`${Re.ENDPOINTS.MANGA}/favorite`,{params:e}),toggleFavorite:(e,t,n)=>Ce.post(`${Re.ENDPOINTS.MANGA}/favorite`,{dbkey:e,path:t,value:n}),resetCache:e=>Ce.delete(`${Re.ENDPOINTS.MANGA}/reset-cache`,{params:e}),scan:(e,t)=>Ce.post(`${Re.ENDPOINTS.MANGA}/scan`,{root:e,key:t}),getRootThumbnail:e=>Ce.get(`${Re.ENDPOINTS.MANGA}/root-thumbnail`,{params:e}),setRootThumbnail:e=>Ce.post(`${Re.ENDPOINTS.MANGA}/root-thumbnail`,e)},movie:{getFolders:e=>Ce.get(`${Re.ENDPOINTS.MOVIE}/movie-folder`,{params:e}),getVideos:e=>Ce.get(`${Re.ENDPOINTS.MOVIE}/video`,{params:e}),getVideoCache:e=>Ce.get(`${Re.ENDPOINTS.MOVIE}/video-cache`,{params:e}),getFavorites:e=>Ce.get(`${Re.ENDPOINTS.MOVIE}/favorite-movie`,{params:e}),toggleFavorite:(e,t,n)=>Ce.post(`${Re.ENDPOINTS.MOVIE}/favorite-movie`,{dbkey:e,path:t,value:n}),extractThumbnail:e=>Ce.post(`${Re.ENDPOINTS.MOVIE}/extract-movie-thumbnail`,e),setThumbnail:e=>Ce.post(`${Re.ENDPOINTS.MOVIE}/set-thumbnail`,e),resetDb:e=>Ce.delete(`${Re.ENDPOINTS.MOVIE}/reset-movie-db`,{params:e}),scan:e=>Ce.post(`${Re.ENDPOINTS.MOVIE}/scan-movie`,e),checkEmpty:e=>Ce.get(`${Re.ENDPOINTS.MOVIE}/movie-folder-empty`,{params:e})},music:{getFolders:e=>Ce.get(`${Re.ENDPOINTS.MUSIC}/music-folder`,{params:e}),getAudio:e=>Ce.get(`${Re.ENDPOINTS.MUSIC}/audio`,{params:e}),getAudioCache:e=>Ce.get(`${Re.ENDPOINTS.MUSIC}/audio-cache`,{params:e}),getFavorites:e=>Ce.get(`${Re.ENDPOINTS.MUSIC}/favorite`,{params:e}),toggleFavorite:(e,t,n)=>Ce.post(`${Re.ENDPOINTS.MUSIC}/favorite`,{dbkey:e,path:t,value:n}),getPlaylists:e=>Ce.get(`${Re.ENDPOINTS.MUSIC}/playlists`,{params:e}),getPlaylist:(e,t)=>Ce.get(`${Re.ENDPOINTS.MUSIC}/playlist/${e}`,{params:t}),createPlaylist:e=>Ce.post(`${Re.ENDPOINTS.MUSIC}/playlists`,e),updatePlaylist:(e,t)=>Ce.put(`${Re.ENDPOINTS.MUSIC}/playlist/${e}`,t),deletePlaylist:e=>Ce.delete(`${Re.ENDPOINTS.MUSIC}/playlist/${e}`),getMusicMeta:e=>Ce.get(`${Re.ENDPOINTS.MUSIC}/music-meta`,{params:e}),extractThumbnail:e=>Ce.post(`${Re.ENDPOINTS.MUSIC}/extract-thumbnail`,e),setThumbnail:e=>Ce.post(`${Re.ENDPOINTS.MUSIC}/set-thumbnail`,e),resetDb:e=>Ce.delete(`${Re.ENDPOINTS.MUSIC}/reset-music-db`,{params:e}),scan:e=>Ce.post(`${Re.ENDPOINTS.MUSIC}/scan-music`,e)},system:{getSourceKeys:()=>Ce.get(`${Re.ENDPOINTS.SYSTEM}/source-keys.js`),getSecurityKeys:()=>Ce.get(`${Re.ENDPOINTS.SYSTEM}/security-keys.js`),listRoots:e=>Ce.get(`${Re.ENDPOINTS.SYSTEM}/list-roots`,{params:e}),login:e=>Ce.post(`${Re.ENDPOINTS.SYSTEM}/login`,e),increaseView:e=>Ce.post("/api/increase-view/movie",e)}},Dx={FOLDER_CACHE_PREFIX:"folderCache::",CACHE_EXPIRATION:15*60*1e3},_x=(e,t,n)=>!e||!t?null:`react-${Dx.FOLDER_CACHE_PREFIX}${e}::${t}::${n||""}`,hE=(e,t,n)=>{const r=_x(e,t,n);if(!r)return null;try{const s=localStorage.getItem(r);if(!s)return null;const{timestamp:o,data:a}=JSON.parse(s);return Date.now()-o>Dx.CACHE_EXPIRATION?(localStorage.removeItem(r),console.log(`📦 Cache expired and removed for key: ${r}`),null):(console.log(`📦 Cache hit for key: ${r}`),a)}catch(s){return console.error("Error getting manga cache:",s),null}},mE=(e,t,n,r)=>{const s=_x(e,t,n);if(s)try{const o={data:r,timestamp:Date.now()};localStorage.setItem(s,JSON.stringify(o)),console.log(`📦 Cache set for key: ${s}`)}catch(o){console.error("Error setting manga cache:",o)}},dh=(e,t,n,r=null)=>{if(!e||!t)return;console.log("🔄 updateFavoriteInAllCaches START:",{sourceKey:e,itemPath:t,isFavorite:n,rootFolder:r}),r&&["manga","movie","music"].forEach(d=>{const f=`randomView::${e}::${r}::${d}`;try{const h=localStorage.getItem(f);if(!h)return;const m=JSON.parse(h);let p=!1;if(m.data&&Array.isArray(m.data))for(const x of m.data)x.path===t&&(x.isFavorite=!!n,p=!0,console.log(`🎯 Updated item in randomView ${d}: ${t} -> ${n}`));else if(Array.isArray(m))for(const x of m)x.path===t&&(x.isFavorite=!!n,p=!0,console.log(`🎯 Updated item in randomView ${d} (legacy): ${t} -> ${n}`));p&&(localStorage.setItem(f,JSON.stringify(m)),console.log(`✅ Updated randomView cache for ${d}: ${f}`))}catch(h){console.warn(`❌ Error updating randomView cache for ${d}:`,h)}});const s=[`recentViewed::${r}::${r}`,`recentViewedVideo::${e}`,`recentViewedMusic::${e}`];console.log("🕒 Checking recent cache patterns:",s),s.forEach(d=>{try{const f=localStorage.getItem(d);if(!f){console.log(`📭 No cache found for key: ${d}`);return}const h=JSON.parse(f);let m=!1;if(console.log(`📦 Checking recent cache: ${d}`,h),Array.isArray(h))for(const p of h)p.path===t&&(p.isFavorite=!!n,m=!0,console.log(`🎯 Updated recent item: ${t.split("/").pop()} -> ${n} in ${d}`));else console.log(`⚠️ Recent cache data is not array for ${d}:`,typeof h);m?(localStorage.setItem(d,JSON.stringify(h)),console.log(`✅ Updated recent cache: ${d}`)):console.log(`❌ No items updated in recent cache: ${d}`)}catch(f){console.warn(`❌ Error updating recent cache ${d}:`,f)}}),["randomItems","recentViewed","topViews","mangaFolders"].forEach(d=>{const f=`${d}-${e}`;try{const h=localStorage.getItem(f);if(!h)return;const m=JSON.parse(h);let p=!1;if(Array.isArray(m))for(const x of m)x.path===t&&(x.isFavorite=!!n,p=!0);else if(m.data&&Array.isArray(m.data))for(const x of m.data)x.path===t&&(x.isFavorite=!!n,p=!0);p&&(localStorage.setItem(f,JSON.stringify(m)),console.log(`✅ Updated ${d} cache for ${e}`))}catch(h){console.warn(`❌ Error updating ${d} cache:`,h)}});const a=`mangaCache::${e}::`;Object.keys(localStorage).forEach(d=>{if(d.startsWith(a))try{const f=localStorage.getItem(d),h=JSON.parse(f);let m=!1;if(h.data&&Array.isArray(h.data))for(const p of h.data)p.path===t&&(p.isFavorite=!!n,m=!0);m&&(localStorage.setItem(d,JSON.stringify(h)),console.log(`✅ Updated mangaCache for ${d}`))}catch(f){console.warn(`❌ Error updating mangaCache ${d}:`,f)}});const l=`movieCache::${e}::`;Object.keys(localStorage).forEach(d=>{if(d.startsWith(l))try{const f=localStorage.getItem(d),h=JSON.parse(f);let m=!1;if(h.data&&Array.isArray(h.data))for(const p of h.data)p.path===t&&(p.isFavorite=!!n,m=!0);m&&(localStorage.setItem(d,JSON.stringify(h)),console.log(`✅ Updated movieCache for ${d}`))}catch(f){console.warn(`❌ Error updating movieCache ${d}:`,f)}}),["randomFolders","randomVideos","randomMusic"].forEach(d=>{const f=`${d}-${e}`;try{const h=localStorage.getItem(f);if(!h)return;const m=JSON.parse(h);let p=!1;if(m.data&&Array.isArray(m.data))for(const x of m.data)x.path===t&&(x.isFavorite=!!n,p=!0);p&&(localStorage.setItem(f,JSON.stringify(m)),console.log(`✅ Updated ${d} cache`))}catch(h){console.warn(`❌ Error updating ${d} cache:`,h)}});const u=`react-folderCache::${e}::`;Object.keys(localStorage).forEach(d=>{if(d.startsWith(u))try{const f=localStorage.getItem(d),h=JSON.parse(f);let m=!1;if(h.data){if(Array.isArray(h.data.mangaList))for(const p of h.data.mangaList)p.path===t&&(p.isFavorite=!!n,m=!0,console.log(`🎯 Updated item in GridView cache: ${t} -> ${n}`));if(Array.isArray(h.data.folders))for(const p of h.data.folders)p.path===t&&(p.isFavorite=!!n,m=!0,console.log(`🎯 Updated item in GridView folders cache: ${t} -> ${n}`));t.endsWith("/__self__")&&h.data.isFavorite!==void 0&&(h.data.isFavorite=!!n,m=!0,console.log(`🎯 Updated __self__ item in GridView cache: ${t} -> ${n}`))}m&&(localStorage.setItem(d,JSON.stringify(h)),console.log(`✅ Updated react manga GridView cache for ${d}`))}catch(f){console.warn(`❌ Error updating react manga GridView cache ${d}:`,f)}}),console.log("🎯 updateFavoriteInAllCaches COMPLETED for:",{sourceKey:e,itemPath:t,isFavorite:n})},hi=e=>({ROOT_DOW:"dow",ROOT_FANTASY:"fantasy",ROOT_MANGAH:"mangah",V_ANIME:"anime",V_ANIMEH:"animeh",V_JAVA:"java",V_MOVIE:"movie",M_MUSIC:"music"})[e]||e.toLowerCase().replace(/^(root_|v_|m_)/,""),Le=Da(rc((e,t)=>({sourceKey:"ROOT_FANTASY",rootFolder:"",token:"",isAuthenticated:!1,secureKeys:[],setSourceKey:n=>{const r=hi(n);e({sourceKey:n,rootFolder:r})},setRootFolder:n=>e({rootFolder:n}),setToken:n=>e({token:n,isAuthenticated:!!n}),setSecureKeys:n=>e({secureKeys:n}),login:(n,r)=>{const s=hi(n);e({sourceKey:n,rootFolder:s,token:r,isAuthenticated:!0})},logout:()=>e({sourceKey:"",rootFolder:"",token:"",isAuthenticated:!1}),isSecureKey:n=>{const{secureKeys:r}=t();return r.includes(n)},initializeRootFolder:()=>{const{sourceKey:n,rootFolder:r}=t();if(n&&!r){const s=hi(n);e({rootFolder:s})}}}),{name:"auth-storage",partialize:e=>({sourceKey:e.sourceKey,rootFolder:e.rootFolder,token:e.token,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{if(e!=null&&e.sourceKey&&!(e!=null&&e.rootFolder)){const t=hi(e.sourceKey);e.rootFolder=t}(e==null?void 0:e.sourceKey)==="ROOT_FANTASY"&&!(e!=null&&e.rootFolder)&&(e.rootFolder="fantasy")}})),Gt=Da(e=>({darkMode:!1,sidebarOpen:!1,searchOpen:!1,loading:!1,animationsEnabled:!0,toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSearch:()=>e(t=>({searchOpen:!t.searchOpen})),toggleAnimations:()=>e(t=>({animationsEnabled:!t.animationsEnabled})),setLoading:t=>e({loading:t}),setSidebarOpen:t=>e({sidebarOpen:t}),setSearchOpen:t=>e({searchOpen:t})})),Ct=Da(rc((e,t)=>({currentPath:"",allFolders:[],mangaList:[],favorites:[],loading:!1,error:null,searchTerm:"",shouldNavigateToReader:null,favoritesRefreshTrigger:0,readerSettings:{readingMode:"vertical",darkMode:!1,zoomLevel:100,autoNext:!1,preloadCount:10},mangaSettings:{useDb:!0,gridLoadFromDb:!0,lazyLoad:!1,recentHistoryCount:20,enableRecentTracking:!0},setCurrentPath:n=>e({currentPath:n}),setAllFolders:n=>e({allFolders:n}),setMangaList:n=>e({mangaList:n}),setFavorites:n=>e({favorites:n}),setLoading:n=>e({loading:n}),setError:n=>e({error:n}),setSearchTerm:n=>e({searchTerm:n}),clearNavigationFlag:()=>e({shouldNavigateToReader:null}),fetchMangaFolders:async(n="")=>{var l,c;e({loading:!0,error:null});const{sourceKey:r,rootFolder:s}=Le.getState(),{mangaSettings:o}=t(),a=hE(r,s,n);if(a){console.log("📦 Using cached data for path:",n),e({mangaList:a.mangaList,currentPath:n,loading:!1});return}try{const u={mode:"path",key:r,root:s,path:n,useDb:o.useDb?"1":"0"},f=(await _e.manga.getFolders(u)).data;console.log("🔍 API Response:",f);const h=p=>(!p||typeof p!="string"||p.startsWith("http")||p.startsWith("/default/"),p);let m=[];if(f.type==="folder"){if(f.images&&f.images.length>0){const p=n.split("/"),x=p[p.length-1]||"Xem ảnh";m.push({name:x,path:n+"/__self__",thumbnail:h(f.images[0]),isSelfReader:!0,images:f.images.map(h),hasImages:!0})}if(f.folders&&f.folders.length>0)for(const p of f.folders)m.push({...p,thumbnail:h(p.thumbnail),isSelfReader:!1,hasImages:!1})}else if(f.type==="reader"){e({mangaList:[],currentPath:n,loading:!1,shouldNavigateToReader:n});return}console.log("📁 Processed folders:",m),m.length===0&&console.warn("⚠️ No folders found for path:",n),e({mangaList:m,currentPath:n,loading:!1}),mE(r,s,n,{mangaList:m})}catch(u){console.error("Fetch manga folders error:",u),e({error:((c=(l=u.response)==null?void 0:l.data)==null?void 0:c.message)||u.message,loading:!1})}},fetchFavorites:async()=>{var n,r;try{const{sourceKey:s,rootFolder:o}=Le.getState(),a={key:s,root:o},l=await _e.manga.getFavorites(a);e({favorites:l.data||[]})}catch(s){console.error("Fetch favorites error:",s),e({error:((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||s.message})}},updateReaderSettings:n=>e(r=>({readerSettings:{...r.readerSettings,...n}})),updateMangaSettings:n=>e(r=>({mangaSettings:{...r.mangaSettings,...n}})),clearRecentHistory:(n="manga")=>{const{sourceKey:r,rootFolder:s}=Le.getState();try{let o;switch(n){case"manga":o=`recentViewed::${s}::${s}`;break;case"movie":o=`recentViewedVideo::${r}`;break;case"music":o=`recentViewedMusic::${r}`;break;default:o=`recentViewed::${n}::${r}`}localStorage.removeItem(o),console.log("🗑️ Cleared recent history:",{type:n,cacheKey:o})}catch(o){console.warn("Error clearing recent history:",o)}},clearAllCache:()=>{const{sourceKey:n,rootFolder:r}=Le.getState();try{const s=[`recentViewed::${r}::${r}`,`recentViewedVideo::${n}`,`recentViewedMusic::${n}`],o=[`randomView::${n}::${r}::manga`,`randomView::${n}::${r}::movie`,`randomView::${n}::${r}::music`],a=[`topView::${n}::${r}::manga`,`topView::${n}::${r}::movie`,`topView::${n}::${r}::music`],l=[...s,...o,...a];l.forEach(c=>{localStorage.removeItem(c)}),console.log("🗑️ Cleared all cache:",l.length,"keys")}catch(s){console.warn("Error clearing all cache:",s)}},clearMangaCache:()=>e({mangaList:[],allFolders:[],currentPath:"",error:null}),toggleFavorite:async n=>{var r,s;try{const{sourceKey:o,rootFolder:a}=Le.getState(),l=t().favorites.some(u=>u.path===n.path),c=!l;console.log("🔄 MangaStore toggleFavorite:",{sourceKey:o,rootFolder:a,path:n.path,newFavoriteState:c}),await _e.manga.toggleFavorite(o,n.path,c),e(u=>{const d=l?u.favorites.filter(h=>h.path!==n.path):[...u.favorites,n],f=u.mangaList.map(h=>h.path===n.path?{...h,isFavorite:c}:h);return{favorites:d,mangaList:f,favoritesRefreshTrigger:u.favoritesRefreshTrigger+1}}),dh(o,n.path,c,a),console.log("✅ MangaStore toggleFavorite completed")}catch(o){console.error("Toggle favorite error:",o),e({error:((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.message)||o.message})}}}),{name:"manga-storage",partialize:e=>({recentViewed:e.recentViewed,favorites:e.favorites,readerSettings:e.readerSettings,mangaSettings:e.mangaSettings})})),ln=Da(rc((e,t)=>({currentPath:"",movieList:[],allMovies:[],favorites:[],loading:!1,error:null,searchTerm:"",currentMovie:null,favoritesRefreshTrigger:0,playerSettings:{volume:1,autoplay:!1,loop:!1,quality:"auto"},setCurrentPath:n=>e({currentPath:n}),setMovieList:n=>e({movieList:n,allMovies:n}),setAllMovies:n=>e({allMovies:n,movieList:n}),setFavorites:n=>e({favorites:n}),setLoading:n=>e({loading:n}),setError:n=>e({error:n}),setSearchTerm:n=>e({searchTerm:n}),setCurrentMovie:n=>e({currentMovie:n}),updatePlayerSettings:n=>e(r=>({playerSettings:{...r.playerSettings,...n}})),clearMovieCache:()=>e({allMovies:[],movieList:[],currentPath:"",error:null}),fetchMovieFolders:async(n="")=>{var s,o;e({loading:!0,error:null});const{sourceKey:r}=Le.getState();if(console.log("🎬 fetchMovieFolders called with:",{path:n,sourceKey:r}),!r){console.error("❌ No sourceKey found"),e({error:"No source key selected",loading:!1});return}try{const a={key:r};n&&(a.path=n),console.log("🎬 API request params:",a);const c=(await _e.movie.getFolders(a)).data;console.log("🎬 Movie API Response:",c);const d=(c.folders||[]).map(f=>{var m;let h=f.thumbnail;if(h&&h!=="null")if(h.startsWith("/video/")||h.startsWith("http")||h.startsWith("/default/"))h=h;else{let p=((m=f.path)==null?void 0:m.split("/").filter(Boolean))||[];(f.type==="video"||f.type==="file")&&p.pop();const x=p.join("/");let b=h;x&&b.startsWith(x+"/")&&(b=b.slice(x.length+1));const v=x?x.split("/").map(encodeURIComponent).join("/")+"/":"",g=b.split("/").map(encodeURIComponent).join("/");h=`/video/${v}${g.replace(/\\/g,"/")}`}else h=f.type==="video"||f.type==="file"?"/default/video-thumb.png":"/default/folder-thumb.png";return{...f,thumbnail:h,isFavorite:!!f.isFavorite}});e({movieList:d,allMovies:d,currentPath:n,loading:!1})}catch(a){console.error("Fetch movie folders error:",a),e({error:((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||a.message,loading:!1})}},fetchFavorites:async()=>{var n,r;try{const{sourceKey:s}=Le.getState(),o={key:s},c=((await _e.movie.getFavorites(o)).data||[]).map(u=>{var f;let d=u.thumbnail;if(d&&d!=="null")if(d.startsWith("/video/")||d.startsWith("http")||d.startsWith("/default/"))d=d;else{let h=((f=u.path)==null?void 0:f.split("/").filter(Boolean))||[];(u.type==="video"||u.type==="file")&&h.pop();const m=h.join("/");let p=d;m&&p.startsWith(m+"/")&&(p=p.slice(m.length+1));const x=m?m.split("/").map(encodeURIComponent).join("/")+"/":"",b=p.split("/").map(encodeURIComponent).join("/");d=`/video/${x}${b.replace(/\\/g,"/")}`}else d=u.type==="video"||u.type==="file"?"/default/video-thumb.png":"/default/folder-thumb.png";return{...u,thumbnail:d}});e({favorites:c})}catch(s){console.error("Fetch movie favorites error:",s),e({error:((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||s.message})}},toggleFavorite:async n=>{var r,s;try{const{sourceKey:o}=Le.getState(),a=t().favorites.some(c=>c.path===n.path),l=!a;console.log("🎬 MovieStore toggleFavorite:",{sourceKey:o,path:n.path,newFavoriteState:l}),await _e.movie.toggleFavorite(o,n.path,l),e(c=>{const u=a?c.favorites.filter(f=>f.path!==n.path):[...c.favorites,{...n,isFavorite:!0}],d=c.movieList.map(f=>f.path===n.path?{...f,isFavorite:l}:f);return{favorites:u,movieList:d,allMovies:d,favoritesRefreshTrigger:c.favoritesRefreshTrigger+1}}),dh(o,n.path,l,"java"),console.log("✅ MovieStore toggleFavorite completed")}catch(o){console.error("Toggle movie favorite error:",o),e({error:((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.message)||o.message})}},removeFavorite:async n=>{var r,s;try{const{sourceKey:o}=Le.getState();await _e.movie.toggleFavorite(o,n.path,!1),e(a=>({favorites:a.favorites.filter(l=>l.path!==n.path)}))}catch(o){console.error("Remove movie favorite error:",o),e({error:((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.message)||o.message})}},clearRecentHistory:()=>{const{sourceKey:n}=Le.getState();try{const r=`recentViewedVideo::${n}`;localStorage.removeItem(r),console.log("🎬 Movie recent history cleared")}catch(r){console.error("Error clearing movie recent history:",r)}}}),{name:"movie-storage",partialize:e=>({favorites:e.favorites,playerSettings:e.playerSettings,currentPath:e.currentPath})})),Fn=Da(rc((e,t)=>({currentTrack:null,currentPlaylist:[],currentIndex:0,isPlaying:!1,volume:1,shuffle:!1,repeat:"none",playlists:[],favorites:[],recentPlayed:[],playTrack:(n,r=[],s=0)=>e({currentTrack:n,currentPlaylist:r,currentIndex:s,isPlaying:!0}),pauseTrack:()=>e({isPlaying:!1}),resumeTrack:()=>e({isPlaying:!0}),nextTrack:()=>e(n=>{const{currentIndex:r,currentPlaylist:s,shuffle:o,repeat:a}=n;let l;return o?l=Math.floor(Math.random()*s.length):(l=r+1,l>=s.length&&(l=a==="all"?0:r)),{currentIndex:l,currentTrack:s[l]||n.currentTrack}}),prevTrack:()=>e(n=>{const{currentIndex:r,currentPlaylist:s}=n,o=r>0?r-1:s.length-1;return{currentIndex:o,currentTrack:s[o]||n.currentTrack}}),setVolume:n=>e({volume:n}),toggleShuffle:()=>e(n=>({shuffle:!n.shuffle})),setRepeat:n=>e({repeat:n}),setPlaylists:n=>e({playlists:n}),addPlaylist:n=>e(r=>({playlists:[...r.playlists,n]})),updatePlaylist:(n,r)=>e(s=>({playlists:s.playlists.map(o=>o.id===n?{...o,...r}:o)})),deletePlaylist:n=>e(r=>({playlists:r.playlists.filter(s=>s.id!==n)})),setFavorites:n=>e({favorites:n}),clearMusicCache:()=>e({currentTrack:null,currentPlaylist:[],currentIndex:0,isPlaying:!1,playlists:[],error:null}),fetchFavorites:async()=>{var n,r;try{const{sourceKey:s}=Le.getState(),o={key:s};try{const a=await((r=(n=_e.music).getFavorites)==null?void 0:r.call(n,o));e({favorites:a.data||[]})}catch{console.warn("Music favorites API not implemented")}}catch(s){console.error("Fetch music favorites error:",s)}},toggleFavorite:async n=>{try{const{sourceKey:r,rootFolder:s}=Le.getState(),o=t().favorites.some(l=>l.path===n.path),a=!o;console.log("🎵 MusicStore toggleFavorite:",{sourceKey:r,path:n.path,newFavoriteState:a});try{await _e.music.toggleFavorite(r,n.path,a)}catch{console.warn("Music toggle favorite API not implemented")}e(l=>({favorites:o?l.favorites.filter(u=>u.path!==n.path):[...l.favorites,n]})),dh(r,n.path,a,s),console.log("✅ MusicStore toggleFavorite completed")}catch(r){console.error("Toggle music favorite error:",r)}},addToRecentPlayed:n=>e(r=>{const s=r.recentPlayed.filter(o=>o.path!==n.path);return{recentPlayed:[n,...s].slice(0,50)}})}),{name:"music-storage",partialize:e=>({volume:e.volume,shuffle:e.shuffle,repeat:e.repeat,playlists:e.playlists,favorites:e.favorites,recentPlayed:e.recentPlayed})}));let pE={data:""},gE=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||pE,yE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vE=/\/\*[^]*?\*\/|  +/g,Gp=/\n+/g,lr=(e,t)=>{let n="",r="",s="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?lr(a,o):o+"{"+lr(a,o[1]=="k"?"":t)+"}":typeof a=="object"?r+=lr(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=lr.p?lr.p(o,a):o+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},An={},Ix=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Ix(e[n]);return t}return e},xE=(e,t,n,r,s)=>{let o=Ix(e),a=An[o]||(An[o]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(o));if(!An[a]){let c=o!==e?e:(u=>{let d,f,h=[{}];for(;d=yE.exec(u.replace(vE,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Gp," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Gp," ").trim();return h[0]})(e);An[a]=lr(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&An.g?An.g:null;return n&&(An.g=An[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(An[a],t,r,l),a},bE=(e,t,n)=>e.reduce((r,s,o)=>{let a=t[o];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":lr(l,""):l===!1?"":l}return r+s+(a??"")},"");function dc(e){let t=this||{},n=e.call?e(t.p):e;return xE(n.unshift?n.raw?bE(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,gE(t.target),t.g,t.o,t.k)}let $x,Md,Od;dc.bind({g:1});let Qn=dc.bind({k:1});function wE(e,t,n,r){lr.p=t,$x=e,Md=n,Od=r}function Ar(e,t){let n=this||{};return function(){let r=arguments;function s(o,a){let l=Object.assign({},o),c=l.className||s.className;n.p=Object.assign({theme:Md&&Md()},l),n.o=/ *go\d+/.test(c),l.className=dc.apply(n,r)+(c?" "+c:""),t&&(l.ref=a);let u=e;return e[0]&&(u=l.as||e,delete l.as),Od&&u[0]&&Od(l),$x(u,l)}return t?t(s):s}}var kE=e=>typeof e=="function",jl=(e,t)=>kE(e)?e(t):e,SE=(()=>{let e=0;return()=>(++e).toString()})(),Vx=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jE=20,zx=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,jE)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return zx(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},_i=[],Xr={toasts:[],pausedAt:void 0},hs=e=>{Xr=zx(Xr,e),_i.forEach(t=>{t(Xr)})},NE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CE=(e={})=>{let[t,n]=w.useState(Xr),r=w.useRef(Xr);w.useEffect(()=>(r.current!==Xr&&n(Xr),_i.push(n),()=>{let o=_i.indexOf(n);o>-1&&_i.splice(o,1)}),[]);let s=t.toasts.map(o=>{var a,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||NE[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:s}},EE=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||SE()}),Va=e=>(t,n)=>{let r=EE(t,e,n);return hs({type:2,toast:r}),r.id},Tt=(e,t)=>Va("blank")(e,t);Tt.error=Va("error");Tt.success=Va("success");Tt.loading=Va("loading");Tt.custom=Va("custom");Tt.dismiss=e=>{hs({type:3,toastId:e})};Tt.remove=e=>hs({type:4,toastId:e});Tt.promise=(e,t,n)=>{let r=Tt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?jl(t.success,s):void 0;return o?Tt.success(o,{id:r,...n,...n==null?void 0:n.success}):Tt.dismiss(r),s}).catch(s=>{let o=t.error?jl(t.error,s):void 0;o?Tt.error(o,{id:r,...n,...n==null?void 0:n.error}):Tt.dismiss(r)}),e};var PE=(e,t)=>{hs({type:1,toast:{id:e,height:t}})},TE=()=>{hs({type:5,time:Date.now()})},Bo=new Map,ME=1e3,OE=(e,t=ME)=>{if(Bo.has(e))return;let n=setTimeout(()=>{Bo.delete(e),hs({type:4,toastId:e})},t);Bo.set(e,n)},RE=e=>{let{toasts:t,pausedAt:n}=CE(e);w.useEffect(()=>{if(n)return;let o=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&Tt.dismiss(l.id);return}return setTimeout(()=>Tt.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=w.useCallback(()=>{n&&hs({type:6,time:Date.now()})},[n]),s=w.useCallback((o,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=t.filter(m=>(m.position||u)===(o.position||u)&&m.height),f=d.findIndex(m=>m.id===o.id),h=d.filter((m,p)=>p<f&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[h+1]:[0,h]).reduce((m,p)=>m+(p.height||0)+c,0)},[t]);return w.useEffect(()=>{t.forEach(o=>{if(o.dismissed)OE(o.id,o.removeDelay);else{let a=Bo.get(o.id);a&&(clearTimeout(a),Bo.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:PE,startPause:TE,endPause:r,calculateOffset:s}}},LE=Qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,FE=Qn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AE=Qn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,DE=Ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${FE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_E=Qn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IE=Ar("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_E} 1s linear infinite;
`,$E=Qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,VE=Qn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zE=Ar("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$E} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${VE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UE=Ar("div")`
  position: absolute;
`,BE=Ar("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HE=Qn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WE=Ar("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KE=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(WE,null,t):t:n==="blank"?null:w.createElement(BE,null,w.createElement(IE,{...r}),n!=="loading"&&w.createElement(UE,null,n==="error"?w.createElement(DE,{...r}):w.createElement(zE,{...r})))},qE=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QE=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,GE="0%{opacity:0;} 100%{opacity:1;}",XE="0%{opacity:1;} 100%{opacity:0;}",JE=Ar("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YE=Ar("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZE=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Vx()?[GE,XE]:[qE(n),QE(n)];return{animation:t?`${Qn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eP=w.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?ZE(e.position||t||"top-center",e.visible):{opacity:0},o=w.createElement(KE,{toast:e}),a=w.createElement(YE,{...e.ariaProps},jl(e.message,e));return w.createElement(JE,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:o,message:a}):w.createElement(w.Fragment,null,o,a))});wE(w.createElement);var tP=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let o=w.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:o,className:t,style:n},s)},nP=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},rP=dc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mi=16,sP=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=RE(n);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:mi,left:mi,right:mi,bottom:mi,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),h=nP(d,f);return w.createElement(tP,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?rP:"",style:h},u.type==="custom"?jl(u.message,u):s?s(u):w.createElement(eP,{toast:u,position:d}))}))},Ae=Tt;const Ux=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),fc=w.createContext({}),hc=w.createContext(null),mc=typeof document<"u",fh=mc?w.useLayoutEffect:w.useEffect,Bx=w.createContext({strict:!1}),hh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),oP="framerAppearId",Hx="data-"+hh(oP);function aP(e,t,n,r){const{visualElement:s}=w.useContext(fc),o=w.useContext(Bx),a=w.useContext(hc),l=w.useContext(Ux).reducedMotion,c=w.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;w.useInsertionEffect(()=>{u&&u.update(n,a)});const d=w.useRef(!!(n[Hx]&&!window.HandoffComplete));return fh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Os(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iP(e,t,n){return w.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Os(n)&&(n.current=r))},[t])}function xa(e){return typeof e=="string"||Array.isArray(e)}function pc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const mh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ph=["initial",...mh];function gc(e){return pc(e.animate)||ph.some(t=>xa(e[t]))}function Wx(e){return!!(gc(e)||e.variants)}function lP(e,t){if(gc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xa(n)?n:void 0,animate:xa(r)?r:void 0}}return e.inherit!==!1?t:{}}function cP(e){const{initial:t,animate:n}=lP(e,w.useContext(fc));return w.useMemo(()=>({initial:t,animate:n}),[Xp(t),Xp(n)])}function Xp(e){return Array.isArray(e)?e.join(" "):e}const Jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ba={};for(const e in Jp)ba[e]={isEnabled:t=>Jp[e].some(n=>!!t[n])};function uP(e){for(const t in e)ba[t]={...ba[t],...e[t]}}const gh=w.createContext({}),Kx=w.createContext({}),dP=Symbol.for("motionComponentSymbol");function fP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&uP(e);function o(l,c){let u;const d={...w.useContext(Ux),...l,layoutId:hP(l)},{isStatic:f}=d,h=cP(l),m=r(l,f);if(!f&&mc){h.visualElement=aP(s,m,d,t);const p=w.useContext(Kx),x=w.useContext(Bx).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,x,e,p))}return w.createElement(fc.Provider,{value:h},u&&h.visualElement?w.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,iP(m,h.visualElement,c),m,f,h.visualElement))}const a=w.forwardRef(o);return a[dP]=s,a}function hP({layoutId:e}){const t=w.useContext(gh).id;return t&&e!==void 0?t+"-"+e:e}function mP(e){function t(r,s={}){return fP(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const pP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yh(e){return typeof e!="string"||e.includes("-")?!1:!!(pP.indexOf(e)>-1||/[A-Z]/.test(e))}const Nl={};function gP(e){Object.assign(Nl,e)}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=new Set(za);function qx(e,{layout:t,layoutId:n}){return ms.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nl[e]||e==="opacity")}const Vt=e=>!!(e&&e.getVelocity),yP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vP=za.length;function xP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let a=0;a<vP;a++){const l=za[a];if(e[l]!==void 0){const c=yP[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const Qx=e=>t=>typeof t=="string"&&t.startsWith(e),Gx=Qx("--"),Rd=Qx("var(--"),bP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Tr=(e,t,n)=>Math.min(Math.max(n,e),t),ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ho={...ps,transform:e=>Tr(0,1,e)},pi={...ps,default:1},Wo=e=>Math.round(e*1e5)/1e5,yc=/(-)?([\d]*\.?[\d])+/g,Xx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ua(e){return typeof e=="string"}const Ba=e=>({test:t=>Ua(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tr=Ba("deg"),Ln=Ba("%"),be=Ba("px"),SP=Ba("vh"),jP=Ba("vw"),Yp={...Ln,parse:e=>Ln.parse(e)/100,transform:e=>Ln.transform(e*100)},Zp={...ps,transform:Math.round},Jx={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:pi,scaleX:pi,scaleY:pi,scaleZ:pi,skew:tr,skewX:tr,skewY:tr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Ho,originX:Yp,originY:Yp,originZ:be,zIndex:Zp,fillOpacity:Ho,strokeOpacity:Ho,numOctaves:Zp};function vh(e,t,n,r){const{style:s,vars:o,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Gx(f)){o[f]=h;continue}const m=Jx[f],p=wP(h,m);if(ms.has(f)){if(c=!0,a[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=p):s[f]=p}if(t.transform||(c||r?s.transform=xP(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${h} ${m}`}}const xh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yx(e,t,n){for(const r in t)!Vt(t[r])&&!qx(r,n)&&(e[r]=t[r])}function NP({transformTemplate:e},t,n){return w.useMemo(()=>{const r=xh();return vh(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function CP(e,t,n){const r=e.style||{},s={};return Yx(s,r,e),Object.assign(s,NP(e,t,n)),e.transformValues?e.transformValues(s):s}function EP(e,t,n){const r={},s=CP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const PP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PP.has(e)}let Zx=e=>!Cl(e);function TP(e){e&&(Zx=t=>t.startsWith("on")?!Cl(t):e(t))}try{TP(require("@emotion/is-prop-valid").default)}catch{}function MP(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Zx(s)||n===!0&&Cl(s)||!t&&!Cl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function eg(e,t,n){return typeof e=="string"?e:be.transform(t+n*e)}function OP(e,t,n){const r=eg(t,e.x,e.width),s=eg(n,e.y,e.height);return`${r} ${s}`}const RP={offset:"stroke-dashoffset",array:"stroke-dasharray"},LP={offset:"strokeDashoffset",array:"strokeDasharray"};function FP(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?RP:LP;e[o.offset]=be.transform(-r);const a=be.transform(t),l=be.transform(n);e[o.array]=`${a} ${l}`}function bh(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(vh(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:x}=e;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(s!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=OP(x,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&FP(m,a,l,c,!1)}const e1=()=>({...xh(),attrs:{}}),wh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function AP(e,t,n,r){const s=w.useMemo(()=>{const o=e1();return bh(o,t,{enableHardwareAcceleration:!1},wh(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Yx(o,e.style,e),s.style={...o,...s.style}}return s}function DP(e=!1){return(n,r,s,{latestValues:o},a)=>{const c=(yh(n)?AP:EP)(r,o,a,n),d={...MP(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=w.useMemo(()=>Vt(f)?f.get():f,[f]);return w.createElement(n,{...d,children:h})}}function t1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const n1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r1(e,t,n,r){t1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(n1.has(s)?s:hh(s),t.attrs[s])}function kh(e,t){const{style:n}=e,r={};for(const s in n)(Vt(n[s])||t.style&&Vt(t.style[s])||qx(s,e))&&(r[s]=n[s]);return r}function s1(e,t){const n=kh(e,t);for(const r in e)if(Vt(e[r])||Vt(t[r])){const s=za.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Sh(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function o1(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const El=e=>Array.isArray(e),_P=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),IP=e=>El(e)?e[e.length-1]||0:e;function Ii(e){const t=Vt(e)?e.get():e;return _P(t)?t.toValue():t}function $P({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const a={latestValues:VP(r,s,o,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const a1=e=>(t,n)=>{const r=w.useContext(fc),s=w.useContext(hc),o=()=>$P(e,t,r,s);return n?o():o1(o)};function VP(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=Ii(o[h]);let{initial:a,animate:l}=e;const c=gc(e),u=Wx(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!pc(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=Sh(e,m);if(!p)return;const{transitionEnd:x,transition:b,...v}=p;for(const g in v){let y=v[g];if(Array.isArray(y)){const k=d?y.length-1:0;y=y[k]}y!==null&&(s[g]=y)}for(const g in x)s[g]=x[g]}),s}const nt=e=>e;class tg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function zP(e){let t=new tg,n=new tg,r=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&a.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const gi=["prepare","read","update","preRender","render","postRender"],UP=40;function BP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=gi.reduce((f,h)=>(f[h]=zP(()=>n=!0),f),{}),a=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,UP),1),s.timestamp=f,s.isProcessing=!0,gi.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:gi.reduce((f,h)=>{const m=o[h];return f[h]=(p,x=!1,b=!1)=>(n||c(),m.schedule(p,x,b)),f},{}),cancel:f=>gi.forEach(h=>o[h].cancel(f)),state:s,steps:o}}const{schedule:Be,cancel:Gn,state:kt,steps:ru}=BP(typeof requestAnimationFrame<"u"?requestAnimationFrame:nt,!0),HP={useVisualState:a1({scrapeMotionValuesFromProps:s1,createRenderState:e1,onMount:(e,t,{renderState:n,latestValues:r})=>{Be.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Be.render(()=>{bh(n,r,{enableHardwareAcceleration:!1},wh(t.tagName),e.transformTemplate),r1(t,n)})}})},WP={useVisualState:a1({scrapeMotionValuesFromProps:kh,createRenderState:xh})};function KP(e,{forwardMotionProps:t=!1},n,r){return{...yh(e)?HP:WP,preloadedFeatures:n,useRender:DP(t),createVisualElement:r,Component:e}}function Vn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const i1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function vc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const qP=e=>t=>i1(t)&&e(t,vc(t));function Un(e,t,n,r){return Vn(e,t,qP(n),r)}const QP=(e,t)=>n=>t(e(n)),Sr=(...e)=>e.reduce(QP);function l1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ng=l1("dragHorizontal"),rg=l1("dragVertical");function c1(e){let t=!1;if(e==="y")t=rg();else if(e==="x")t=ng();else{const n=ng(),r=rg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function u1(){const e=c1(!0);return e?(e(),!1):!0}class Dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||u1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Be.update(()=>l[r](o,a))};return Un(e.current,n,s,{passive:!e.getProps()[r]})}class GP extends Dr{mount(){this.unmount=Sr(sg(this.node,!0),sg(this.node,!1))}unmount(){}}class XP extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sr(Vn(this.node.current,"focus",()=>this.onFocus()),Vn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const d1=(e,t)=>t?e===t?!0:d1(e,t.parentElement):!1;function su(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,vc(n))}class JP extends Dr{constructor(){super(...arguments),this.removeStartListeners=nt,this.removeEndListeners=nt,this.removeAccessibleListeners=nt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Un(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Be.update(()=>{!f&&!d1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Un(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Sr(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||su("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Be.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Vn(this.node.current,"keyup",a),su("down",(l,c)=>{this.startPress(l,c)})},n=Vn(this.node.current,"keydown",t),r=()=>{this.isPressing&&su("cancel",(o,a)=>this.cancelPress(o,a))},s=Vn(this.node.current,"blur",r);this.removeAccessibleListeners=Sr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Be.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!u1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Be.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Un(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Vn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ld=new WeakMap,ou=new WeakMap,YP=e=>{const t=Ld.get(e.target);t&&t(e)},ZP=e=>{e.forEach(YP)};function eT({root:e,...t}){const n=e||document;ou.has(n)||ou.set(n,{});const r=ou.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(ZP,{root:e,...t})),r[s]}function tT(e,t,n){const r=eT(t);return Ld.set(e,n),r.observe(e),()=>{Ld.delete(e),r.unobserve(e)}}const nT={some:0,all:1};class rT extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:nT[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return tT(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(sT(t,n))&&this.startObserver()}unmount(){}}function sT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const oT={inView:{Feature:rT},tap:{Feature:JP},focus:{Feature:XP},hover:{Feature:GP}};function f1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function aT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function iT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function xc(e,t,n){const r=e.getProps();return Sh(r,t,n!==void 0?n:r.custom,aT(e),iT(e))}let lT=nt,jh=nt;const jr=e=>e*1e3,Bn=e=>e/1e3,cT={current:!1},h1=e=>Array.isArray(e)&&typeof e[0]=="number";function m1(e){return!!(!e||typeof e=="string"&&p1[e]||h1(e)||Array.isArray(e)&&e.every(m1))}const To=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,p1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function g1(e){if(e)return h1(e)?To(e):Array.isArray(e)?e.map(g1):p1[e]}function uT(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=g1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function dT(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const y1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fT=1e-7,hT=12;function mT(e,t,n,r,s){let o,a,l=0;do a=t+(n-t)/2,o=y1(a,r,s)-e,o>0?n=a:t=a;while(Math.abs(o)>fT&&++l<hT);return a}function Ha(e,t,n,r){if(e===t&&n===r)return nt;const s=o=>mT(o,0,1,e,n);return o=>o===0||o===1?o:y1(s(o),t,r)}const pT=Ha(.42,0,1,1),gT=Ha(0,0,.58,1),v1=Ha(.42,0,.58,1),yT=e=>Array.isArray(e)&&typeof e[0]!="number",x1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,b1=e=>t=>1-e(1-t),Nh=e=>1-Math.sin(Math.acos(e)),w1=b1(Nh),vT=x1(Nh),k1=Ha(.33,1.53,.69,.99),Ch=b1(k1),xT=x1(Ch),bT=e=>(e*=2)<1?.5*Ch(e):.5*(2-Math.pow(2,-10*(e-1))),wT={linear:nt,easeIn:pT,easeInOut:v1,easeOut:gT,circIn:Nh,circInOut:vT,circOut:w1,backIn:Ch,backInOut:xT,backOut:k1,anticipate:bT},og=e=>{if(Array.isArray(e)){jh(e.length===4);const[t,n,r,s]=e;return Ha(t,n,r,s)}else if(typeof e=="string")return wT[e];return e},Eh=(e,t)=>n=>!!(Ua(n)&&kP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),S1=(e,t,n)=>r=>{if(!Ua(r))return r;const[s,o,a,l]=r.match(yc);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},kT=e=>Tr(0,255,e),au={...ps,transform:e=>Math.round(kT(e))},Jr={test:Eh("rgb","red"),parse:S1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+au.transform(e)+", "+au.transform(t)+", "+au.transform(n)+", "+Wo(Ho.transform(r))+")"};function ST(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fd={test:Eh("#"),parse:ST,transform:Jr.transform},Rs={test:Eh("hsl","hue"),parse:S1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ln.transform(Wo(t))+", "+Ln.transform(Wo(n))+", "+Wo(Ho.transform(r))+")"},Et={test:e=>Jr.test(e)||Fd.test(e)||Rs.test(e),parse:e=>Jr.test(e)?Jr.parse(e):Rs.test(e)?Rs.parse(e):Fd.parse(e),transform:e=>Ua(e)?e:e.hasOwnProperty("red")?Jr.transform(e):Rs.transform(e)},Xe=(e,t,n)=>-n*e+n*t+e;function iu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,a=0;if(!t)s=o=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=iu(c,l,e+1/3),o=iu(c,l,e),a=iu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const lu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},NT=[Fd,Jr,Rs],CT=e=>NT.find(t=>t.test(e));function ag(e){const t=CT(e);let n=t.parse(e);return t===Rs&&(n=jT(n)),n}const j1=(e,t)=>{const n=ag(e),r=ag(t),s={...n};return o=>(s.red=lu(n.red,r.red,o),s.green=lu(n.green,r.green,o),s.blue=lu(n.blue,r.blue,o),s.alpha=Xe(n.alpha,r.alpha,o),Jr.transform(s))};function ET(e){var t,n;return isNaN(e)&&Ua(e)&&(((t=e.match(yc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Xx))===null||n===void 0?void 0:n.length)||0)>0}const N1={regex:bP,countKey:"Vars",token:"${v}",parse:nt},C1={regex:Xx,countKey:"Colors",token:"${c}",parse:Et.parse},E1={regex:yc,countKey:"Numbers",token:"${n}",parse:ps.parse};function cu(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Pl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&cu(n,N1),cu(n,C1),cu(n,E1),n}function P1(e){return Pl(e).values}function T1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Pl(e),o=t.length;return a=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(N1.token,a[c]):c<r+n?l=l.replace(C1.token,Et.transform(a[c])):l=l.replace(E1.token,Wo(a[c]));return l}}const PT=e=>typeof e=="number"?0:e;function TT(e){const t=P1(e);return T1(e)(t.map(PT))}const Mr={test:ET,parse:P1,createTransformer:T1,getAnimatableNone:TT},M1=(e,t)=>n=>`${n>0?t:e}`;function O1(e,t){return typeof e=="number"?n=>Xe(e,t,n):Et.test(e)?j1(e,t):e.startsWith("var(")?M1(e,t):L1(e,t)}const R1=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,a)=>O1(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}},MT=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=O1(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},L1=(e,t)=>{const n=Mr.createTransformer(t),r=Pl(e),s=Pl(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Sr(R1(r.values,s.values),n):M1(e,t)},wa=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ig=(e,t)=>n=>Xe(e,t,n);function OT(e){return typeof e=="number"?ig:typeof e=="string"?Et.test(e)?j1:L1:Array.isArray(e)?R1:typeof e=="object"?MT:ig}function RT(e,t,n){const r=[],s=n||OT(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||nt:t;l=Sr(c,l)}r.push(l)}return r}function F1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(jh(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=RT(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=wa(e[d],e[d+1],u);return a[d](f)};return n?u=>c(Tr(e[0],e[o-1],u)):c}function LT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=wa(0,t,r);e.push(Xe(n,1,s))}}function FT(e){const t=[0];return LT(t,e.length-1),t}function AT(e,t){return e.map(n=>n*t)}function DT(e,t){return e.map(()=>t||v1).splice(0,e.length-1)}function Tl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=yT(r)?r.map(og):og(r),o={done:!1,value:t[0]},a=AT(n&&n.length===t.length?n:FT(t),e),l=F1(a,t,{ease:Array.isArray(s)?s:DT(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function A1(e,t){return t?e*(1e3/t):0}const _T=5;function D1(e,t,n){const r=Math.max(t-_T,0);return A1(n-e(r),t-r)}const uu=.001,IT=.01,lg=10,$T=.05,VT=1;function zT({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;lT(e<=jr(lg));let a=1-t;a=Tr($T,VT,a),e=Tr(IT,lg,Bn(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-n,m=Ad(u,a),p=Math.exp(-f);return uu-h/m*p},o=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),x=Ad(Math.pow(u,2),a);return(-s(u)+uu>0?-1:1)*((h-m)*p)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-uu+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=BT(s,o,l);if(e=jr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const UT=12;function BT(e,t,n){let r=n;for(let s=1;s<UT;s++)r=r-e(r)/t(r);return r}function Ad(e,t){return e*Math.sqrt(1-t*t)}const HT=["duration","bounce"],WT=["stiffness","damping","mass"];function cg(e,t){return t.some(n=>e[n]!==void 0)}function KT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!cg(e,WT)&&cg(e,HT)){const n=zT(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function _1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=KT({...r,velocity:-Bn(r.velocity||0)}),m=f||0,p=c/(2*Math.sqrt(l*u)),x=o-s,b=Bn(Math.sqrt(l/u)),v=Math.abs(x)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let g;if(p<1){const y=Ad(b,p);g=k=>{const S=Math.exp(-p*b*k);return o-S*((m+p*b*x)/y*Math.sin(y*k)+x*Math.cos(y*k))}}else if(p===1)g=y=>o-Math.exp(-b*y)*(x+(m+b*x)*y);else{const y=b*Math.sqrt(p*p-1);g=k=>{const S=Math.exp(-p*b*k),C=Math.min(y*k,300);return o-S*((m+p*b*x)*Math.sinh(C)+y*x*Math.cosh(C))/y}}return{calculatedDuration:h&&d||null,next:y=>{const k=g(y);if(h)a.done=y>=d;else{let S=m;y!==0&&(p<1?S=D1(g,y,k):S=0);const C=Math.abs(S)<=n,N=Math.abs(o-k)<=t;a.done=C&&N}return a.value=a.done?o:k,a}}}function ug({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=j=>l!==void 0&&j<l||c!==void 0&&j>c,p=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let x=n*t;const b=f+x,v=a===void 0?b:a(b);v!==b&&(x=v-f);const g=j=>-x*Math.exp(-j/r),y=j=>v+g(j),k=j=>{const P=g(j),D=y(j);h.done=Math.abs(P)<=u,h.value=h.done?v:D};let S,C;const N=j=>{m(h.value)&&(S=j,C=_1({keyframes:[h.value,p(h.value)],velocity:D1(y,j,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:j=>{let P=!1;return!C&&S===void 0&&(P=!0,k(j),N(j)),S!==void 0&&j>S?C.next(j-S):(!P&&k(j),h)}}}const qT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Be.update(t,!0),stop:()=>Gn(t),now:()=>kt.isProcessing?kt.timestamp:performance.now()}},dg=2e4;function fg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<dg;)t+=n,r=e.next(t);return t>=dg?1/0:t}const QT={decay:ug,inertia:ug,tween:Tl,keyframes:Tl,spring:_1};function Ml({autoplay:e=!0,delay:t=0,driver:n=qT,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,x,b;const v=()=>{b=new Promise(A=>{x=A})};v();let g;const y=QT[s]||Tl;let k;y!==Tl&&typeof r[0]!="number"&&(k=F1([0,100],r,{clamp:!1}),r=[0,100]);const S=y({...h,keyframes:r});let C;l==="mirror"&&(C=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let N="idle",j=null,P=null,D=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=fg(S));const{calculatedDuration:$}=S;let _=1/0,U=1/0;$!==null&&(_=$+a,U=_*(o+1)-a);let M=0;const T=A=>{if(P===null)return;m>0&&(P=Math.min(P,A)),m<0&&(P=Math.min(A-U/m,P)),j!==null?M=j:M=Math.round(A-P)*m;const te=M-t*(m>=0?1:-1),q=m>=0?te<0:te>U;M=Math.max(te,0),N==="finished"&&j===null&&(M=U);let Y=M,ge=S;if(o){const ve=Math.min(M,U)/_;let we=Math.floor(ve),ue=ve%1;!ue&&ve>=1&&(ue=1),ue===1&&we--,we=Math.min(we,o+1),!!(we%2)&&(l==="reverse"?(ue=1-ue,a&&(ue-=a/_)):l==="mirror"&&(ge=C)),Y=Tr(0,1,ue)*_}const re=q?{done:!1,value:r[0]}:ge.next(Y);k&&(re.value=k(re.value));let{done:ie}=re;!q&&$!==null&&(ie=m>=0?M>=U:M<=0);const fe=j===null&&(N==="finished"||N==="running"&&ie);return f&&f(re.value),fe&&O(),re},z=()=>{g&&g.stop(),g=void 0},E=()=>{N="idle",z(),x(),v(),P=D=null},O=()=>{N="finished",d&&d(),z(),x()},B=()=>{if(p)return;g||(g=n(T));const A=g.now();c&&c(),j!==null?P=A-j:(!P||N==="finished")&&(P=A),N==="finished"&&v(),D=P,j=null,N="running",g.start()};e&&B();const F={then(A,te){return b.then(A,te)},get time(){return Bn(M)},set time(A){A=jr(A),M=A,j!==null||!g||m===0?j=A:P=g.now()-A/m},get duration(){const A=S.calculatedDuration===null?fg(S):S.calculatedDuration;return Bn(A)},get speed(){return m},set speed(A){A===m||!g||(m=A,F.time=Bn(M))},get state(){return N},play:B,pause:()=>{N="paused",j=M},stop:()=>{p=!0,N!=="idle"&&(N="idle",u&&u(),E())},cancel:()=>{D!==null&&T(D),E()},complete:()=>{N="finished"},sample:A=>(P=0,T(A))};return F}function GT(e){let t;return()=>(t===void 0&&(t=e()),t)}const XT=GT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),JT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yi=10,YT=2e4,ZT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!m1(t.ease);function eM(e,t,{onUpdate:n,onComplete:r,...s}){if(!(XT()&&JT.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(y=>{l=y})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=s;if(ZT(t,s)){const y=Ml({...s,repeat:0,delay:0});let k={done:!1,value:f[0]};const S=[];let C=0;for(;!k.done&&C<YT;)k=y.sample(C),S.push(k.value),C+=yi;p=void 0,f=S,h=C-yi,m="linear"}const x=uT(e.owner.current,t,f,{...s,duration:h,ease:m,times:p}),b=()=>{u=!1,x.cancel()},v=()=>{u=!0,Be.update(b),l(),d()};return x.onfinish=()=>{u||(e.set(dT(f,s)),r&&r(),v())},{then(y,k){return c.then(y,k)},attachTimeline(y){return x.timeline=y,x.onfinish=null,nt},get time(){return Bn(x.currentTime||0)},set time(y){x.currentTime=jr(y)},get speed(){return x.playbackRate},set speed(y){x.playbackRate=y},get duration(){return Bn(h)},play:()=>{a||(x.play(),Gn(b))},pause:()=>x.pause(),stop:()=>{if(a=!0,x.playState==="idle")return;const{currentTime:y}=x;if(y){const k=Ml({...s,autoplay:!1});e.setWithVelocity(k.sample(y-yi).value,k.sample(y).value,yi)}v()},complete:()=>{u||x.finish()},cancel:v}}function tM({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:nt,pause:nt,stop:nt,then:o=>(o(),Promise.resolve()),cancel:nt,complete:nt});return t?Ml({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const nM={type:"spring",stiffness:500,damping:25,restSpeed:10},rM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sM={type:"keyframes",duration:.8},oM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aM=(e,{keyframes:t})=>t.length>2?sM:ms.has(e)?e.startsWith("scale")?rM(t[1]):nM:oM,Dd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mr.test(t)||t==="0")&&!t.startsWith("url(")),iM=new Set(["brightness","contrast","saturate","opacity"]);function lM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yc)||[];if(!r)return e;const s=n.replace(r,"");let o=iM.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const cM=/([a-z-]*)\(.*?\)/g,_d={...Mr,getAnimatableNone:e=>{const t=e.match(cM);return t?t.map(lM).join(" "):e}},uM={...Jx,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:_d,WebkitFilter:_d},Ph=e=>uM[e];function I1(e,t){let n=Ph(e);return n!==_d&&(n=Mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $1=e=>/^0[^.\s]+$/.test(e);function dM(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$1(e)}function fM(e,t,n,r){const s=Dd(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),dM(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=I1(t,l)}return o}function hM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Th(e,t){return e[t]||e.default||e}const mM={skipAnimations:!1},Mh=(e,t,n,r={})=>s=>{const o=Th(r,e)||{},a=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-jr(a);const c=fM(t,e,n,o),u=c[0],d=c[c.length-1],f=Dd(e,u),h=Dd(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(hM(o)||(m={...m,...aM(e,m)}),m.duration&&(m.duration=jr(m.duration)),m.repeatDelay&&(m.repeatDelay=jr(m.repeatDelay)),!f||!h||cT.current||o.type===!1||mM.skipAnimations)return tM(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=eM(t,e,m);if(p)return p}return Ml(m)};function Ol(e){return!!(Vt(e)&&e.add)}const V1=e=>/^\-?\d*\.?\d+$/.test(e);function Oh(e,t){e.indexOf(t)===-1&&e.push(t)}function Rh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lh{constructor(){this.subscriptions=[]}add(t){return Oh(this.subscriptions,t),()=>Rh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pM=e=>!isNaN(parseFloat(e));class gM{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=kt;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,Be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=pM(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lh);const r=this.events[t].add(n);return t==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?A1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(e,t){return new gM(e,t)}const z1=e=>t=>t.test(e),yM={test:e=>e==="auto",parse:e=>e},U1=[ps,be,Ln,tr,jP,SP,yM],ko=e=>U1.find(z1(e)),vM=[...U1,Et,Mr],xM=e=>vM.find(z1(e));function bM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,eo(n))}function wM(e,t){const n=xc(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const l=IP(o[a]);bM(e,a,l)}}function kM(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(V1(d)||$1(d))?d=parseFloat(d):!xM(d)&&Mr.test(u)&&(d=I1(c,u)),e.addValue(c,eo(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function SM(e,t){return t?(t[e]||t.default||t).from:void 0}function jM(e,t,n){const r={};for(const s in e){const o=SM(s,t);if(o!==void 0)r[s]=o;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function NM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function CM(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function B1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),m=l[f];if(!h||m===void 0||d&&NM(d,f))continue;const p={delay:n,elapsed:0,...Th(o||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[Hx];if(v){const g=window.HandoffAppearAnimations(v,f,h,Be);g!==null&&(p.elapsed=g,p.isHandoff=!0)}}let x=!p.isHandoff&&!CM(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(Mh(f,h,m,e.shouldReduceMotion&&ms.has(f)?{type:!1}:p));const b=h.animation;Ol(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return a&&Promise.all(u).then(()=>{a&&wM(e,a)}),u}function Id(e,t,n={}){const r=xc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(B1(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return EM(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function EM(e,t,n=0,r=0,s=1,o){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(PM).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Id(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function PM(e,t){return e.sortNodePosition(t)}function TM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Id(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Id(e,t,n);else{const s=typeof t=="function"?xc(e,t,n.custom):t;r=Promise.all(B1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const MM=[...mh].reverse(),OM=mh.length;function RM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>TM(e,n,r)))}function LM(e){let t=RM(e);const n=AM();let r=!0;const s=(c,u)=>{const d=xc(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function o(c){t=c(e)}function a(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},x=1/0;for(let v=0;v<OM;v++){const g=MM[v],y=n[g],k=d[g]!==void 0?d[g]:f[g],S=xa(k),C=g===u?y.isActive:null;C===!1&&(x=v);let N=k===f[g]&&k!==d[g]&&S;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...p},!y.isActive&&C===null||!k&&!y.prevProp||pc(k)||typeof k=="boolean")continue;let P=FM(y.prevProp,k)||g===u&&y.isActive&&!N&&S||v>x&&S,D=!1;const $=Array.isArray(k)?k:[k];let _=$.reduce(s,{});C===!1&&(_={});const{prevResolvedValues:U={}}=y,M={...U,..._},T=z=>{P=!0,m.has(z)&&(D=!0,m.delete(z)),y.needsAnimating[z]=!0};for(const z in M){const E=_[z],O=U[z];if(p.hasOwnProperty(z))continue;let B=!1;El(E)&&El(O)?B=!f1(E,O):B=E!==O,B?E!==void 0?T(z):m.add(z):E!==void 0&&m.has(z)?T(z):y.protectedKeys[z]=!0}y.prevProp=k,y.prevResolvedValues=_,y.isActive&&(p={...p,..._}),r&&e.blockInitialAnimation&&(P=!1),P&&(!N||D)&&h.push(...$.map(z=>({animation:z,options:{type:g,...c}})))}if(m.size){const v={};m.forEach(g=>{const y=e.getBaseTarget(g);y!==void 0&&(v[g]=y)}),h.push({animation:v})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=a(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function FM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!f1(t,e):!1}function Ir(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AM(){return{animate:Ir(!0),whileInView:Ir(),whileHover:Ir(),whileTap:Ir(),whileDrag:Ir(),whileFocus:Ir(),exit:Ir()}}class DM extends Dr{constructor(t){super(t),t.animationState||(t.animationState=LM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),pc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let _M=0;class IM extends Dr{constructor(){super(...arguments),this.id=_M++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $M={animation:{Feature:DM},exit:{Feature:IM}},hg=(e,t)=>Math.abs(e-t);function VM(e,t){const n=hg(e.x,t.x),r=hg(e.y,t.y);return Math.sqrt(n**2+r**2)}class H1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=fu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=VM(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:x}=kt;this.history.push({...p,timestamp:x});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=du(h,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=fu(f.type==="pointercancel"?this.lastMoveEventInfo:du(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),p&&p(f,b)},!i1(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=vc(t),l=du(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=kt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,fu(l,this.history)),this.removeListeners=Sr(Un(this.contextWindow,"pointermove",this.handlePointerMove),Un(this.contextWindow,"pointerup",this.handlePointerUp),Un(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gn(this.updatePoint)}}function du(e,t){return t?{point:t(e.point)}:e}function mg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fu({point:e},t){return{point:e,delta:mg(e,W1(t)),offset:mg(e,zM(t)),velocity:UM(t,.1)}}function zM(e){return e[0]}function W1(e){return e[e.length-1]}function UM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=W1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>jr(t)));)n--;if(!r)return{x:0,y:0};const o=Bn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Kt(e){return e.max-e.min}function $d(e,t=0,n=.01){return Math.abs(e-t)<=n}function pg(e,t,n,r=.5){e.origin=r,e.originPoint=Xe(t.min,t.max,e.origin),e.scale=Kt(n)/Kt(t),($d(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Xe(n.min,n.max,e.origin)-e.originPoint,($d(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ko(e,t,n,r){pg(e.x,t.x,n.x,r?r.originX:void 0),pg(e.y,t.y,n.y,r?r.originY:void 0)}function gg(e,t,n){e.min=n.min+t.min,e.max=e.min+Kt(t)}function BM(e,t,n){gg(e.x,t.x,n.x),gg(e.y,t.y,n.y)}function yg(e,t,n){e.min=t.min-n.min,e.max=e.min+Kt(t)}function qo(e,t,n){yg(e.x,t.x,n.x),yg(e.y,t.y,n.y)}function HM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Xe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Xe(n,e,r.max):Math.min(e,n)),e}function vg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function WM(e,{top:t,left:n,bottom:r,right:s}){return{x:vg(e.x,n,s),y:vg(e.y,t,r)}}function xg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KM(e,t){return{x:xg(e.x,t.x),y:xg(e.y,t.y)}}function qM(e,t){let n=.5;const r=Kt(e),s=Kt(t);return s>r?n=wa(t.min,t.max-r,e.min):r>s&&(n=wa(e.min,e.max-s,t.min)),Tr(0,1,n)}function QM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vd=.35;function GM(e=Vd){return e===!1?e=0:e===!0&&(e=Vd),{x:bg(e,"left","right"),y:bg(e,"top","bottom")}}function bg(e,t,n){return{min:wg(e,t),max:wg(e,n)}}function wg(e,t){return typeof e=="number"?e:e[t]||0}const kg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:kg(),y:kg()}),Sg=()=>({min:0,max:0}),st=()=>({x:Sg(),y:Sg()});function Jt(e){return[e("x"),e("y")]}function K1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function XM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hu(e){return e===void 0||e===1}function zd({scale:e,scaleX:t,scaleY:n}){return!hu(e)||!hu(t)||!hu(n)}function Ur(e){return zd(e)||q1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function q1(e){return jg(e.x)||jg(e.y)}function jg(e){return e&&e!=="0%"}function Rl(e,t,n){const r=e-n,s=t*r;return n+s}function Ng(e,t,n,r,s){return s!==void 0&&(e=Rl(e,s,r)),Rl(e,n,r)+t}function Ud(e,t=0,n=1,r,s){e.min=Ng(e.min,t,n,r,s),e.max=Ng(e.max,t,n,r,s)}function Q1(e,{x:t,y:n}){Ud(e.x,t.translate,t.scale,t.originPoint),Ud(e.y,n.translate,n.scale,n.originPoint)}function YM(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,a;for(let l=0;l<s;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Q1(e,a)),r&&Ur(o.latestValues)&&Fs(e,o.latestValues))}t.x=Cg(t.x),t.y=Cg(t.y)}function Cg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function or(e,t){e.min=e.min+t,e.max=e.max+t}function Eg(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,a=Xe(e.min,e.max,o);Ud(e,t[n],t[r],a,t.scale)}const ZM=["x","scaleX","originX"],eO=["y","scaleY","originY"];function Fs(e,t){Eg(e.x,t,ZM),Eg(e.y,t,eO)}function G1(e,t){return K1(JM(e.getBoundingClientRect(),t))}function tO(e,t,n){const r=G1(e,n),{scroll:s}=t;return s&&(or(r.x,s.offset.x),or(r.y,s.offset.y)),r}const X1=({current:e})=>e?e.ownerDocument.defaultView:null,nO=new WeakMap;class rO{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=c1(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Ln.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[b];y&&(v=Kt(y)*(parseFloat(v)/100))}}this.originPoint[b]=v}),p&&Be.update(()=>p(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=sO(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Jt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new H1(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:X1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Be.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!vi(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=HM(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Os(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=WM(s.layoutBox,n):this.constraints=!1,this.elastic=GM(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=QM(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Os(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=tO(r,s.root,this.visualElement.getTransformPagePoint());let a=KM(s.layout.layoutBox,o);if(n){const l=n(XM(a));this.hasMutatedConstraints=!!l,l&&(a=K1(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Jt(d=>{if(!vi(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Mh(t,r,0,n))}stopAnimation(){Jt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Jt(n=>{const{drag:r}=this.getProps();if(!vi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];o.set(t[n]-Xe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Os(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jt(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=qM({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jt(a=>{if(!vi(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Xe(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;nO.set(this.visualElement,this);const t=this.visualElement.current,n=Un(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Os(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Vn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Vd,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function vi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class oO extends Dr{constructor(t){super(t),this.removeGroupControls=nt,this.removeListeners=nt,this.controls=new rO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pg=e=>(t,n)=>{e&&Be.update(()=>e(t,n))};class aO extends Dr{constructor(){super(...arguments),this.removePointerDownListener=nt}onPointerDown(t){this.session=new H1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Pg(t),onStart:Pg(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Be.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=Un(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iO(){const e=w.useContext(hc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=w.useId();return w.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const $i={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const So={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=Tg(e,t.target.x),r=Tg(e,t.target.y);return`${n}% ${r}%`}},lO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Mr.parse(e);if(s.length>5)return r;const o=Mr.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Xe(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class cO extends Bt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;gP(uO),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),$i.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Be.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function J1(e){const[t,n]=iO(),r=w.useContext(gh);return Bt.createElement(cO,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Kx),isPresent:t,safeToRemove:n})}const uO={borderRadius:{...So,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:So,borderTopRightRadius:So,borderBottomLeftRadius:So,borderBottomRightRadius:So,boxShadow:lO},Y1=["TopLeft","TopRight","BottomLeft","BottomRight"],dO=Y1.length,Mg=e=>typeof e=="string"?parseFloat(e):e,Og=e=>typeof e=="number"||be.test(e);function fO(e,t,n,r,s,o){s?(e.opacity=Xe(0,n.opacity!==void 0?n.opacity:1,hO(r)),e.opacityExit=Xe(t.opacity!==void 0?t.opacity:1,0,mO(r))):o&&(e.opacity=Xe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<dO;a++){const l=`border${Y1[a]}Radius`;let c=Rg(t,l),u=Rg(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Og(c)===Og(u)?(e[l]=Math.max(Xe(Mg(c),Mg(u),r),0),(Ln.test(u)||Ln.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Xe(t.rotate||0,n.rotate||0,r))}function Rg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hO=Z1(0,.5,w1),mO=Z1(.5,.95,nt);function Z1(e,t,n){return r=>r<e?0:r>t?1:n(wa(e,t,r))}function Lg(e,t){e.min=t.min,e.max=t.max}function Xt(e,t){Lg(e.x,t.x),Lg(e.y,t.y)}function Fg(e,t,n,r,s){return e-=t,e=Rl(e,1/n,r),s!==void 0&&(e=Rl(e,1/s,r)),e}function pO(e,t=0,n=1,r=.5,s,o=e,a=e){if(Ln.test(t)&&(t=parseFloat(t),t=Xe(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Xe(o.min,o.max,r);e===o&&(l-=t),e.min=Fg(e.min,t,n,l,s),e.max=Fg(e.max,t,n,l,s)}function Ag(e,t,[n,r,s],o,a){pO(e,t[n],t[r],t[s],t.scale,o,a)}const gO=["x","scaleX","originX"],yO=["y","scaleY","originY"];function Dg(e,t,n,r){Ag(e.x,t,gO,n?n.x:void 0,r?r.x:void 0),Ag(e.y,t,yO,n?n.y:void 0,r?r.y:void 0)}function _g(e){return e.translate===0&&e.scale===1}function eb(e){return _g(e.x)&&_g(e.y)}function vO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function tb(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ig(e){return Kt(e.x)/Kt(e.y)}class xO{constructor(){this.members=[]}add(t){Oh(this.members,t),t.scheduleRender()}remove(t){if(Rh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $g(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const bO=(e,t)=>e.depth-t.depth;class wO{constructor(){this.children=[],this.isDirty=!1}add(t){Oh(this.children,t),this.isDirty=!0}remove(t){Rh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bO),this.isDirty=!1,this.children.forEach(t)}}function kO(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Gn(r),e(o-t))};return Be.read(r,!0),()=>Gn(r)}function SO(e){window.MotionDebug&&window.MotionDebug.record(e)}function jO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function NO(e,t,n){const r=Vt(e)?e:eo(e);return r.start(Mh("",r,t,n)),r.animation}const Vg=["","X","Y","Z"],CO={visibility:"hidden"},zg=1e3;let EO=0;const Br={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=EO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Br.totalNodes=Br.resolvedTargetDeltas=Br.recalculatedProjection=0,this.nodes.forEach(MO),this.nodes.forEach(AO),this.nodes.forEach(DO),this.nodes.forEach(OO),SO(Br)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wO)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Lh),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jO(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=kO(h,250),$i.hasAnimatedSinceResize&&($i.hasAnimatedSinceResize=!1,this.nodes.forEach(Bg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||zO,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),g=!this.targetLayout||!tb(this.targetLayout,p)||m,y=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const k={...Th(x,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||Bg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_O),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ug);return}this.isUpdating||this.nodes.forEach(LO),this.isUpdating=!1,this.nodes.forEach(FO),this.nodes.forEach(PO),this.nodes.forEach(TO),this.clearAllSnapshots();const l=performance.now();kt.delta=Tr(0,1e3/60,l-kt.timestamp),kt.timestamp=l,kt.isProcessing=!0,ru.update.process(kt),ru.preRender.process(kt),ru.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(RO),this.sharedNodes.forEach(IO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!eb(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Ur(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),UO(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return st();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(or(l.x,c.offset.x),or(l.y,c.offset.y)),l}removeElementScroll(a){const l=st();Xt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Xt(l,a);const{scroll:h}=this.root;h&&(or(l.x,-h.offset.x),or(l.y,-h.offset.y))}or(l.x,d.offset.x),or(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=st();Xt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ur(d.latestValues)&&Fs(c,d.latestValues)}return Ur(this.latestValues)&&Fs(c,this.latestValues),c}removeTransform(a){const l=st();Xt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ur(u.latestValues))continue;zd(u.latestValues)&&u.updateSnapshot();const d=st(),f=u.measurePageBox();Xt(d,f),Dg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ur(this.latestValues)&&Dg(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),qo(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),Q1(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),qo(this.relativeTargetOrigin,this.target,m.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Br.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zd(this.parent.latestValues)||q1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Xt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;YM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=Ls(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls());const x=this.projectionTransform;Ko(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=$g(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Br.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=st(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,b=this.getStack(),v=!b||b.members.length<=1,g=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(VO));this.animationProgress=0;let y;this.mixTargetDelta=k=>{const S=k/1e3;Hg(f.x,a.x,S),Hg(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$O(this.relativeTarget,this.relativeTargetOrigin,h,S),y&&vO(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=st()),Xt(y,this.relativeTarget)),x&&(this.animationValues=d,fO(d,u,this.latestValues,S,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{$i.hasAnimatedSinceResize=!0,this.currentAnimation=NO(0,zg,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&rb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||st();const f=Kt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Kt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Xt(l,c),Fs(l,d),Ko(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new xO),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Vg.length;d++){const f="rotate"+Vg[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CO;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ii(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Ii(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ur(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=$g(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Nl){if(h[x]===void 0)continue;const{correct:b,applyTo:v}=Nl[x],g=u.transform==="none"?h[x]:b(h[x],f);if(v){const y=v.length;for(let k=0;k<y;k++)u[v[k]]=g}else u[x]=g}return this.options.layoutId&&(u.pointerEvents=f===this?Ii(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ug),this.root.sharedNodes.clear()}}}function PO(e){e.updateLayout()}function TO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?Jt(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Kt(h);h.min=r[f].min,h.max=h.min+m}):rb(o,n.layoutBox,r)&&Jt(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Kt(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Ls();Ko(l,r,n.layoutBox);const c=Ls();a?Ko(c,e.applyTransform(s,!0),n.measuredBox):Ko(c,r,n.layoutBox);const u=!eb(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=st();qo(p,n.layoutBox,h.layoutBox);const x=st();qo(x,r,m.layoutBox),tb(p,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function MO(e){Br.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RO(e){e.clearSnapshot()}function Ug(e){e.clearMeasurements()}function LO(e){e.isLayoutDirty=!1}function FO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AO(e){e.resolveTargetDelta()}function DO(e){e.calcProjection()}function _O(e){e.resetRotation()}function IO(e){e.removeLeadSnapshot()}function Hg(e,t,n){e.translate=Xe(t.translate,0,n),e.scale=Xe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wg(e,t,n,r){e.min=Xe(t.min,n.min,r),e.max=Xe(t.max,n.max,r)}function $O(e,t,n,r){Wg(e.x,t.x,n.x,r),Wg(e.y,t.y,n.y,r)}function VO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zO={duration:.45,ease:[.4,0,.1,1]},Kg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),qg=Kg("applewebkit/")&&!Kg("chrome/")?Math.round:nt;function Qg(e){e.min=qg(e.min),e.max=qg(e.max)}function UO(e){Qg(e.x),Qg(e.y)}function rb(e,t,n){return e==="position"||e==="preserve-aspect"&&!$d(Ig(t),Ig(n),.2)}const BO=nb({attachResizeListener:(e,t)=>Vn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mu={current:void 0},sb=nb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mu.current){const e=new BO({});e.mount(window),e.setOptions({layoutScroll:!0}),mu.current=e}return mu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),HO={pan:{Feature:aO},drag:{Feature:oO,ProjectionNode:sb,MeasureLayout:J1}},WO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KO(e){const t=WO.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Bd(e,t,n=1){const[r,s]=KO(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return V1(a)?parseFloat(a):a}else return Rd(s)?Bd(s,t,n+1):s}function qO(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!Rd(o))return;const a=Bd(o,r);a&&s.set(a)});for(const s in t){const o=t[s];if(!Rd(o))continue;const a=Bd(o,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const QO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ob=e=>QO.has(e),GO=e=>Object.keys(e).some(ob),Gg=e=>e===ps||e===be,Xg=(e,t)=>parseFloat(e.split(", ")[t]),Jg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Xg(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?Xg(o[1],e):0}},XO=new Set(["x","y","z"]),JO=za.filter(e=>!XO.has(e));function YO(e){const t=[];return JO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const to={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Jg(4,13),y:Jg(5,14)};to.translateX=to.x;to.translateY=to.y;const ZO=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=to[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=to[u](c,o)}),e},eR=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(ob);let o=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=ko(d);const h=t[c];let m;if(El(h)){const p=h.length,x=h[0]===null?1:0;d=h[x],f=ko(d);for(let b=x;b<p&&h[b]!==null;b++)m?jh(ko(h[b])===m):m=ko(h[b])}else m=ko(h);if(f!==m)if(Gg(f)&&Gg(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===be&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(a||(o=YO(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=ZO(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),mc&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function tR(e,t,n,r){return GO(t)?eR(e,t,n,r):{target:t,transitionEnd:r}}const nR=(e,t,n,r)=>{const s=qO(e,t,r);return t=s.target,r=s.transitionEnd,tR(e,t,n,r)},Hd={current:null},ab={current:!1};function rR(){if(ab.current=!0,!!mc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hd.current=e.matches;e.addListener(t),t()}else Hd.current=!1}function sR(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],a=n[s];if(Vt(o))e.addValue(s,o),Ol(r)&&r.add(s);else if(Vt(a))e.addValue(s,eo(o,{owner:e})),Ol(r)&&r.remove(s);else if(a!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,eo(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Yg=new WeakMap,ib=Object.keys(ba),oR=ib.length,Zg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],aR=ph.length;class iR{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Be.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=gc(n),this.isVariantNode=Wx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&Vt(h)&&(h.set(l[f],!1),Ol(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Yg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ab.current||rR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Yg.delete(this.current),this.projection&&this.projection.unmount(),Gn(this.notifyUpdate),Gn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ms.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Be.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let a,l;for(let c=0;c<oR;c++){const u=ib[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=ba[u];h&&(a=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Os(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zg.length;r++){const s=Zg[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=sR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<aR;r++){const s=ph[r],o=this.props[s];(xa(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=eo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Sh(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Vt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class lb extends iR{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let a=jM(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),o){kM(this,r,a);const l=nR(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function lR(e){return window.getComputedStyle(e)}class cR extends lb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ms.has(n)){const r=Ph(n);return r&&r.default||0}else{const r=lR(t),s=(Gx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return G1(t,n)}build(t,n,r,s){vh(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return kh(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){t1(t,n,r,s)}}class uR extends lb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ms.has(n)){const r=Ph(n);return r&&r.default||0}return n=n1.has(n)?n:hh(n),t.getAttribute(n)}measureInstanceViewportBox(){return st()}scrapeMotionValuesFromProps(t,n){return s1(t,n)}build(t,n,r,s){bh(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){r1(t,n,r,s)}mount(t){this.isSVGTag=wh(t.tagName),super.mount(t)}}const dR=(e,t)=>yh(e)?new uR(t,{enableHardwareAcceleration:!1}):new cR(t,{enableHardwareAcceleration:!0}),fR={layout:{ProjectionNode:sb,MeasureLayout:J1}},hR={...$M,...oT,...HO,...fR},Ve=mP((e,t)=>KP(e,t,hR,dR));function cb(){const e=w.useRef(!1);return fh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function mR(){const e=cb(),[t,n]=w.useState(0),r=w.useCallback(()=>{e.current&&n(t+1)},[t]);return[w.useCallback(()=>Be.postRender(r),[r]),t]}class pR extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gR({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),w.createElement(pR,{isPresent:t,childRef:r,sizeRef:s},w.cloneElement(e,{ref:r}))}const pu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{const l=o1(yR),c=w.useId(),u=w.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return w.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=w.createElement(gR,{isPresent:n},e)),w.createElement(hc.Provider,{value:u},e)};function yR(){return new Map}function vR(e){return w.useEffect(()=>()=>e(),[])}const Hr=e=>e.key||"";function xR(e,t){e.forEach(n=>{const r=Hr(n);t.set(r,n)})}function bR(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const hr=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=w.useContext(gh).forceRender||mR()[0],c=cb(),u=bR(e);let d=u;const f=w.useRef(new Map).current,h=w.useRef(d),m=w.useRef(new Map).current,p=w.useRef(!0);if(fh(()=>{p.current=!1,xR(u,m),h.current=d}),vR(()=>{p.current=!0,m.clear(),f.clear()}),p.current)return w.createElement(w.Fragment,null,d.map(g=>w.createElement(pu,{key:Hr(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},g)));d=[...d];const x=h.current.map(Hr),b=u.map(Hr),v=x.length;for(let g=0;g<v;g++){const y=x[g];b.indexOf(y)===-1&&!f.has(y)&&f.set(y,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((g,y)=>{if(b.indexOf(y)!==-1)return;const k=m.get(y);if(!k)return;const S=x.indexOf(y);let C=g;if(!C){const N=()=>{f.delete(y);const j=Array.from(m.keys()).filter(P=>!b.includes(P));if(j.forEach(P=>m.delete(P)),h.current=u.filter(P=>{const D=Hr(P);return D===y||j.includes(D)}),!f.size){if(c.current===!1)return;l(),r&&r()}};C=w.createElement(pu,{key:Hr(k),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:o,mode:a},k),f.set(y,C)}d.splice(S,0,C)}),d=d.map(g=>{const y=g.key;return f.has(y)?g:w.createElement(pu,{key:Hr(g),isPresent:!0,presenceAffectsLayout:o,mode:a},g)}),w.createElement(w.Fragment,null,f.size?d:d.map(g=>w.cloneElement(g)))};var ub={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e0=Bt.createContext&&Bt.createContext(ub),Nr=globalThis&&globalThis.__assign||function(){return Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Nr.apply(this,arguments)},wR=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function db(e){return e&&e.map(function(t,n){return Bt.createElement(t.tag,Nr({key:n},t.attr),db(t.child))})}function $e(e){return function(t){return Bt.createElement(kR,Nr({attr:Nr({},e.attr)},t),db(e.child))}}function kR(e){var t=function(n){var r=e.attr,s=e.size,o=e.title,a=wR(e,["attr","size","title"]),l=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Bt.createElement("svg",Nr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:Nr(Nr({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Bt.createElement("title",null,o),e.children)};return e0!==void 0?Bt.createElement(e0.Consumer,null,function(n){return t(n)}):t(ub)}function SR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function Fh(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function Ah(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function Dh(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function Wd(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function jR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function bc(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function _h(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"}},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"}},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"}},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"}},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"}}]})(e)}function As(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}}]})(e)}function Bs(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function fb(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function NR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function CR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function hb(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function ER(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function PR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}}]})(e)}function TR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function MR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function wc(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"}},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"}}]})(e)}function OR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"}},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"}}]})(e)}function Kd(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(e)}function Cr(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function Ih(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function mb(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function t0(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 3 21 3 21 8"}},{tag:"line",attr:{x1:"4",y1:"20",x2:"21",y2:"3"}},{tag:"polyline",attr:{points:"21 16 21 21 16 21"}},{tag:"line",attr:{x1:"15",y1:"15",x2:"21",y2:"21"}},{tag:"line",attr:{x1:"4",y1:"4",x2:"9",y2:"9"}}]})(e)}function n0(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"19 20 9 12 19 4 19 20"}},{tag:"line",attr:{x1:"5",y1:"19",x2:"5",y2:"5"}}]})(e)}function r0(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 4 15 12 5 20 5 4"}},{tag:"line",attr:{x1:"19",y1:"5",x2:"19",y2:"19"}}]})(e)}function RR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function Vi(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function LR(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}function pb(e){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function FR(e,t,n){var r=this,s=w.useRef(null),o=w.useRef(0),a=w.useRef(null),l=w.useRef([]),c=w.useRef(),u=w.useRef(),d=w.useRef(e),f=w.useRef(!0);w.useEffect(function(){d.current=e},[e]);var h=!t&&t!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var m=!!(n=n||{}).leading,p=!("trailing"in n)||!!n.trailing,x="maxWait"in n,b=x?Math.max(+n.maxWait||0,t):null;w.useEffect(function(){return f.current=!0,function(){f.current=!1}},[]);var v=w.useMemo(function(){var g=function(j){var P=l.current,D=c.current;return l.current=c.current=null,o.current=j,u.current=d.current.apply(D,P)},y=function(j,P){h&&cancelAnimationFrame(a.current),a.current=h?requestAnimationFrame(j):setTimeout(j,P)},k=function(j){if(!f.current)return!1;var P=j-s.current;return!s.current||P>=t||P<0||x&&j-o.current>=b},S=function(j){return a.current=null,p&&l.current?g(j):(l.current=c.current=null,u.current)},C=function j(){var P=Date.now();if(k(P))return S(P);if(f.current){var D=t-(P-s.current),$=x?Math.min(D,b-(P-o.current)):D;y(j,$)}},N=function(){var j=Date.now(),P=k(j);if(l.current=[].slice.call(arguments),c.current=r,s.current=j,P){if(!a.current&&f.current)return o.current=s.current,y(C,t),m?g(s.current):u.current;if(x)return y(C,t),g(s.current)}return a.current||y(C,t),u.current};return N.cancel=function(){a.current&&(h?cancelAnimationFrame(a.current):clearTimeout(a.current)),o.current=0,l.current=s.current=c.current=a.current=null},N.isPending=function(){return!!a.current},N.flush=function(){return a.current?S(Date.now()):u.current},N},[m,x,t,b,p,h]);return v}function AR(e,t){return e===t}function s0(e){return typeof e=="function"?function(){return e}:e}function DR(e,t,n){var r,s,o=n&&n.equalityFn||AR,a=(r=w.useState(s0(e)),s=r[1],[r[0],w.useCallback(function(f){return s(s0(f))},[])]),l=a[0],c=a[1],u=FR(w.useCallback(function(f){return c(f)},[c]),t,n),d=w.useRef(e);return o(d.current,e)||(u(e),d.current=e),[l,u]}const _R=(e,t={})=>{const{enabled:n=!0,staleTime:r=5*60*1e3,cacheTime:s=10*60*1e3,count:o=20,force:a=!1}=t,{sourceKey:l,rootFolder:c,initializeRootFolder:u}=Le(),{favoritesRefreshTrigger:d}=Ct(),f=Ct(),h=ln(),m=Fn(),p=La(),[x,b]=w.useState(null);w.useEffect(()=>{e==="manga"&&l&&!c&&(console.log("🔄 Initializing rootFolder for manga sourceKey:",l),u())},[e,l,c,u]),w.useEffect(()=>{const $=p.getQueryData(["prevSourceKey"]);if($&&$!==l){console.log("🔄 SourceKey changed from",$,"to",l,"- Clearing random cache");const _=`randomView::${$}::`;Object.keys(localStorage).forEach(U=>{U.startsWith(_)&&(localStorage.removeItem(U),console.log("🗑️ Removed old cache:",U))}),p.removeQueries(["randomItems"]),b(null)}l&&p.setQueryData(["prevSourceKey"],l)},[l,p]);const v=`randomView::${l}::${c}::${e}`,g=["randomItems",e,l,c];w.useEffect(()=>{const _={manga:d,movie:h.favoritesRefreshTrigger||0,music:m.favoritesRefreshTrigger||0}[e]||0;_>0&&(console.log(`🔄 RandomItems: Favorites changed (trigger: ${_}), invalidating random ${e} cache`),p.invalidateQueries({queryKey:g,exact:!0}))},[d,h.favoritesRefreshTrigger,m.favoritesRefreshTrigger,e,p,g]),w.useEffect(()=>{if(l&&c)try{const $=localStorage.getItem(v);if($){const{timestamp:_}=JSON.parse($);_&&!x&&(b(new Date(_)),console.log("⏰ Restored timestamp from cache on mount:",new Date(_)))}}catch($){console.warn("Error checking cache timestamp:",$)}},[v]);const y=w.useCallback(()=>{try{const $=localStorage.getItem(v);if($){const{timestamp:_,data:U}=JSON.parse($),M=Date.now()-_>r;if(console.log("🗂️ Cache check:",{cacheKey:v,hasData:!!U,isExpired:M,timestamp:new Date(_)}),!M&&U){const T=e==="manga"?f:e==="movie"?h:e==="music"?m:null;if(T&&Array.isArray(U)){const z=U.map(E=>{const O=T.favorites.some(B=>B.path===E.path);return{...E,isFavorite:O}});return console.log("🔄 RandomItems: Merged favorite state from cache"),z}return U}}}catch($){console.warn("Error reading cache:",$)}return null},[v,r,e,f,h,m]),k=w.useCallback($=>{try{const _=Date.now(),U={timestamp:_,data:$};localStorage.setItem(v,JSON.stringify(U)),b(new Date(_)),console.log("💾 Cache saved:",{cacheKey:v,itemCount:$.length,timestamp:new Date(_)})}catch(_){console.warn("Error saving cache:",_)}},[v]),S=async()=>{var M,T,z,E;if(!l)throw new Error("Missing source key");if(e==="manga"&&!c)throw new Error("Missing root folder for manga");if(console.log("🔍 fetchRandomItems:",{sourceKey:l,rootFolder:c,type:e,cacheKey:v}),a)console.log("🔄 Force refresh - skipping cache check");else{const O=y();if(O)return console.log("📦 Using cached random data:",O.length,"items"),O;console.log("🆕 No cache found, fetching fresh data from API")}const $=IR(e,l,c,o);console.log("🌐 Fetching from endpoint:",$);const _=await Ce.get($);let U=null;if((M=_.data)!=null&&M.success&&((T=_.data)!=null&&T.data)?U=_.data.data:Array.isArray(_.data)?U=_.data:(z=_.data)!=null&&z.folders&&Array.isArray(_.data.folders)&&(U=_.data.folders),U&&Array.isArray(U)){console.log("✅ Random items fetched:",U.length,"items"),console.log("📊 Sample item:",U[0]);const O=e==="manga"?f:e==="movie"?h:e==="music"?m:null;return O&&(U=U.map(B=>{const F=O.favorites.some(A=>A.path===B.path);return{...B,isFavorite:F}}),console.log("🔄 RandomItems: Merged favorite state from store")),k(U),U}throw new Error(((E=_.data)==null?void 0:E.message)||`Failed to fetch ${e} items`)},{data:C,isLoading:N,error:j,refetch:P}=th({queryKey:g,queryFn:S,enabled:n&&!!l&&(e!=="manga"||!!c),staleTime:r,cacheTime:s,retry:1,refetchOnMount:!0,refetchOnWindowFocus:!1,onError:$=>{console.error(`Error fetching random ${e}:`,$),Ae.error(`Không thể tải ${e} ngẫu nhiên`)},onSuccess:$=>{$&&$.length>0&&(x||(b(new Date),console.log("⏰ Set timestamp on data success:",new Date)))}}),D=w.useCallback(async()=>{try{localStorage.removeItem(v),p.removeQueries(g),b(new Date),await P(),Ae.success(`Đã làm mới ${e} ngẫu nhiên`)}catch($){console.error("Error refreshing:",$),Ae.error(`Không thể làm mới ${e}`)}},[v,g,p,P,e]);return w.useEffect(()=>{if(l&&(e!=="manga"||c))try{const _=localStorage.getItem(v);if(_){const{timestamp:U,data:M}=JSON.parse(_),T=Date.now()-U>r;!T&&M&&M.length>0?(console.log("🔄 Loading cached data on mount:",M.length,"items"),p.setQueryData(g,M),x||b(new Date(U))):(console.log("⚠️ Cache expired or empty, will fetch fresh data"),T&&localStorage.removeItem(v))}else console.log("📭 No cache found, will fetch fresh data")}catch(_){console.warn("Error loading cached data on mount:",_)}},[v]),{data:$R(C||[],e,f,h,m),loading:N,error:j,refresh:D,lastUpdated:x}},IR=(e,t,n,r)=>{const s=`limit=${r}&random=1`;switch(e){case"manga":return`/api/manga/folder-cache?mode=random&key=${encodeURIComponent(t)}&root=${encodeURIComponent(n)}&${s}`;case"movie":return`/api/movie/video-cache?mode=random&type=file&key=${encodeURIComponent(t)}&${s}`;case"music":return`/api/music/audio-cache?mode=random&type=file&key=${encodeURIComponent(t)}&${s}`;default:throw new Error(`Unknown content type: ${e}`)}},$R=(e,t,n,r,s)=>{if(!Array.isArray(e)||e.length===0)return e;const o=t==="manga"?n:t==="movie"?r:t==="music"?s:null;return o?e.map(a=>{const l=o.favorites.some(c=>c.path===a.path);return{...a,isFavorite:l}}):e},VR=(e,t={})=>{const{enabled:n=!0,maxItems:r}=t,{sourceKey:s,rootFolder:o}=Le(),{mangaSettings:a,favoritesRefreshTrigger:l}=Ct(),c=ln(),u=Fn(),d=La(),[f,h]=w.useState(null),m=a.recentHistoryCount||r||20,p=w.useMemo(()=>["recentItems",e,s,o],[e,s,o]);w.useEffect(()=>{const N=d.getQueryData(["prevRecentSourceKey"]);N&&N!==s&&(console.log("🔄 Recent: SourceKey changed from",N,"to",s,"- Clearing cache"),d.removeQueries(["recentItems"]),h(null)),s&&d.setQueryData(["prevRecentSourceKey"],s)},[s,d]);const x=w.useCallback(()=>{switch(e){case"manga":return`recentViewed::${o}::${o}`;case"movie":return`recentViewedVideo::${s}`;case"music":return`recentViewedMusic::${s}`;default:return`recentViewed::${e}::${s}`}},[e,s,o]),b=w.useCallback(async()=>{console.log("🔍 fetchRecentItems:",{type:e,sourceKey:s,rootFolder:o});try{const N=x(),j=localStorage.getItem(N);if(j){let D=JSON.parse(j).sort((_,U)=>(U.lastViewed||0)-(_.lastViewed||0)).slice(0,m);const $=e==="manga"?Ct.getState():e==="movie"?c:e==="music"?u:null;return $&&(D=D.map(_=>{const U=$.favorites.some(M=>M.path===_.path);return{..._,isFavorite:U}})),D}}catch(N){console.warn("Error reading recent cache in fetchRecentItems:",N)}return[]},[e,s,o,x,m,c,u]),{data:v,isLoading:g,error:y,refetch:k}=th({queryKey:p,queryFn:b,enabled:n&&!!s&&(e!=="manga"||!!o)&&a.enableRecentTracking,staleTime:30*1e3,cacheTime:5*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0});w.useEffect(()=>{const j={manga:l,movie:c.favoritesRefreshTrigger||0,music:u.favoritesRefreshTrigger||0}[e]||0;j>0&&(console.log(`🔄 RecentItems: Favorites changed (trigger: ${j}), invalidating recent ${e} cache`),d.invalidateQueries(p))},[l,c.favoritesRefreshTrigger,u.favoritesRefreshTrigger,e,d,p]),w.useEffect(()=>{if(s&&(e!=="manga"||o))try{let N;switch(e){case"manga":N=`recentViewed::${o}::${o}`;break;case"movie":N=`recentViewedVideo::${s}`;break;case"music":N=`recentViewedMusic::${s}`;break;default:N=`recentViewed::${e}::${s}`}const j=localStorage.getItem(N);if(j){const P=JSON.parse(j);P.length>0&&(console.log("🔄 Loading cached recent data on mount:",P.length,"items"),d.setQueryData(p,P),h(new Date))}}catch(N){console.warn("Error loading recent cache on mount:",N)}},[s,o,e,d,p]);const S=w.useCallback(async()=>{try{h(new Date),await k()}catch(N){console.error("Error refreshing recent items:",N)}},[k]),C=w.useCallback(N=>{try{let j;switch(e){case"manga":j=`recentViewed::${o}::${o}`;break;case"movie":j=`recentViewedVideo::${s}`;break;case"music":j=`recentViewedMusic::${s}`;break;default:j=`recentViewed::${e}::${s}`}const P=localStorage.getItem(j),D=P?JSON.parse(P):[],$=Date.now(),_=D.filter(M=>M.path!==N.path),U=[{...N,lastViewed:$},..._].slice(0,m);localStorage.setItem(j,JSON.stringify(U)),h(new Date),d.setQueryData(p,U),console.log("➕ Added to recent:",N.name)}catch(j){console.warn("Error adding recent item:",j)}},[e,s,o,m,d,p]);return{data:v||[],loading:g,error:y,refresh:S,lastUpdated:f,addRecentItem:C}};function gb(e,t="movie"){var u;let n="/video/",r="/default/video-thumb.png",s="/default/folder-thumb.png";t==="music"?(n="/audio/",r="/default/music-thumb.png",s="/default/folder-thumb.png"):(t==="manga"||t==="comic")&&(n="/manga/",r="/default/manga-thumb.png",s="/default/folder-thumb.png");let o;if(e.type==="folder"?o=e.path||"":o=((u=e.path)==null?void 0:u.split("/").slice(0,-1).join("/"))||"",!e.thumbnail||e.thumbnail==="null")return t==="music"?e.type==="audio"||e.type==="file"?r:s:t==="manga"||t==="comic"?e.type==="folder"?s:r:e.type==="video"||e.type==="file"?r:s;if(e.thumbnail.startsWith(n)||e.thumbnail.startsWith("http")||e.thumbnail.startsWith("/default/"))return e.thumbnail;let a=e.thumbnail;o&&a.startsWith(o+"/")&&(a=a.slice(o.length+1));const l=o?o.split("/").map(encodeURIComponent).join("/")+"/":"",c=a.split("/").map(encodeURIComponent).join("/");return`${n}${l}${c.replace(/\\/g,"/")}`}const kc=(e="manga")=>{const{sourceKey:t,rootFolder:n}=Le(),{mangaSettings:r}=Ct(),s=r.recentHistoryCount||20,o=w.useCallback(()=>{switch(e){case"manga":return`recentViewed::${n}::${n}`;case"movie":return`recentViewedVideo::${t}`;case"music":return`recentViewedMusic::${t}`;default:return`recentViewed::${e}::${t}`}},[e,t,n]);return{addRecentItem:w.useCallback(l=>{try{if(!t||e==="manga"&&!n){console.warn("Missing sourceKey or rootFolder for recent item");return}if(!r.enableRecentTracking){console.log("Recent tracking is disabled");return}const c=o(),u=localStorage.getItem(c),d=u?JSON.parse(u):[],f=Date.now(),h=d.filter(x=>x.path!==l.path),m=gb(l,e,t),p=[{...l,lastViewed:f,name:l.name||"Unknown",path:l.path,thumbnail:m,isFavorite:l.isFavorite||!1},...h].slice(0,s);localStorage.setItem(c,JSON.stringify(p)),console.log("➕ Added to recent cache:",{type:e,name:l.name,cacheKey:c,totalItems:p.length})}catch(c){console.warn("Error adding recent item:",c)}},[t,n,o,e,s,r.enableRecentTracking])}},zR=(e,t=RN.SEARCH_DEBOUNCE)=>{const[n]=DR(e,t);return n};function yb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=yb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function UR(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=yb(e))&&(r&&(r+=" "),r+=t);return r}const H=({children:e,variant:t="primary",size:n="md",disabled:r=!1,loading:s=!1,className:o="",onClick:a,type:l="button",...c})=>{const u="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 dark:bg-dark-700 dark:hover:bg-dark-600 dark:text-white focus:ring-gray-500",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 dark:hover:bg-dark-700 dark:text-gray-300 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",warning:"bg-yellow-600 hover:bg-yellow-700 text-white focus:ring-yellow-500",outline:"border border-gray-300 dark:border-dark-600 bg-transparent hover:bg-gray-50 dark:hover:bg-dark-700 text-gray-700 dark:text-gray-300 focus:ring-gray-500"},f={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"},h=UR(u,d[t],f[n],o),m=p=>{r||s||a==null||a(p)};return i.jsxs(Ve.button,{whileHover:!r&&!s?{scale:1.02}:{},whileTap:!r&&!s?{scale:.98}:{},className:h,onClick:m,disabled:r||s,type:l,...c,children:[s&&i.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),e]})},$h=({isOpen:e,onClose:t})=>{const n=vt(),[r,s]=w.useState(""),[o,a]=w.useState("manga"),[l,c]=w.useState({manga:[],movie:[],music:[]}),[u,d]=w.useState(!1),f=zR(r,300),{sourceKey:h,rootFolder:m}=Le(),p=[{key:"manga",label:"Manga",icon:Fh},{key:"movie",label:"Movie",icon:_h},{key:"music",label:"Music",icon:wc}],x=async(g,y)=>{if(!g||g.length<2)return[];try{d(!0);let k;switch(y){case"manga":k=await _e.manga.getFolders({mode:"search",key:h,root:m,q:g,limit:20});break;case"movie":k=await _e.movie.getVideoCache({key:h,q:g,limit:20});break;case"music":k=await _e.music.getAudioCache({key:h,q:g,limit:20});break;default:return[]}return k.data.folders||k.data||[]}catch(k){return console.error(`Search error for ${y}:`,k),[]}finally{d(!1)}};w.useEffect(()=>{f&&e?(async()=>{const[y,k,S]=await Promise.all([x(f,"manga"),x(f,"movie"),x(f,"music")]);c({manga:y,movie:k,music:S})})():c({manga:[],movie:[],music:[]})},[f,e,h,m]),w.useEffect(()=>{e||(s(""),c({manga:[],movie:[],music:[]}))},[e]);const b=(g,y)=>{switch(t(),y){case"manga":n(`/manga?path=${encodeURIComponent(g.path)}`);break;case"movie":g.type==="video"?n(`/movie/player?path=${encodeURIComponent(g.path)}`):n(`/movie?path=${encodeURIComponent(g.path)}`);break;case"music":n(`/music?path=${encodeURIComponent(g.path)}`);break}},v=({item:g,type:y})=>{const k=()=>{switch(y){case"manga":return"📚";case"movie":return g.type==="video"?"🎬":"📁";case"music":return"🎵";default:return"📄"}};return i.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 cursor-pointer transition-colors",onClick:()=>b(g,y),children:[g.thumbnail?i.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-12 h-16 object-cover rounded bg-gray-200 dark:bg-dark-600",onError:S=>{S.target.style.display="none"}}):i.jsx("div",{className:"w-12 h-16 bg-gray-200 dark:bg-dark-600 rounded flex items-center justify-center text-xl",children:k()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:g.name}),g.viewCount!==void 0&&i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["👁️ ",g.viewCount," lượt xem"]})]})]})};return i.jsx(sh,{isOpen:e,onRequestClose:t,className:"max-w-4xl mx-auto mt-20 bg-white dark:bg-dark-800 rounded-2xl shadow-2xl outline-none",overlayClassName:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center p-4",children:i.jsxs("div",{className:"w-full max-h-[80vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Tìm kiếm"}),i.jsx(H,{variant:"ghost",size:"sm",onClick:t,children:i.jsx(pb,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm manga, movie, music...",value:r,onChange:g=>s(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 dark:text-white",autoFocus:!0})]})}),i.jsx("div",{className:"flex border-b border-gray-200 dark:border-dark-700",children:p.map(g=>{const y=g.icon,k=l[g.key].length;return i.jsxs("button",{onClick:()=>a(g.key),className:`flex items-center space-x-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${o===g.key?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[i.jsx(y,{className:"h-4 w-4"}),i.jsx("span",{children:g.label}),k>0&&i.jsx("span",{className:"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-2 py-0.5 rounded-full text-xs",children:k})]},g.key)})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tìm kiếm..."})]}):l[o].length>0?i.jsx("div",{className:"space-y-2",children:i.jsx(hr,{children:l[o].map((g,y)=>i.jsx(v,{item:g,type:o},`${g.path}-${y}`))})}):r.length>=2?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['Không tìm thấy kết quả cho "',r,'"']})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"💡"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nhập ít nhất 2 ký tự để bắt đầu tìm kiếm"})]})})]})})};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),o0=e=>{const t=HR(e);return t.charAt(0).toUpperCase()+t.slice(1)},vb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),WR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...l},c)=>w.createElement("svg",{ref:c,...KR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vb("lucide",s),...!o&&!WR(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(qR,{ref:o,iconNode:t,className:vb(`lucide-${BR(o0(e))}`,`lucide-${e}`,r),...s}));return n.displayName=o0(e),n};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["polyline",{points:"11 3 11 11 14 8 17 11 17 3",key:"1wcwz3"}]],GR=Se("album",QR);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vh=Se("arrow-left",XR);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],YR=Se("bell",JR);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ka=Se("book-open",ZR);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t4=Se("chevron-left",e4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],r4=Se("circle-check-big",n4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],o4=Se("circle-x",s4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ll=Se("clock",a4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mo=Se("database",i4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zh=Se("download",l4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u4=Se("eye",c4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],zi=Se("folder",d4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Uh=Se("funnel",f4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],qd=Se("globe",h4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],fo=Se("grid-3x3",m4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$t=Se("heart",p4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],y4=Se("image",g4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],x4=Se("info",v4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],gs=Se("list",b4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],xb=Se("loader",w4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],S4=Se("menu",k4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],N4=Se("monitor",j4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bb=Se("moon",C4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Qd=Se("music",E4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],wb=Se("palette",P4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],M4=Se("panel-left",T4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],R4=Se("pause",O4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rn=Se("play",L4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sc=Se("refresh-cw",F4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],D4=Se("repeat",A4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kb=Se("rotate-ccw",_4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$4=Se("save",I4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bn=Se("search",V4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fl=Se("settings",z4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],B4=Se("shield",U4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],W4=Se("shuffle",H4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],q4=Se("skip-back",K4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],G4=Se("skip-forward",Q4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],J4=Se("sliders-vertical",X4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sb=Se("sun",Y4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ts=Se("trash-2",Z4);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],a0=Se("triangle-alert",e3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],n3=Se("upload",t3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jb=Se("user",r3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Gd=Se("volume-2",s3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],a3=Se("volume-x",o3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nb=Se("x",i3),Cb=({isOpen:e,onClose:t})=>{const n=Yn(),{darkMode:r,toggleDarkMode:s,animationsEnabled:o,toggleAnimations:a}=Gt(),{sourceKey:l}=Le(),{clearMangaCache:c,readerSettings:u,updateReaderSettings:d,mangaSettings:f,updateMangaSettings:h}=Ct(),{clearMovieCache:m}=ln(),{clearMusicCache:p}=Fn(),[x,b]=w.useState("appearance");w.useEffect(()=>{e&&(n.pathname.includes("/manga/reader")?b("reader"):n.pathname.includes("/movie")||n.pathname.includes("/music")?b("player"):b("appearance"))},[e,n.pathname]);const v=[{id:"appearance",label:"Giao diện",icon:wb},{id:"reader",label:l&&l.startsWith("V_")?"Manga":"Đọc truyện",icon:u4},{id:"player",label:"Phát media",icon:Gd},{id:"system",label:"Hệ thống",icon:Mo}],g=async y=>{try{switch(y){case"manga":await c();break;case"movie":await m();break;case"music":await p();break;case"all":await Promise.all([c(),m(),p()]);break}console.log(`Cleared ${y} cache successfully`)}catch(k){console.error(`Error clearing ${y} cache:`,k)}};return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Fl,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Cài đặt"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Nb,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-64 bg-gray-50 dark:bg-gray-900 p-4 border-r border-gray-200 dark:border-gray-700",children:i.jsx("nav",{className:"space-y-2",children:v.map(y=>{const k=y.icon;return i.jsxs("button",{onClick:()=>b(y.id),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors ${x===y.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[i.jsx(k,{className:"w-5 h-5 mr-3"}),y.label]},y.id)})})}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto max-h-[60vh]",children:[x==="appearance"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Giao diện"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Chế độ hiển thị"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:()=>!r&&s(),className:`p-4 rounded-lg border-2 transition-all ${r?"border-gray-300 dark:border-gray-600 hover:border-gray-400":"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}`,children:[i.jsx(Sb,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sáng"})]}),i.jsxs("button",{onClick:()=>r&&s(),className:`p-4 rounded-lg border-2 transition-all ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[i.jsx(bb,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Tối"})]})]})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hiệu ứng chuyển động"}),i.jsx("button",{onClick:a,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]})})]}),x==="system"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Hệ thống"}),l&&i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qd,{className:"w-5 h-5 text-blue-600"}),i.jsxs("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:["Source hiện tại: ",l]})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Xóa bộ nhớ đệm"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>g("manga"),className:"flex items-center justify-center px-4 py-3 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg transition-colors",children:[i.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Xóa cache Manga"]}),i.jsxs("button",{onClick:()=>g("movie"),className:"flex items-center justify-center px-4 py-3 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg transition-colors",children:[i.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Xóa cache Movie"]}),i.jsxs("button",{onClick:()=>g("music"),className:"flex items-center justify-center px-4 py-3 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg transition-colors",children:[i.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Xóa cache Music"]}),i.jsxs("button",{onClick:()=>g("all"),className:"flex items-center justify-center px-4 py-3 bg-red-100 hover:bg-red-200 dark:bg-red-800/30 dark:hover:bg-red-800/50 text-red-800 dark:text-red-200 rounded-lg transition-colors font-medium",children:[i.jsx(kb,{className:"w-4 h-4 mr-2"}),"Xóa tất cả cache"]})]})]})]}),x==="reader"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:l&&l.startsWith("V_")?"Cài đặt Manga":"Cài đặt đọc truyện"}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Số trang preload: ",u.preloadCount]}),i.jsx("input",{type:"range",min:"1",max:"20",value:u.preloadCount,onChange:y=>{const k=parseInt(y.target.value);console.log("🔧 Updating preload count to:",k),d({preloadCount:k})},className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[i.jsx("span",{children:"1"}),i.jsx("span",{children:"20"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Chế độ đọc"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{onClick:()=>d({readingMode:"single"}),className:`p-3 rounded-lg border-2 transition-all ${u.readingMode==="single"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Trang đơn"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hiển thị 1 trang"})]})}),i.jsx("button",{onClick:()=>d({readingMode:"double"}),className:`p-3 rounded-lg border-2 transition-all ${u.readingMode==="double"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Trang đôi"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hiển thị 2 trang"})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hướng đọc"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{onClick:()=>d({readingDirection:"ltr"}),className:`p-3 rounded-lg border-2 transition-all ${u.readingDirection==="ltr"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Trái → Phải"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Left to Right"})]})}),i.jsx("button",{onClick:()=>d({readingDirection:"rtl"}),className:`p-3 rounded-lg border-2 transition-all ${u.readingDirection==="rtl"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Phải → Trái"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Right to Left"})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Chế độ zoom"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx("button",{onClick:()=>d({zoomMode:"fit-width"}),className:`p-3 rounded-lg border-2 transition-all ${u.zoomMode==="fit-width"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"font-medium text-sm",children:"Vừa chiều rộng"})})}),i.jsx("button",{onClick:()=>d({zoomMode:"fit-height"}),className:`p-3 rounded-lg border-2 transition-all ${u.zoomMode==="fit-height"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"font-medium text-sm",children:"Vừa chiều cao"})})}),i.jsx("button",{onClick:()=>d({zoomMode:"original"}),className:`p-3 rounded-lg border-2 transition-all ${u.zoomMode==="original"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400"}`,children:i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"font-medium text-sm",children:"Kích thước gốc"})})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"🗄️ Manga Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Load từ Database"}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bật: Duyệt folder nhanh từ DB đã scan | Tắt: Đọc trực tiếp từ ổ đĩa"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.useDb,onChange:y=>h({useDb:y.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Lazy Load Images"}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bật: Tiết kiệm RAM, tải từng ảnh | Tắt: Tải tất cả ảnh (mượt hơn)"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.lazyLoad,onChange:y=>h({lazyLoad:y.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]}),x==="player"&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Gd,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cài đặt phát media sẽ được thêm vào sau"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Đóng"}),i.jsxs("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center",children:[i.jsx($4,{className:"w-4 h-4 mr-2"}),"Lưu cài đặt"]})]})]})}):null},l3=()=>{const e=Yn(),t=vt(),[n,r]=w.useState(!1),[s,o]=w.useState(!1),{darkMode:a,sidebarOpen:l,toggleDarkMode:c,toggleSidebar:u}=Gt(),{sourceKey:d,logout:f}=Le(),h=[{path:"/",icon:fb,label:"Trang chủ"},{path:"/manga",icon:Fh,label:"Manga"},{path:"/movie",icon:_h,label:"Movie"},{path:"/music",icon:wc,label:"Music"}],m=()=>{f(),t("/")};return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 dark:bg-dark-800/80 backdrop-blur-md border-b border-gray-200 dark:border-dark-700",children:[i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:u,className:"",children:i.jsx(TR,{className:"h-5 w-5"})}),i.jsxs(Us,{to:"/",className:"flex items-center space-x-2 text-xl font-bold text-primary-600 dark:text-primary-400",children:[i.jsx("span",{children:"📚"}),i.jsx("span",{children:"MainWebSite"})]})]}),i.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:h.map(p=>{const x=p.icon,b=e.pathname===p.path||p.path!=="/"&&e.pathname.startsWith(p.path);return i.jsxs(Us,{to:p.path,className:`relative flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${b?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-dark-700"}`,children:[i.jsx(x,{className:"h-4 w-4"}),i.jsx("span",{children:p.label}),b&&i.jsx(Ve.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary-100 dark:bg-primary-900/30 rounded-lg -z-10",initial:!1,transition:{type:"spring",duration:.5}})]},p.path)})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"hidden sm:flex",children:[i.jsx(Ih,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline ml-2",children:"Tìm kiếm"})]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:c,children:a?i.jsx(RR,{className:"h-4 w-4"}):i.jsx(MR,{className:"h-4 w-4"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:i.jsx(mb,{className:"h-4 w-4"})}),d&&i.jsxs("div",{className:"hidden lg:flex items-center space-x-2 px-3 py-1 bg-primary-100 dark:bg-primary-900/30 rounded-full text-sm",children:[i.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:d}),i.jsx(H,{variant:"ghost",size:"xs",onClick:m,className:"text-red-500 hover:text-red-600",children:i.jsx(ER,{className:"h-3 w-3"})})]})]})]})}),i.jsx("div",{className:"md:hidden border-t border-gray-200 dark:border-dark-700",children:i.jsx("div",{className:"flex",children:h.map(p=>{const x=p.icon,b=e.pathname===p.path||p.path!=="/"&&e.pathname.startsWith(p.path);return i.jsxs(Us,{to:p.path,className:`flex-1 flex flex-col items-center justify-center py-2 text-xs ${b?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300"}`,children:[i.jsx(x,{className:"h-4 w-4 mb-1"}),i.jsx("span",{children:p.label})]},p.path)})})})]}),i.jsx($h,{isOpen:n,onClose:()=>r(!1)}),i.jsx(Cb,{isOpen:s,onClose:()=>o(!1)})]})},c3=()=>{const e=Yn(),{sourceKey:t,rootFolder:n}=Le(),r=[{title:"Điều hướng",items:[{path:"/",icon:fb,label:"Trang chủ"},{path:"/manga",icon:Fh,label:"Manga"},{path:"/movie",icon:_h,label:"Movie"},{path:"/music",icon:wc,label:"Music"}]},{title:"Yêu thích",items:[{path:"/manga/favorites",icon:Bs,label:"Manga yêu thích"},{path:"/movie/favorites",icon:Bs,label:"Movie yêu thích"},{path:"/music/favorites",icon:Bs,label:"Music yêu thích"}]}],s=async l=>{if(!t){Ae.error("Chưa chọn source key");return}if(window.confirm(`Bạn có chắc muốn xóa cache ${l}?`))try{switch(l){case"manga":await _e.manga.resetCache({key:t,root:n,mode:"delete"});break;case"movie":await _e.movie.resetDb({key:t});break;case"music":await _e.music.resetDb({key:t});break;default:throw new Error("Invalid type")}Ae.success(`Đã xóa cache ${l} thành công`)}catch(u){console.error(`Reset ${l} cache error:`,u),Ae.error(`Lỗi xóa cache ${l}`)}},o=async l=>{if(!t){Ae.error("Chưa chọn source key");return}try{switch(l){case"manga":await _e.manga.scan({key:t,root:n});break;case"movie":await _e.movie.scan({key:t});break;case"music":await _e.music.scan({key:t});break;default:throw new Error("Invalid type")}Ae.success(`Đã quét ${l} thành công`)}catch(c){console.error(`Scan ${l} error:`,c),Ae.error(`Lỗi quét ${l}`)}},a=({item:l,isActive:c})=>{const u=l.icon;return i.jsxs(Us,{to:l.path,className:`relative flex items-center space-x-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 hover:text-gray-900 dark:hover:text-white"}`,children:[i.jsx(u,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"flex-1 truncate",children:l.label}),l.count!==void 0&&l.count>0&&i.jsx("span",{className:"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-2 py-0.5 rounded-full text-xs",children:l.count}),c&&i.jsx(Ve.div,{layoutId:"sidebarActive",className:"absolute inset-0 bg-primary-100 dark:bg-primary-900/30 rounded-lg -z-10",initial:!1,transition:{type:"spring",duration:.5}})]})};return i.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700",children:[i.jsxs("div",{className:"flex-1 p-4 space-y-6",children:[r.map(l=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:l.title}),i.jsx("nav",{className:"space-y-1",children:l.items.map(c=>{const u=e.pathname===c.path;return i.jsx(a,{item:c,isActive:u},c.path)})})]},l.title)),t&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Công cụ"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>o("manga"),className:"justify-start",children:[i.jsx(Cr,{className:"h-3 w-3 mr-2"}),"Quét Manga"]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>o("movie"),className:"justify-start",children:[i.jsx(Cr,{className:"h-3 w-3 mr-2"}),"Quét Movie"]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>o("music"),className:"justify-start",children:[i.jsx(Cr,{className:"h-3 w-3 mr-2"}),"Quét Music"]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[i.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>s("manga"),className:"justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:[i.jsx(Vi,{className:"h-3 w-3 mr-2"}),"Xóa cache Manga"]}),i.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>s("movie"),className:"justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:[i.jsx(Vi,{className:"h-3 w-3 mr-2"}),"Xóa cache Movie"]}),i.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>s("music"),className:"justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:[i.jsx(Vi,{className:"h-3 w-3 mr-2"}),"Xóa cache Music"]})]})]})]})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-dark-700",children:i.jsxs(Us,{to:"/settings",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 hover:text-gray-900 dark:hover:text-white transition-colors",children:[i.jsx(mb,{className:"h-4 w-4"}),i.jsx("span",{children:"Cài đặt"})]})})]})},jc=()=>i.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsx(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white dark:bg-dark-800 rounded-2xl p-8 shadow-2xl",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary-200 dark:border-primary-800"}),i.jsx("div",{className:"absolute inset-0 h-12 w-12 rounded-full border-t-4 border-primary-600 animate-spin"})]}),i.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Đang tải..."})]})})}),u3=()=>{const{sidebarOpen:e,loading:t,setSidebarOpen:n}=Gt();return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 transition-colors duration-200",children:[i.jsx(l3,{}),i.jsxs("div",{className:"flex",children:[i.jsx(hr,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-20",onClick:()=>n(!1)}),i.jsx(Ve.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-16 z-30 h-[calc(100vh-4rem)] w-72 bg-white dark:bg-dark-800 shadow-lg",children:i.jsx(c3,{})})]})}),i.jsx("main",{className:"flex-1 transition-all duration-200",children:i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(tj,{})})})]}),i.jsx(hr,{children:t&&i.jsx(jc,{})}),i.jsx(sP,{position:"top-right",toastOptions:{duration:3e3,style:{background:"var(--bg-primary)",color:"var(--text-primary)"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})},d3=({isOpen:e,onClose:t,sourceKey:n,onSuccess:r})=>{const[s,o]=w.useState(""),[a,l]=w.useState(!1),[c,u]=w.useState(!1),{setToken:d}=Le(),f=async m=>{var p,x,b,v;if(m.preventDefault(),!s.trim()){Ae.error("Vui lòng nhập mật khẩu");return}u(!0);try{const g=await _e.system.login({key:n,password:s}),{token:y}=g.data;d(y),localStorage.setItem("userToken",y),Ae.success("Đăng nhập thành công"),o(""),r==null||r()}catch(g){console.error("Login error:",g),((x=(p=g.response)==null?void 0:p.data)==null?void 0:x.error)==="wrong"?Ae.error("Mật khẩu không đúng"):((v=(b=g.response)==null?void 0:b.data)==null?void 0:v.error)==="invalid key"?Ae.error("Source key không hợp lệ"):Ae.error("Lỗi đăng nhập")}finally{u(!1)}},h=()=>{o(""),l(!1),t()};return i.jsx(sh,{isOpen:e,onRequestClose:h,className:"max-w-md mx-auto mt-32 bg-white dark:bg-dark-800 rounded-2xl shadow-2xl outline-none",overlayClassName:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center p-4",children:i.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full",children:[i.jsxs("div",{className:"text-center p-6 border-b border-gray-200 dark:border-dark-700",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(hb,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Đăng nhập vào source bảo mật"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Source ",i.jsx("span",{className:"font-medium text-primary-600 dark:text-primary-400",children:n})," yêu cầu mật khẩu"]})]}),i.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mật khẩu"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:a?"text":"password",value:s,onChange:m=>o(m.target.value),placeholder:"Nhập mật khẩu...",className:"w-full px-4 py-3 bg-gray-100 dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 dark:text-white pr-12",autoFocus:!0,disabled:c}),i.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:a?i.jsx(jR,{className:"h-5 w-5"}):i.jsx(bc,{className:"h-5 w-5"})})]})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx(H,{type:"button",variant:"secondary",className:"flex-1",onClick:h,disabled:c,children:"Hủy"}),i.jsx(H,{type:"submit",variant:"primary",className:"flex-1",loading:c,disabled:!s.trim(),children:"Đăng nhập"})]})]})]})})},f3=()=>{const e=vt(),[t,n]=w.useState({manga:[],movie:[],music:[]}),[r,s]=w.useState(!1),[o,a]=w.useState(!1),[l,c]=w.useState(""),{setSourceKey:u,setSecureKeys:d,isSecureKey:f,isAuthenticated:h,token:m}=Le(),{setLoading:p}=Gt();w.useEffect(()=>{(async()=>{try{p(!0),await new Promise(U=>setTimeout(U,1e3));const k=await fetch("/api/source-keys.js");if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const S=await k.text(),C=S.match(/window\.mangaKeys = (\[.*?\]);/),N=S.match(/window\.movieKeys = (\[.*?\]);/),j=S.match(/window\.musicKeys = (\[.*?\]);/);n({manga:C?JSON.parse(C[1]):[],movie:N?JSON.parse(N[1]):[],music:j?JSON.parse(j[1]):[]});const P=await fetch("/api/security-keys.js");if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const $=(await P.text()).match(/window\.secureKeys = (\[.*?\]);/),_=$?JSON.parse($[1]):[];d(_)}catch(k){console.error("Error loading source keys:",k),Ae.error("Lỗi tải danh sách source")}finally{p(!1)}})()},[p,d]);const x=async(y,k)=>{if(f(y)&&!h){c(y),a(!0);return}u(y),p(!0);try{k==="manga"?e("/manga/select"):k==="movie"?((await _e.movie.checkEmpty({key:y})).data.empty&&await _e.movie.scan({key:y}),e("/movie")):k==="music"&&e("/music")}catch(C){console.error(`Error checking ${k}:`,C),e(`/${k}`)}finally{p(!1)}},b=y=>{a(!1);const k=v(y);x(y,k)},v=y=>t.manga.includes(y)?"manga":t.movie.includes(y)?"movie":t.music.includes(y)?"music":"manga",g=({title:y,keys:k,type:S,icon:C})=>{const N=r?k:k.filter(j=>!f(j));return i.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-dark-800 rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx("div",{className:"text-3xl",children:C}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y})]}),N.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(j=>{const P=f(j);return i.jsx(Ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsx(H,{variant:"outline",className:"w-full justify-start p-4 h-auto",onClick:()=>x(j,S),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(As,{className:"h-5 w-5 text-primary-600"}),i.jsx("span",{className:"font-medium",children:j}),P&&i.jsx(hb,{className:"h-4 w-4 text-yellow-500"})]})})},j)})}):i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx("div",{className:"text-4xl mb-2",children:"📂"}),i.jsx("p",{children:"Không có source nào khả dụng"})]})]})};return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[i.jsxs(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white",children:"Chào mừng đến với MainWebSite"}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Trình quản lý media local cho manga, phim và nhạc. Chọn source để bắt đầu."}),i.jsx("div",{className:"flex items-center justify-center space-x-3",children:i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:y=>s(y.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hiển thị source bảo mật"})]})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsx(g,{title:"Manga",keys:t.manga,type:"manga",icon:"📚"}),i.jsx(g,{title:"Movie",keys:t.movie,type:"movie",icon:"🎬"}),i.jsx(g,{title:"Music",keys:t.music,type:"music",icon:"🎵"})]}),i.jsx(d3,{isOpen:o,onClose:()=>a(!1),sourceKey:l,onSuccess:()=>b(l)})]})},h3=()=>{const e=vt(),[t,n]=w.useState([]),[r,s]=w.useState(!1),{sourceKey:o,setRootFolder:a}=Le(),{setLoading:l}=Gt();w.useEffect(()=>{if(!o){e("/");return}c()},[o,e]);const c=async()=>{try{s(!0);const d=await _e.system.listRoots({key:o});n(d.data||[])}catch(d){console.error("Error loading root folders:",d),Ae.error("Lỗi tải danh sách thư mục gốc")}finally{s(!1)}},u=async d=>{a(d),l(!0);try{e(`/manga?root=${encodeURIComponent(d)}`)}catch(f){console.error("Error selecting folder:",f),Ae.error("Lỗi chọn thư mục")}finally{l(!1)}};return i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Chọn thư mục Manga"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Source: ",i.jsx("span",{className:"font-medium text-primary-600 dark:text-primary-400",children:o})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(H,{variant:"secondary",onClick:c,loading:r,children:[i.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Làm mới"]})})]}),r?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Đang tải..."})]}):t.length>0?i.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((d,f)=>i.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsx("div",{onClick:()=>u(d),className:"bg-white dark:bg-dark-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-200 cursor-pointer border border-gray-200 dark:border-dark-700 hover:border-primary-300 dark:hover:border-primary-600",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center",children:i.jsx(As,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:d}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Thư mục manga"})]})]})})},d))}):i.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"📁"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Không tìm thấy thư mục nào"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Có thể source không có thư mục manga hoặc cần cấu hình lại"}),i.jsx(H,{variant:"primary",onClick:()=>e("/"),children:"Về trang chủ"})]}),i.jsx("div",{className:"flex justify-center pt-6",children:i.jsx(H,{variant:"secondary",onClick:()=>e("/"),children:"← Về trang chủ"})})]})};var Eb={exports:{}};(()=>{var e={296:(s,o,a)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt,h=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,m=typeof self=="object"&&self&&self.Object===Object&&self,p=h||m||Function("return this")(),x=Object.prototype.toString,b=Math.max,v=Math.min,g=function(){return p.Date.now()};function y(S){var C=typeof S;return!!S&&(C=="object"||C=="function")}function k(S){if(typeof S=="number")return S;if(function(j){return typeof j=="symbol"||function(P){return!!P&&typeof P=="object"}(j)&&x.call(j)=="[object Symbol]"}(S))return NaN;if(y(S)){var C=typeof S.valueOf=="function"?S.valueOf():S;S=y(C)?C+"":C}if(typeof S!="string")return S===0?S:+S;S=S.replace(l,"");var N=u.test(S);return N||d.test(S)?f(S.slice(2),N?2:8):c.test(S)?NaN:+S}s.exports=function(S,C,N){var j,P,D,$,_,U,M=0,T=!1,z=!1,E=!0;if(typeof S!="function")throw new TypeError("Expected a function");function O(q){var Y=j,ge=P;return j=P=void 0,M=q,$=S.apply(ge,Y)}function B(q){var Y=q-U;return U===void 0||Y>=C||Y<0||z&&q-M>=D}function F(){var q=g();if(B(q))return A(q);_=setTimeout(F,function(Y){var ge=C-(Y-U);return z?v(ge,D-(Y-M)):ge}(q))}function A(q){return _=void 0,E&&j?O(q):(j=P=void 0,$)}function te(){var q=g(),Y=B(q);if(j=arguments,P=this,U=q,Y){if(_===void 0)return function(ge){return M=ge,_=setTimeout(F,C),T?O(ge):$}(U);if(z)return _=setTimeout(F,C),O(U)}return _===void 0&&(_=setTimeout(F,C)),$}return C=k(C)||0,y(N)&&(T=!!N.leading,D=(z="maxWait"in N)?b(k(N.maxWait)||0,C):D,E="trailing"in N?!!N.trailing:E),te.cancel=function(){_!==void 0&&clearTimeout(_),M=0,j=U=P=_=void 0},te.flush=function(){return _===void 0?$:A(g())},te}},96:(s,o,a)=>{var l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,m=/^0o[0-7]+$/i,p=parseInt,x=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,b=typeof self=="object"&&self&&self.Object===Object&&self,v=x||b||Function("return this")(),g=Object.prototype.toString,y=Math.max,k=Math.min,S=function(){return v.Date.now()};function C(j){var P=typeof j;return!!j&&(P=="object"||P=="function")}function N(j){if(typeof j=="number")return j;if(function($){return typeof $=="symbol"||function(_){return!!_&&typeof _=="object"}($)&&g.call($)==u}(j))return c;if(C(j)){var P=typeof j.valueOf=="function"?j.valueOf():j;j=C(P)?P+"":P}if(typeof j!="string")return j===0?j:+j;j=j.replace(d,"");var D=h.test(j);return D||m.test(j)?p(j.slice(2),D?2:8):f.test(j)?c:+j}s.exports=function(j,P,D){var $=!0,_=!0;if(typeof j!="function")throw new TypeError(l);return C(D)&&($="leading"in D?!!D.leading:$,_="trailing"in D?!!D.trailing:_),function(U,M,T){var z,E,O,B,F,A,te=0,q=!1,Y=!1,ge=!0;if(typeof U!="function")throw new TypeError(l);function re(ue){var G=z,ae=E;return z=E=void 0,te=ue,B=U.apply(ae,G)}function ie(ue){var G=ue-A;return A===void 0||G>=M||G<0||Y&&ue-te>=O}function fe(){var ue=S();if(ie(ue))return ve(ue);F=setTimeout(fe,function(G){var ae=M-(G-A);return Y?k(ae,O-(G-te)):ae}(ue))}function ve(ue){return F=void 0,ge&&z?re(ue):(z=E=void 0,B)}function we(){var ue=S(),G=ie(ue);if(z=arguments,E=this,A=ue,G){if(F===void 0)return function(ae){return te=ae,F=setTimeout(fe,M),q?re(ae):B}(A);if(Y)return F=setTimeout(fe,M),re(A)}return F===void 0&&(F=setTimeout(fe,M)),B}return M=N(M)||0,C(T)&&(q=!!T.leading,O=(Y="maxWait"in T)?y(N(T.maxWait)||0,M):O,ge="trailing"in T?!!T.trailing:ge),we.cancel=function(){F!==void 0&&clearTimeout(F),te=0,z=A=E=F=void 0},we.flush=function(){return F===void 0?B:ve(S())},we}(j,P,{leading:$,maxWait:P,trailing:_})}},703:(s,o,a)=>{var l=a(414);function c(){}function u(){}u.resetWarningCache=c,s.exports=function(){function d(m,p,x,b,v,g){if(g!==l){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}function f(){return d}d.isRequired=d;var h={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:f,element:d,elementType:d,instanceOf:f,node:d,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:u,resetWarningCache:c};return h.PropTypes=h,h}},697:(s,o,a)=>{s.exports=a(703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(s){var o=t[s];if(o!==void 0)return o.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.n=s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return n.d(o,{a:o}),o},n.d=(s,o)=>{for(var a in o)n.o(o,a)&&!n.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(s,o)=>Object.prototype.hasOwnProperty.call(s,o),n.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>G,LazyLoadImage:()=>qe,trackWindowScroll:()=>B});const s=w;var o=n.n(s),a=n(697);function l(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function c(Q){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},c(Q)}function u(Q,R){var X=Object.keys(Q);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Q);R&&(J=J.filter(function(ke){return Object.getOwnPropertyDescriptor(Q,ke).enumerable})),X.push.apply(X,J)}return X}function d(Q,R,X){return(R=h(R))in Q?Object.defineProperty(Q,R,{value:X,enumerable:!0,configurable:!0,writable:!0}):Q[R]=X,Q}function f(Q,R){for(var X=0;X<R.length;X++){var J=R[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,h(J.key),J)}}function h(Q){var R=function(X,J){if(c(X)!=="object"||X===null)return X;var ke=X[Symbol.toPrimitive];if(ke!==void 0){var xe=ke.call(X,"string");if(c(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}(Q);return c(R)==="symbol"?R:String(R)}function m(Q,R){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,J){return X.__proto__=J,X},m(Q,R)}function p(Q){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},p(Q)}var x=function(Q){Q.forEach(function(R){R.isIntersecting&&R.target.onVisible()})},b={},v=function(Q){(function(I,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(W&&W.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),W&&m(I,W)})(Me,Q);var R,X,J,ke,xe=(J=Me,ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var I,W=p(J);if(ke){var de=p(this).constructor;I=Reflect.construct(W,arguments,de)}else I=W.apply(this,arguments);return function(le,L){if(L&&(c(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}(le)}(this,I)});function Me(I){var W;if(function(le,L){if(!(le instanceof L))throw new TypeError("Cannot call a class as a function")}(this,Me),(W=xe.call(this,I)).supportsObserver=!I.scrollPosition&&I.useIntersectionObserver&&l(),W.supportsObserver){var de=I.threshold;W.observer=function(le){return b[le]=b[le]||new IntersectionObserver(x,{rootMargin:le+"px"}),b[le]}(de)}return W}return R=Me,X=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,W=this.placeholder.getBoundingClientRect(),de=this.placeholder.style,le=parseInt(de.getPropertyValue("margin-left"),10)||0,L=parseInt(de.getPropertyValue("margin-top"),10)||0;return{bottom:I.y+W.bottom+L,left:I.x+W.left+le,right:I.x+W.right+le,top:I.y+W.top+L}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var I=this.props,W=I.scrollPosition,de=I.threshold,le=this.getPlaceholderBoundingBox(W),L=W.y+window.innerHeight,ee=W.x,ye=W.x+window.innerWidth,je=W.y;return je-de<=le.bottom&&L+de>=le.top&&ee-de<=le.right&&ye+de>=le.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var I=this,W=this.props,de=W.className,le=W.height,L=W.placeholder,ee=W.style,ye=W.width;if(L&&typeof L.type!="function")return o().cloneElement(L,{ref:function(Oe){return I.placeholder=Oe}});var je=function(Oe){for(var Ie=1;Ie<arguments.length;Ie++){var Qe=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?u(Object(Qe),!0).forEach(function(ct){d(Oe,ct,Qe[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Qe)):u(Object(Qe)).forEach(function(ct){Object.defineProperty(Oe,ct,Object.getOwnPropertyDescriptor(Qe,ct))})}return Oe}({display:"inline-block"},ee);return ye!==void 0&&(je.width=ye),le!==void 0&&(je.height=le),o().createElement("span",{className:de,ref:function(Oe){return I.placeholder=Oe},style:je},L)}}],X&&f(R.prototype,X),Object.defineProperty(R,"prototype",{writable:!1}),Me}(o().Component);v.propTypes={onVisible:a.PropTypes.func.isRequired,className:a.PropTypes.string,height:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),placeholder:a.PropTypes.element,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,scrollPosition:a.PropTypes.shape({x:a.PropTypes.number.isRequired,y:a.PropTypes.number.isRequired}),width:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string])},v.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const g=v;var y=n(296),k=n.n(y),S=n(96),C=n.n(S),N=function(Q){var R=getComputedStyle(Q,null);return R.getPropertyValue("overflow")+R.getPropertyValue("overflow-y")+R.getPropertyValue("overflow-x")};const j=function(Q){if(!(Q instanceof HTMLElement))return window;for(var R=Q;R&&R instanceof HTMLElement;){if(/(scroll|auto)/.test(N(R)))return R;R=R.parentNode}return window};function P(Q){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},P(Q)}var D=["delayMethod","delayTime"];function $(){return $=Object.assign?Object.assign.bind():function(Q){for(var R=1;R<arguments.length;R++){var X=arguments[R];for(var J in X)Object.prototype.hasOwnProperty.call(X,J)&&(Q[J]=X[J])}return Q},$.apply(this,arguments)}function _(Q,R){for(var X=0;X<R.length;X++){var J=R[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,(ke=function(xe,Me){if(P(xe)!=="object"||xe===null)return xe;var I=xe[Symbol.toPrimitive];if(I!==void 0){var W=I.call(xe,"string");if(P(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(J.key),P(ke)==="symbol"?ke:String(ke)),J)}var ke}function U(Q,R){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,J){return X.__proto__=J,X},U(Q,R)}function M(Q,R){if(R&&(P(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(Q)}function T(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function z(Q){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},z(Q)}var E=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},O=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const B=function(Q){var R=function(X){(function(de,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(le&&le.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),le&&U(de,le)})(W,X);var J,ke,xe,Me,I=(xe=W,Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var de,le=z(xe);if(Me){var L=z(this).constructor;de=Reflect.construct(le,arguments,L)}else de=le.apply(this,arguments);return M(this,de)});function W(de){var le;if(function(ee,ye){if(!(ee instanceof ye))throw new TypeError("Cannot call a class as a function")}(this,W),(le=I.call(this,de)).useIntersectionObserver=de.useIntersectionObserver&&l(),le.useIntersectionObserver)return M(le);var L=le.onChangeScroll.bind(T(le));return de.delayMethod==="debounce"?le.delayedScroll=k()(L,de.delayTime):de.delayMethod==="throttle"&&(le.delayedScroll=C()(L,de.delayTime)),le.state={scrollPosition:{x:E(),y:O()}},le.baseComponentRef=o().createRef(),le}return J=W,(ke=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||j(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=j(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:E(),y:O()}})}},{key:"render",value:function(){var de=this.props,le=(de.delayMethod,de.delayTime,function(ee,ye){if(ee==null)return{};var je,Oe,Ie=function(ct,Zn){if(ct==null)return{};var jn,_r,Qa={},Jh=Object.keys(ct);for(_r=0;_r<Jh.length;_r++)jn=Jh[_r],Zn.indexOf(jn)>=0||(Qa[jn]=ct[jn]);return Qa}(ee,ye);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(ee);for(Oe=0;Oe<Qe.length;Oe++)je=Qe[Oe],ye.indexOf(je)>=0||Object.prototype.propertyIsEnumerable.call(ee,je)&&(Ie[je]=ee[je])}return Ie}(de,D)),L=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(Q,$({forwardRef:this.baseComponentRef,scrollPosition:L},le))}}])&&_(J.prototype,ke),Object.defineProperty(J,"prototype",{writable:!1}),W}(o().Component);return R.propTypes={delayMethod:a.PropTypes.oneOf(["debounce","throttle"]),delayTime:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool},R.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},R};function F(Q){return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},F(Q)}function A(Q,R){for(var X=0;X<R.length;X++){var J=R[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,(ke=function(xe,Me){if(F(xe)!=="object"||xe===null)return xe;var I=xe[Symbol.toPrimitive];if(I!==void 0){var W=I.call(xe,"string");if(F(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(J.key),F(ke)==="symbol"?ke:String(ke)),J)}var ke}function te(Q,R){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,J){return X.__proto__=J,X},te(Q,R)}function q(Q){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},q(Q)}var Y=function(Q){(function(I,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(W&&W.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),W&&te(I,W)})(Me,Q);var R,X,J,ke,xe=(J=Me,ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var I,W=q(J);if(ke){var de=q(this).constructor;I=Reflect.construct(W,arguments,de)}else I=W.apply(this,arguments);return function(le,L){if(L&&(F(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}(le)}(this,I)});function Me(I){return function(W,de){if(!(W instanceof de))throw new TypeError("Cannot call a class as a function")}(this,Me),xe.call(this,I)}return R=Me,(X=[{key:"render",value:function(){return o().createElement(g,this.props)}}])&&A(R.prototype,X),Object.defineProperty(R,"prototype",{writable:!1}),Me}(o().Component);const ge=B(Y);function re(Q){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},re(Q)}function ie(Q,R){for(var X=0;X<R.length;X++){var J=R[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,(ke=function(xe,Me){if(re(xe)!=="object"||xe===null)return xe;var I=xe[Symbol.toPrimitive];if(I!==void 0){var W=I.call(xe,"string");if(re(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(xe)}(J.key),re(ke)==="symbol"?ke:String(ke)),J)}var ke}function fe(Q,R){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,J){return X.__proto__=J,X},fe(Q,R)}function ve(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function we(Q){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},we(Q)}var ue=function(Q){(function(I,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(W&&W.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),W&&fe(I,W)})(Me,Q);var R,X,J,ke,xe=(J=Me,ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var I,W=we(J);if(ke){var de=we(this).constructor;I=Reflect.construct(W,arguments,de)}else I=W.apply(this,arguments);return function(le,L){if(L&&(re(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ve(le)}(this,I)});function Me(I){var W;(function(ye,je){if(!(ye instanceof je))throw new TypeError("Cannot call a class as a function")})(this,Me),W=xe.call(this,I);var de=I.afterLoad,le=I.beforeLoad,L=I.scrollPosition,ee=I.visibleByDefault;return W.state={visible:ee},ee&&(le(),de()),W.onVisible=W.onVisible.bind(ve(W)),W.isScrollTracked=!!(L&&Number.isFinite(L.x)&&L.x>=0&&Number.isFinite(L.y)&&L.y>=0),W}return R=Me,(X=[{key:"componentDidUpdate",value:function(I,W){W.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var I=this.props,W=I.className,de=I.delayMethod,le=I.delayTime,L=I.height,ee=I.placeholder,ye=I.scrollPosition,je=I.style,Oe=I.threshold,Ie=I.useIntersectionObserver,Qe=I.width;return this.isScrollTracked||Ie&&l()?o().createElement(g,{className:W,height:L,onVisible:this.onVisible,placeholder:ee,scrollPosition:ye,style:je,threshold:Oe,useIntersectionObserver:Ie,width:Qe}):o().createElement(ge,{className:W,delayMethod:de,delayTime:le,height:L,onVisible:this.onVisible,placeholder:ee,style:je,threshold:Oe,width:Qe})}}])&&ie(R.prototype,X),Object.defineProperty(R,"prototype",{writable:!1}),Me}(o().Component);ue.propTypes={afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool},ue.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const G=ue;function ae(Q){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},ae(Q)}var Ee=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Te(Q,R){var X=Object.keys(Q);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Q);R&&(J=J.filter(function(ke){return Object.getOwnPropertyDescriptor(Q,ke).enumerable})),X.push.apply(X,J)}return X}function et(Q){for(var R=1;R<arguments.length;R++){var X=arguments[R]!=null?arguments[R]:{};R%2?Te(Object(X),!0).forEach(function(J){se(Q,J,X[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(X)):Te(Object(X)).forEach(function(J){Object.defineProperty(Q,J,Object.getOwnPropertyDescriptor(X,J))})}return Q}function se(Q,R,X){return(R=he(R))in Q?Object.defineProperty(Q,R,{value:X,enumerable:!0,configurable:!0,writable:!0}):Q[R]=X,Q}function ne(){return ne=Object.assign?Object.assign.bind():function(Q){for(var R=1;R<arguments.length;R++){var X=arguments[R];for(var J in X)Object.prototype.hasOwnProperty.call(X,J)&&(Q[J]=X[J])}return Q},ne.apply(this,arguments)}function oe(Q,R){for(var X=0;X<R.length;X++){var J=R[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,he(J.key),J)}}function he(Q){var R=function(X,J){if(ae(X)!=="object"||X===null)return X;var ke=X[Symbol.toPrimitive];if(ke!==void 0){var xe=ke.call(X,"string");if(ae(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}(Q);return ae(R)==="symbol"?R:String(R)}function me(Q,R){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,J){return X.__proto__=J,X},me(Q,R)}function K(Q){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},K(Q)}var pe=function(Q){(function(I,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(W&&W.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),W&&me(I,W)})(Me,Q);var R,X,J,ke,xe=(J=Me,ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var I,W=K(J);if(ke){var de=K(this).constructor;I=Reflect.construct(W,arguments,de)}else I=W.apply(this,arguments);return function(le,L){if(L&&(ae(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}(le)}(this,I)});function Me(I){var W;return function(de,le){if(!(de instanceof le))throw new TypeError("Cannot call a class as a function")}(this,Me),(W=xe.call(this,I)).state={loaded:!1},W}return R=Me,(X=[{key:"onImageLoad",value:function(){var I=this;return this.state.loaded?null:function(W){I.props.onLoad(W),I.props.afterLoad(),I.setState({loaded:!0})}}},{key:"getImg",value:function(){var I=this.props,W=(I.afterLoad,I.beforeLoad,I.delayMethod,I.delayTime,I.effect,I.placeholder,I.placeholderSrc,I.scrollPosition,I.threshold,I.useIntersectionObserver,I.visibleByDefault,I.wrapperClassName,I.wrapperProps,function(de,le){if(de==null)return{};var L,ee,ye=function(Oe,Ie){if(Oe==null)return{};var Qe,ct,Zn={},jn=Object.keys(Oe);for(ct=0;ct<jn.length;ct++)Qe=jn[ct],Ie.indexOf(Qe)>=0||(Zn[Qe]=Oe[Qe]);return Zn}(de,le);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(de);for(ee=0;ee<je.length;ee++)L=je[ee],le.indexOf(L)>=0||Object.prototype.propertyIsEnumerable.call(de,L)&&(ye[L]=de[L])}return ye}(I,Ee));return o().createElement("img",ne({},W,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var I=this.props,W=I.beforeLoad,de=I.className,le=I.delayMethod,L=I.delayTime,ee=I.height,ye=I.placeholder,je=I.scrollPosition,Oe=I.style,Ie=I.threshold,Qe=I.useIntersectionObserver,ct=I.visibleByDefault,Zn=I.width;return o().createElement(G,{beforeLoad:W,className:de,delayMethod:le,delayTime:L,height:ee,placeholder:ye,scrollPosition:je,style:Oe,threshold:Ie,useIntersectionObserver:Qe,visibleByDefault:ct,width:Zn},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(I){var W=this.props,de=W.effect,le=W.height,L=W.placeholderSrc,ee=W.width,ye=W.wrapperClassName,je=W.wrapperProps,Oe=this.state.loaded,Ie=Oe?" lazy-load-image-loaded":"",Qe=Oe||!L?{}:{backgroundImage:"url(".concat(L,")"),backgroundSize:"100% 100%"};return o().createElement("span",ne({className:ye+" lazy-load-image-background "+de+Ie,style:et(et({},Qe),{},{color:"transparent",display:"inline-block",height:le,width:ee})},je),I)}},{key:"render",value:function(){var I=this.props,W=I.effect,de=I.placeholderSrc,le=I.visibleByDefault,L=I.wrapperClassName,ee=I.wrapperProps,ye=this.getLazyLoadImage();return(W||de)&&!le||L||ee?this.getWrappedLazyLoadImage(ye):ye}}])&&oe(R.prototype,X),Object.defineProperty(R,"prototype",{writable:!1}),Me}(o().Component);pe.propTypes={onLoad:a.PropTypes.func,afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,delayMethod:a.PropTypes.string,delayTime:a.PropTypes.number,effect:a.PropTypes.string,placeholderSrc:a.PropTypes.string,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool,wrapperClassName:a.PropTypes.string,wrapperProps:a.PropTypes.object},pe.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const qe=pe})(),Eb.exports=r})();var m3=Eb.exports;const p3=e=>!e||e===0?"0":e<1e3?e.toString():e<1e6?`${(e/1e3).toFixed(1)}K`:`${(e/1e6).toFixed(1)}M`,g3=({manga:e,isFavorite:t,onToggleFavorite:n,showViews:r=!1,onClick:s,className:o="",variant:a="default"})=>{const l=vt(),{addRecentItem:c}=kc("manga"),u=!!(t||e!=null&&e.isFavorite),d=p=>{var k,S,C;if(p.stopPropagation(),s){s(e);return}const x=e.isSelfReader,b=e.hasImages&&((k=e.images)==null?void 0:k.length)>0,v=e.images&&Array.isArray(e.images)&&e.images.length>0,g=(S=e.path)==null?void 0:S.endsWith("/__self__"),y=x||b||v||g;console.log("📁 MangaCard navigation decision:",{isReaderItem:y,hasIsSelfReader:x,hasImages:b,hasImagesArray:v,endsWithSelf:g,mangaPath:e.path,mangaName:e.name,imagesCount:(C=e.images)==null?void 0:C.length}),y?(console.log("📖 Navigating directly to reader:",e.path),l(`/manga/reader?path=${encodeURIComponent(e.path)}`),setTimeout(()=>{try{c(e)}catch(N){console.warn("Error adding to recent:",N)}},0)):(console.log("📁 Navigating to folder:",e.path),l(`/manga?path=${encodeURIComponent(e.path)}`))},f=p=>{p.stopPropagation(),n&&n()},h=e.name==="__self__"?"Đọc ngay":e.name,m=`manga-card ${a} ${o}`;return i.jsxs("div",{className:m,onClick:d,children:[i.jsxs("div",{className:"manga-card-thumbnail",children:[i.jsx(m3.LazyLoadImage,{alt:h,src:e.thumbnail||"/default/default-cover.jpg",effect:"blur",className:"manga-card-image",wrapperClassName:"manga-card-image-wrapper",placeholderSrc:"/default/default-cover.jpg"}),r&&(e.count>0||e.viewCount>0)&&i.jsxs("div",{className:"view-count-badge",children:[i.jsx(bc,{}),i.jsx("span",{children:p3(e.count||e.viewCount||0)})]}),i.jsx("button",{className:`manga-card-favorite ${u?"active":""}`,onClick:f,title:u?"Bỏ yêu thích":"Thêm yêu thích",children:i.jsx(Bs,{})}),i.jsx("div",{className:"manga-card-overlay"})]}),i.jsx("div",{className:"manga-card-title",title:h,children:h})]})};function y3(e){return Object.prototype.toString.call(e)==="[object Object]"}function i0(e){return y3(e)||Array.isArray(e)}function v3(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Bh(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==o?!1:n.every(a=>{const l=e[a],c=t[a];return typeof l=="function"?`${l}`==`${c}`:!i0(l)||!i0(c)?l===c:Bh(l,c)})}function l0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function x3(e,t){if(e.length!==t.length)return!1;const n=l0(e),r=l0(t);return n.every((s,o)=>{const a=r[o];return Bh(s,a)})}function Hh(e){return typeof e=="number"}function Xd(e){return typeof e=="string"}function Nc(e){return typeof e=="boolean"}function c0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Je(e){return Math.abs(e)}function Wh(e){return Math.sign(e)}function Qo(e,t){return Je(e-t)}function b3(e,t){if(e===0||t===0||Je(e)<=Je(t))return 0;const n=Qo(Je(e),Je(t));return Je(n/e)}function w3(e){return Math.round(e*100)/100}function Sa(e){return ja(e).map(Number)}function vn(e){return e[Wa(e)]}function Wa(e){return Math.max(0,e.length-1)}function Kh(e,t){return t===Wa(e)}function u0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function ja(e){return Object.keys(e)}function Pb(e,t){return[e,t].reduce((n,r)=>(ja(r).forEach(s=>{const o=n[s],a=r[s],l=c0(o)&&c0(a);n[s]=l?Pb(o,a):a}),n),{})}function Jd(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function k3(e,t){const n={start:r,center:s,end:o};function r(){return 0}function s(c){return o(c)/2}function o(c){return t-c}function a(c,u){return Xd(e)?n[e](c):e(t,c,u)}return{measure:a}}function Na(){let e=[];function t(s,o,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(o,a,l),c=()=>s.removeEventListener(o,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),r}function n(){e=e.filter(s=>s())}const r={add:t,clear:n};return r}function S3(e,t,n,r){const s=Na(),o=1e3/60;let a=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&p()})}function d(){m(),s.clear()}function f(b){if(!c)return;a||(a=b,n(),n());const v=b-a;for(a=b,l+=v;l>=o;)n(),l-=o;const g=l/o;r(g),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function m(){t.cancelAnimationFrame(c),a=null,l=0,c=0}function p(){a=null,l=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:r}}function j3(e,t){const n=t==="rtl",r=e==="y",s=r?"y":"x",o=r?"x":"y",a=!r&&n?-1:1,l=d(),c=f();function u(p){const{height:x,width:b}=p;return r?x:b}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(p){return p*a}return{scroll:s,cross:o,startEdge:l,endEdge:c,measureSize:u,direction:h}}function cs(e=0,t=0){const n=Je(e-t);function r(u){return u<e}function s(u){return u>t}function o(u){return r(u)||s(u)}function a(u){return o(u)?r(u)?e:t:u}function l(u){return n?u-n*Math.ceil((u-t)/n):u}return{length:n,max:t,min:e,constrain:a,reachedAny:o,reachedMax:s,reachedMin:r,removeOffset:l}}function Tb(e,t,n){const{constrain:r}=cs(0,e),s=e+1;let o=a(t);function a(h){return n?Je((s+h)%s):r(h)}function l(){return o}function c(h){return o=a(h),f}function u(h){return d().set(l()+h)}function d(){return Tb(e,l(),n)}const f={get:l,set:c,add:u,clone:d};return f}function N3(e,t,n,r,s,o,a,l,c,u,d,f,h,m,p,x,b,v,g){const{cross:y,direction:k}=e,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},N=Na(),j=Na(),P=cs(50,225).constrain(m.measure(20)),D={mouse:300,touch:400},$={mouse:500,touch:600},_=p?43:25;let U=!1,M=0,T=0,z=!1,E=!1,O=!1,B=!1;function F(G){if(!g)return;function ae(Te){(Nc(g)||g(G,Te))&&re(Te)}const Ee=t;N.add(Ee,"dragstart",Te=>Te.preventDefault(),C).add(Ee,"touchmove",()=>{},C).add(Ee,"touchend",()=>{}).add(Ee,"touchstart",ae).add(Ee,"mousedown",ae).add(Ee,"touchcancel",fe).add(Ee,"contextmenu",fe).add(Ee,"click",ve,!0)}function A(){N.clear(),j.clear()}function te(){const G=B?n:t;j.add(G,"touchmove",ie,C).add(G,"touchend",fe).add(G,"mousemove",ie,C).add(G,"mouseup",fe)}function q(G){const ae=G.nodeName||"";return S.includes(ae)}function Y(){return(p?$:D)[B?"mouse":"touch"]}function ge(G,ae){const Ee=f.add(Wh(G)*-1),Te=d.byDistance(G,!p).distance;return p||Je(G)<P?Te:b&&ae?Te*.5:d.byIndex(Ee.get(),0).distance}function re(G){const ae=Jd(G,r);B=ae,O=p&&ae&&!G.buttons&&U,U=Qo(s.get(),a.get())>=2,!(ae&&G.button!==0)&&(q(G.target)||(z=!0,o.pointerDown(G),u.useFriction(0).useDuration(0),s.set(a),te(),M=o.readPoint(G),T=o.readPoint(G,y),h.emit("pointerDown")))}function ie(G){if(!Jd(G,r)&&G.touches.length>=2)return fe(G);const Ee=o.readPoint(G),Te=o.readPoint(G,y),et=Qo(Ee,M),se=Qo(Te,T);if(!E&&!B&&(!G.cancelable||(E=et>se,!E)))return fe(G);const ne=o.pointerMove(G);et>x&&(O=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(ne)),G.preventDefault()}function fe(G){const Ee=d.byDistance(0,!1).index!==f.get(),Te=o.pointerUp(G)*Y(),et=ge(k(Te),Ee),se=b3(Te,et),ne=_-10*se,oe=v+se/50;E=!1,z=!1,j.clear(),u.useDuration(ne).useFriction(oe),c.distance(et,!p),B=!1,h.emit("pointerUp")}function ve(G){O&&(G.stopPropagation(),G.preventDefault(),O=!1)}function we(){return z}return{init:F,destroy:A,pointerDown:we}}function C3(e,t){let r,s;function o(f){return f.timeStamp}function a(f,h){const p=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(Jd(f,t)?f:f.touches[0])[p]}function l(f){return r=f,s=f,a(f)}function c(f){const h=a(f)-a(s),m=o(f)-o(r)>170;return s=f,m&&(r=f),h}function u(f){if(!r||!s)return 0;const h=a(s)-a(r),m=o(f)-o(r),p=o(f)-o(s)>170,x=h/m;return m&&!p&&Je(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function E3(){function e(n){const{offsetTop:r,offsetLeft:s,offsetWidth:o,offsetHeight:a}=n;return{top:r,right:s+o,bottom:r+a,left:s,width:o,height:a}}return{measure:e}}function P3(e){function t(r){return e*(r/100)}return{measure:t}}function T3(e,t,n,r,s,o,a){const l=[e].concat(r);let c,u,d=[],f=!1;function h(b){return s.measureSize(a.measure(b))}function m(b){if(!o)return;u=h(e),d=r.map(h);function v(g){for(const y of g){if(f)return;const k=y.target===e,S=r.indexOf(y.target),C=k?u:d[S],N=h(k?e:r[S]);if(Je(N-C)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(g=>{(Nc(o)||o(b,g))&&v(g)}),n.requestAnimationFrame(()=>{l.forEach(g=>c.observe(g))})}function p(){f=!0,c&&c.disconnect()}return{init:m,destroy:p}}function M3(e,t,n,r,s,o){let a=0,l=0,c=s,u=o,d=e.get(),f=0;function h(){const C=r.get()-e.get(),N=!c;let j=0;return N?(a=0,n.set(r),e.set(r),j=C):(n.set(e),a+=C/c,a*=u,d+=a,e.add(a),j=d-f),l=Wh(j),f=d,S}function m(){const C=r.get()-t.get();return Je(C)<.001}function p(){return c}function x(){return l}function b(){return a}function v(){return y(s)}function g(){return k(o)}function y(C){return c=C,S}function k(C){return u=C,S}const S={direction:x,duration:p,velocity:b,seek:h,settled:m,useBaseFriction:g,useBaseDuration:v,useFriction:k,useDuration:y};return S}function O3(e,t,n,r,s){const o=s.measure(10),a=s.measure(50),l=cs(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(m){if(!u())return;const p=e.reachedMin(t.get())?"min":"max",x=Je(e[p]-t.get()),b=n.get()-t.get(),v=l.constrain(x/a);n.subtract(b*v),!m&&Je(b)<o&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function R3(e,t,n,r,s){const o=cs(-t+e,0),a=f(),l=d(),c=h();function u(p,x){return Qo(p,x)<=1}function d(){const p=a[0],x=vn(a),b=a.lastIndexOf(p),v=a.indexOf(x)+1;return cs(b,v)}function f(){return n.map((p,x)=>{const{min:b,max:v}=o,g=o.constrain(p),y=!x,k=Kh(n,x);return y?v:k||u(b,g)?b:u(v,g)?v:g}).map(p=>parseFloat(p.toFixed(3)))}function h(){if(t<=e+s)return[o.max];if(r==="keepSnaps")return a;const{min:p,max:x}=l;return a.slice(p,x)}return{snapsContained:c,scrollContainLimit:l}}function L3(e,t,n){const r=t[0],s=n?r-e:vn(t);return{limit:cs(s,r)}}function F3(e,t,n,r){const o=t.min+.1,a=t.max+.1,{reachedMin:l,reachedMax:c}=cs(o,a);function u(h){return h===1?c(n.get()):h===-1?l(n.get()):!1}function d(h){if(!u(h))return;const m=e*(h*-1);r.forEach(p=>p.add(m))}return{loop:d}}function A3(e){const{max:t,length:n}=e;function r(o){const a=o-t;return n?a/-n:0}return{get:r}}function D3(e,t,n,r,s){const{startEdge:o,endEdge:a}=e,{groupSlides:l}=s,c=f().map(t.measure),u=h(),d=m();function f(){return l(r).map(x=>vn(x)[a]-x[0][o]).map(Je)}function h(){return r.map(x=>n[o]-x[o]).map(x=>-Je(x))}function m(){return l(u).map(x=>x[0]).map((x,b)=>x+c[b])}return{snaps:u,snapsAligned:d}}function _3(e,t,n,r,s,o){const{groupSlides:a}=s,{min:l,max:c}=r,u=d();function d(){const h=a(o),m=!e||t==="keepSnaps";return n.length===1?[o]:m?h:h.slice(l,c).map((p,x,b)=>{const v=!x,g=Kh(b,x);if(v){const y=vn(b[0])+1;return u0(y)}if(g){const y=Wa(o)-vn(b)[0]+1;return u0(y,vn(b)[0])}return p})}return{slideRegistry:u}}function I3(e,t,n,r,s){const{reachedAny:o,removeOffset:a,constrain:l}=r;function c(p){return p.concat().sort((x,b)=>Je(x)-Je(b))[0]}function u(p){const x=e?a(p):l(p),b=t.map((g,y)=>({diff:d(g-x,0),index:y})).sort((g,y)=>Je(g.diff)-Je(y.diff)),{index:v}=b[0];return{index:v,distance:x}}function d(p,x){const b=[p,p+n,p-n];if(!e)return p;if(!x)return c(b);const v=b.filter(g=>Wh(g)===x);return v.length?c(v):vn(b)-n}function f(p,x){const b=t[p]-s.get(),v=d(b,x);return{index:p,distance:v}}function h(p,x){const b=s.get()+p,{index:v,distance:g}=u(b),y=!e&&o(b);if(!x||y)return{index:v,distance:p};const k=t[v]-g,S=p+d(k,0);return{index:v,distance:S}}return{byDistance:h,byIndex:f,shortcut:d}}function $3(e,t,n,r,s,o,a){function l(f){const h=f.distance,m=f.index!==t.get();o.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(n.set(t.get()),t.set(f.index),a.emit("select"))}function c(f,h){const m=s.byDistance(f,h);l(m)}function u(f,h){const m=t.clone().set(f),p=s.byIndex(m.get(),h);l(p)}return{distance:c,index:u}}function V3(e,t,n,r,s,o,a,l){const c={passive:!0,capture:!0};let u=0;function d(m){if(!l)return;function p(x){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const g=n.findIndex(y=>y.includes(x));Hh(g)&&(s.useDuration(0),r.index(g,0),a.emit("slideFocus"))}o.add(document,"keydown",f,!1),t.forEach((x,b)=>{o.add(x,"focus",v=>{(Nc(l)||l(m,v))&&p(b)},c)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Oo(e){let t=e;function n(){return t}function r(c){t=a(c)}function s(c){t+=a(c)}function o(c){t-=a(c)}function a(c){return Hh(c)?c:c.get()}return{get:n,set:r,add:s,subtract:o}}function Mb(e,t){const n=e.scroll==="x"?a:l,r=t.style;let s=null,o=!1;function a(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(o)return;const m=w3(e.direction(h));m!==s&&(r.transform=n(m),s=m)}function u(h){o=!h}function d(){o||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function z3(e,t,n,r,s,o,a,l,c){const d=Sa(s),f=Sa(s).reverse(),h=v().concat(g());function m(N,j){return N.reduce((P,D)=>P-s[D],j)}function p(N,j){return N.reduce((P,D)=>m(P,j)>0?P.concat([D]):P,[])}function x(N){return o.map((j,P)=>({start:j-r[P]+.5+N,end:j+t-.5+N}))}function b(N,j,P){const D=x(j);return N.map($=>{const _=P?0:-n,U=P?n:0,M=P?"end":"start",T=D[$][M];return{index:$,loopPoint:T,slideLocation:Oo(-1),translate:Mb(e,c[$]),target:()=>l.get()>T?_:U}})}function v(){const N=a[0],j=p(f,N);return b(j,n,!1)}function g(){const N=t-a[0]-1,j=p(d,N);return b(j,-n,!0)}function y(){return h.every(({index:N})=>{const j=d.filter(P=>P!==N);return m(j,t)<=.1})}function k(){h.forEach(N=>{const{target:j,translate:P,slideLocation:D}=N,$=j();$!==D.get()&&(P.to($),D.set($))})}function S(){h.forEach(N=>N.translate.clear())}return{canLoop:y,clear:S,loop:k,loopPoints:h}}function U3(e,t,n){let r,s=!1;function o(c){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(Nc(n)||n(c,d))&&u(d)}),r.observe(e,{childList:!0})}function a(){r&&r.disconnect(),s=!0}return{init:o,destroy:a}}function B3(e,t,n,r){const s={};let o=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(p=>{c||(p.forEach(x=>{const b=t.indexOf(x.target);s[b]=x}),o=null,a=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(p=>l.observe(p))}function d(){l&&l.disconnect(),c=!0}function f(p){return ja(s).reduce((x,b)=>{const v=parseInt(b),{isIntersecting:g}=s[v];return(p&&g||!p&&!g)&&x.push(v),x},[])}function h(p=!0){if(p&&o)return o;if(!p&&a)return a;const x=f(p);return p&&(o=x),p||(a=x),x}return{init:u,destroy:d,get:h}}function H3(e,t,n,r,s,o){const{measureSize:a,startEdge:l,endEdge:c}=e,u=n[0]&&s,d=p(),f=x(),h=n.map(a),m=b();function p(){if(!u)return 0;const g=n[0];return Je(t[l]-g[l])}function x(){if(!u)return 0;const g=o.getComputedStyle(vn(r));return parseFloat(g.getPropertyValue(`margin-${c}`))}function b(){return n.map((g,y,k)=>{const S=!y,C=Kh(k,y);return S?h[y]+d:C?h[y]+f:k[y+1][l]-g[l]}).map(Je)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function W3(e,t,n,r,s,o,a,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=Hh(n);function m(v,g){return Sa(v).filter(y=>y%g===0).map(y=>v.slice(y,y+g))}function p(v){return v.length?Sa(v).reduce((g,y,k)=>{const S=vn(g)||0,C=S===0,N=y===Wa(v),j=s[u]-o[S][u],P=s[u]-o[y][d],D=!r&&C?f(a):0,$=!r&&N?f(l):0,_=Je(P-$-(j+D));return k&&_>t+c&&g.push(y),N&&g.push(v.length),g},[]).map((g,y,k)=>{const S=Math.max(k[y-1]||0);return v.slice(S,g)}):[]}function x(v){return h?m(v,n):p(v)}return{groupSlides:x}}function K3(e,t,n,r,s,o,a){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:p,inViewThreshold:x,slidesToScroll:b,skipSnaps:v,containScroll:g,watchResize:y,watchSlides:k,watchDrag:S,watchFocus:C}=o,N=2,j=E3(),P=j.measure(t),D=n.map(j.measure),$=j3(c,u),_=$.measureSize(P),U=P3(_),M=k3(l,_),T=!f&&!!g,z=f||!!g,{slideSizes:E,slideSizesWithGaps:O,startGap:B,endGap:F}=H3($,P,D,n,z,s),A=W3($,_,b,f,P,D,B,F,N),{snaps:te,snapsAligned:q}=D3($,M,P,D,A),Y=-vn(te)+vn(O),{snapsContained:ge,scrollContainLimit:re}=R3(_,Y,q,g,N),ie=T?ge:q,{limit:fe}=L3(Y,ie,f),ve=Tb(Wa(ie),d,f),we=ve.clone(),ue=Sa(n),G=({dragHandler:xe,scrollBody:Me,scrollBounds:I,options:{loop:W}})=>{W||I.constrain(xe.pointerDown()),Me.seek()},ae=({scrollBody:xe,translate:Me,location:I,offsetLocation:W,previousLocation:de,scrollLooper:le,slideLooper:L,dragHandler:ee,animation:ye,eventHandler:je,scrollBounds:Oe,options:{loop:Ie}},Qe)=>{const ct=xe.settled(),Zn=!Oe.shouldConstrain(),jn=Ie?ct:ct&&Zn,_r=jn&&!ee.pointerDown();_r&&ye.stop();const Qa=I.get()*Qe+de.get()*(1-Qe);W.set(Qa),Ie&&(le.loop(xe.direction()),L.loop()),Me.to(W.get()),_r&&je.emit("settle"),jn||je.emit("scroll")},Ee=S3(r,s,()=>G(ke),xe=>ae(ke,xe)),Te=.68,et=ie[ve.get()],se=Oo(et),ne=Oo(et),oe=Oo(et),he=Oo(et),me=M3(se,oe,ne,he,h,Te),K=I3(f,ie,Y,fe,he),pe=$3(Ee,ve,we,me,K,he,a),qe=A3(fe),Q=Na(),R=B3(t,n,a,x),{slideRegistry:X}=_3(T,g,ie,re,A,ue),J=V3(e,n,X,pe,me,Q,a,C),ke={ownerDocument:r,ownerWindow:s,eventHandler:a,containerRect:P,slideRects:D,animation:Ee,axis:$,dragHandler:N3($,e,r,s,he,C3($,s),se,Ee,pe,me,K,ve,a,U,m,p,v,Te,S),eventStore:Q,percentOfView:U,index:ve,indexPrevious:we,limit:fe,location:se,offsetLocation:oe,previousLocation:ne,options:o,resizeHandler:T3(t,a,s,n,$,y,j),scrollBody:me,scrollBounds:O3(fe,oe,he,me,U),scrollLooper:F3(Y,fe,oe,[se,oe,ne,he]),scrollProgress:qe,scrollSnapList:ie.map(qe.get),scrollSnaps:ie,scrollTarget:K,scrollTo:pe,slideLooper:z3($,_,Y,E,O,te,ie,oe,n),slideFocus:J,slidesHandler:U3(t,a,k),slidesInView:R,slideIndexes:ue,slideRegistry:X,slidesToScroll:A,target:he,translate:Mb($,t)};return ke}function q3(){let e={},t;function n(u){t=u}function r(u){return e[u]||[]}function s(u){return r(u).forEach(d=>d(t,u)),c}function o(u,d){return e[u]=r(u).concat([d]),c}function a(u,d){return e[u]=r(u).filter(f=>f!==d),c}function l(){e={}}const c={init:n,emit:s,off:a,on:o,clear:l};return c}const Q3={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function G3(e){function t(o,a){return Pb(o,a||{})}function n(o){const a=o.breakpoints||{},l=ja(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>t(c,u),{});return t(o,l)}function r(o){return o.map(a=>ja(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function X3(e){let t=[];function n(o,a){return t=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(o,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){t=t.filter(o=>o.destroy())}return{init:n,destroy:r}}function Al(e,t,n){const r=e.ownerDocument,s=r.defaultView,o=G3(s),a=X3(o),l=Na(),c=q3(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:m,emit:p}=c,x=$;let b=!1,v,g=u(Q3,Al.globalOptions),y=u(g),k=[],S,C,N;function j(){const{container:ue,slides:G}=y;C=(Xd(ue)?e.querySelector(ue):ue)||e.children[0];const Ee=Xd(G)?C.querySelectorAll(G):G;N=[].slice.call(Ee||C.children)}function P(ue){const G=K3(e,C,N,r,s,ue,c);if(ue.loop&&!G.slideLooper.canLoop()){const ae=Object.assign({},ue,{loop:!1});return P(ae)}return G}function D(ue,G){b||(g=u(g,ue),y=d(g),k=G||k,j(),v=P(y),f([g,...k.map(({options:ae})=>ae)]).forEach(ae=>l.add(ae,"change",$)),y.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(we),v.eventHandler.init(we),v.resizeHandler.init(we),v.slidesHandler.init(we),v.options.loop&&v.slideLooper.loop(),C.offsetParent&&N.length&&v.dragHandler.init(we),S=a.init(we,k)))}function $(ue,G){const ae=A();_(),D(u({startIndex:ae},ue),G),c.emit("reInit")}function _(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),a.destroy(),l.clear()}function U(){b||(b=!0,l.clear(),_(),c.emit("destroy"),c.clear())}function M(ue,G,ae){!y.active||b||(v.scrollBody.useBaseFriction().useDuration(G===!0?0:y.duration),v.scrollTo.index(ue,ae||0))}function T(ue){const G=v.index.add(1).get();M(G,ue,-1)}function z(ue){const G=v.index.add(-1).get();M(G,ue,1)}function E(){return v.index.add(1).get()!==A()}function O(){return v.index.add(-1).get()!==A()}function B(){return v.scrollSnapList}function F(){return v.scrollProgress.get(v.offsetLocation.get())}function A(){return v.index.get()}function te(){return v.indexPrevious.get()}function q(){return v.slidesInView.get()}function Y(){return v.slidesInView.get(!1)}function ge(){return S}function re(){return v}function ie(){return e}function fe(){return C}function ve(){return N}const we={canScrollNext:E,canScrollPrev:O,containerNode:fe,internalEngine:re,destroy:U,off:m,on:h,emit:p,plugins:ge,previousScrollSnap:te,reInit:x,rootNode:ie,scrollNext:T,scrollPrev:z,scrollProgress:F,scrollSnapList:B,scrollTo:M,selectedScrollSnap:A,slideNodes:ve,slidesInView:q,slidesNotInView:Y};return D(t,n),setTimeout(()=>c.emit("init"),0),we}Al.globalOptions=void 0;function Ka(e={},t=[]){const n=w.useRef(e),r=w.useRef(t),[s,o]=w.useState(),[a,l]=w.useState(),c=w.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return w.useEffect(()=>{Bh(n.current,e)||(n.current=e,c())},[e,c]),w.useEffect(()=>{x3(r.current,t)||(r.current=t,c())},[t,c]),w.useEffect(()=>{if(v3()&&a){Al.globalOptions=Ka.globalOptions;const u=Al(a,n.current,r.current);return o(u),()=>u.destroy()}else o(void 0)},[a,o]),[l,s]}Ka.globalOptions=void 0;const J3={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Y3(e,t){const n=e.scrollSnapList();return typeof t=="number"?n.map(()=>t):t(n,e)}function Z3(e,t){const n=e.rootNode();return t&&t(n)||n}function qa(e={}){let t,n,r,s,o=null,a=0,l=!1,c=!1,u=!1,d=!1;function f(M,T){n=M;const{mergeOptions:z,optionsAtMedia:E}=T,O=z(J3,qa.globalOptions),B=z(O,e);if(t=E(B),n.scrollSnapList().length<=1)return;d=t.jump,r=!1,s=Y3(n,t.delay);const{eventStore:F,ownerDocument:A}=n.internalEngine(),te=!!n.internalEngine().options.watchDrag,q=Z3(n,t.rootNode);F.add(A,"visibilitychange",v),te&&n.on("pointerDown",y),te&&!t.stopOnInteraction&&n.on("pointerUp",k),t.stopOnMouseEnter&&F.add(q,"mouseenter",S),t.stopOnMouseEnter&&!t.stopOnInteraction&&F.add(q,"mouseleave",C),t.stopOnFocusIn&&n.on("slideFocusStart",b),t.stopOnFocusIn&&!t.stopOnInteraction&&F.add(n.containerNode(),"focusout",x),t.playOnInit&&x()}function h(){n.off("pointerDown",y).off("pointerUp",k).off("slideFocusStart",b),b(),r=!0,l=!1}function m(){const{ownerWindow:M}=n.internalEngine();M.clearTimeout(a),a=M.setTimeout($,s[n.selectedScrollSnap()]),o=new Date().getTime(),n.emit("autoplay:timerset")}function p(){const{ownerWindow:M}=n.internalEngine();M.clearTimeout(a),a=0,o=null,n.emit("autoplay:timerstopped")}function x(){if(!r){if(g()){u=!0;return}l||n.emit("autoplay:play"),m(),l=!0}}function b(){r||(l&&n.emit("autoplay:stop"),p(),l=!1)}function v(){if(g())return u=l,b();u&&x()}function g(){const{ownerDocument:M}=n.internalEngine();return M.visibilityState==="hidden"}function y(){c||b()}function k(){c||x()}function S(){c=!0,b()}function C(){c=!1,x()}function N(M){typeof M<"u"&&(d=M),x()}function j(){l&&b()}function P(){l&&x()}function D(){return l}function $(){const{index:M}=n.internalEngine(),T=M.clone().add(1).get(),z=n.scrollSnapList().length-1,E=t.stopOnLastSnap&&T===z;if(n.canScrollNext()?n.scrollNext(d):n.scrollTo(0,d),n.emit("autoplay:select"),E)return b();x()}function _(){if(!o)return null;const M=s[n.selectedScrollSnap()],T=new Date().getTime()-o;return M-T}return{name:"autoplay",options:e,init:f,destroy:h,play:N,stop:j,reset:P,isPlaying:D,timeUntilNext:_}}qa.globalOptions=void 0;const qh=({item:e,type:t="manga",isFavorite:n=!1,showViews:r=!1,onToggleFavorite:s,variant:o="default",className:a=""})=>{const l=vt(),{sourceKey:c,rootFolder:u}=Le(),{addRecentItem:d}=kc(t),[f,h]=w.useState(!!n);w.useEffect(()=>{var C;const S=!!n;h(S),S!==f&&console.log("🔄 UniversalCard favorite updated:",{path:(C=e==null?void 0:e.path)==null?void 0:C.split("/").pop(),from:f,to:S})},[n,e==null?void 0:e.path]);const m=()=>{var C;const S=e.name||((C=e.path)==null?void 0:C.split("/").pop())||"Unknown";if(t==="manga")return{displayName:S==="__self__"?"Đọc ngay":S,isReadable:e.name==="__self__"||e.images&&e.images.length>0,isFolder:!e.images||e.images.length===0,thumbnail:p(),typeIcon:e.images?Kd:As,typeLabel:e.images?"Đọc truyện":"Thư mục"};if(t==="movie"){const N=e.type==="video"||e.type==="file";return{displayName:S,isReadable:N,isFolder:e.type==="folder",thumbnail:p(),typeIcon:N?Kd:As,typeLabel:N?"Video":"Thư mục"}}else if(t==="music"){const N=e.type==="audio"||e.type==="file",j=e.isPlaylist;return{displayName:S,isReadable:N||j,isFolder:e.type==="folder"&&!j,thumbnail:p(),typeIcon:N||j?wc:As,typeLabel:j?"Playlist":N?"Audio":"Thư mục"}}return{displayName:S,isReadable:!1,isFolder:!0,thumbnail:p(),typeIcon:As,typeLabel:"Unknown"}},p=()=>gb(e,t),x=async()=>{const S=encodeURIComponent(e.path);try{d(e),console.log("➕ Added to recent:",{type:t,name:e.name,path:e.path})}catch(C){console.warn("Failed to add to recent:",C)}if(t==="manga"&&(e.name==="__self__"||e.images&&e.images.length>0))try{await _e.system.increaseView({path:e.path,dbkey:c,rootKey:u}),console.log("📈 View count increased for manga:",e.path)}catch(C){console.warn("Failed to increase view count for manga:",C)}else if(t==="movie"&&(e.type==="video"||e.type==="file"))console.log("🎬 Movie click - view will be increased by MoviePlayer");else if(t==="music"&&(e.type==="audio"||e.type==="file"||e.isPlaylist))try{await fetch("/api/increase-view/music",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:c,path:e.path})}),console.log("📈 View count increased for music:",e.path)}catch(C){console.warn("Failed to increase view count for music:",C)}if(t==="manga")e.name==="__self__"||e.images&&e.images.length>0?l(`/manga/reader?path=${S}`):l(`/manga?path=${S}`);else if(t==="movie"){const C=e.type==="video"||e.type==="file";l(C?`/movie/player?file=${S}&key=${c}`:`/movie?path=${S}`)}else if(t==="music"){const C=e.type==="audio"||e.type==="file",N=e.isPlaylist;l(N?`/music/player?playlist=${S}&key=${c}`:C?`/music/player?file=${S}&key=${c}`:`/music?path=${S}`)}},b=async S=>{if(S.stopPropagation(),h(!f),s)try{await s(e),console.log("✅ Favorite toggle completed via parent callback")}catch(N){h(f),console.error("❌ Error in parent favorite toggle, reverting UI:",N)}},v=m(),g=v.typeIcon,y={default:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200",compact:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200",slider:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"},k=()=>t==="music"?"aspect-square":t==="movie"?"aspect-video":"aspect-[3/4]";return i.jsxs(Ve.div,{className:`
        relative cursor-pointer group overflow-hidden
        ${y[o]}
        ${a}
      `,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,children:[i.jsxs("div",{className:`relative ${k()} overflow-hidden`,children:[i.jsx("img",{src:v.thumbnail,alt:v.displayName,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",onError:S=>{if(t==="movie"){const C=e.type==="video"||e.type==="file";S.target.src=C?"/default/video-thumb.png":"/default/folder-thumb.png"}else if(t==="music"){const C=e.type==="audio"||e.type==="file";S.target.src=C?"/default/music-thumb.png":"/default/folder-thumb.png"}else S.target.src="/default/default-cover.jpg"}}),v.isReadable&&i.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:i.jsx(g,{className:"w-12 h-12 text-white drop-shadow-lg"})}),i.jsx(Ve.button,{className:`
            absolute top-2 right-2 p-2 rounded-full backdrop-blur-sm transition-colors duration-200
            ${f?"bg-red-500/80 text-white hover:bg-red-600/80":"bg-black/20 text-white hover:bg-black/40"}
          `,onClick:b,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Bs,{className:`w-4 h-4 ${f?"fill-current":""}`})}),i.jsx("div",{className:"absolute bottom-2 left-2",children:i.jsxs("div",{className:"flex items-center space-x-1 bg-black/60 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs",children:[i.jsx(g,{className:"w-3 h-3"}),i.jsx("span",{children:v.typeLabel})]})}),r&&(e.views||e.viewCount)&&i.jsx("div",{className:"absolute bottom-2 right-2",children:i.jsxs("div",{className:"flex items-center space-x-1 bg-black/60 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs",children:[i.jsx(bc,{className:"w-3 h-3"}),i.jsx("span",{children:e.views||e.viewCount})]})})]}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2 mb-1",children:v.displayName}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:v.typeLabel}),e.size&&i.jsx("span",{className:"text-xs",children:eL(e.size)}),e.duration&&i.jsx("span",{className:"text-xs",children:tL(e.duration)})]})]})]})},eL=e=>{if(!e)return"";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(1)} ${t[n]}`},tL=e=>{if(!e)return"";const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`},xi=43200,d0=1440,f0=Symbol.for("constructDateFrom");function Qh(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&f0 in e?e[f0](t):e instanceof Date?new e.constructor(t):new Date(t)}function Or(e,t){return Qh(t||e,e)}let nL={};function rL(){return nL}function h0(e){const t=Or(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Gh(e,...t){const n=Qh.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Ui(e,t){const n=+Or(e)-+Or(t);return n<0?-1:n>0?1:n}function sL(e){return Qh(e,Date.now())}function oL(e,t,n){const[r,s]=Gh(n==null?void 0:n.in,e,t),o=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return o*12+a}function aL(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function iL(e,t){return+Or(e)-+Or(t)}function lL(e,t){const n=Or(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function cL(e,t){const n=Or(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function uL(e,t){const n=Or(e,t==null?void 0:t.in);return+lL(n,t)==+cL(n,t)}function dL(e,t,n){const[r,s,o]=Gh(n==null?void 0:n.in,e,e,t),a=Ui(s,o),l=Math.abs(oL(s,o));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*l);let c=Ui(s,o)===-a;uL(r)&&l===1&&Ui(r,o)===1&&(c=!1);const u=a*(l-+c);return u===0?0:u}function fL(e,t,n){const r=iL(e,t)/1e3;return aL(n==null?void 0:n.roundingMethod)(r)}const hL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mL=(e,t,n)=>{let r;const s=hL[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hs(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const pL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vL={date:Hs({formats:pL,defaultWidth:"full"}),time:Hs({formats:gL,defaultWidth:"full"}),dateTime:Hs({formats:yL,defaultWidth:"full"})},xL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bL=(e,t,n,r)=>xL[e];function Tn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const wL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EL=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},PL={ordinalNumber:EL,era:Tn({values:wL,defaultWidth:"wide"}),quarter:Tn({values:kL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Tn({values:SL,defaultWidth:"wide"}),day:Tn({values:jL,defaultWidth:"wide"}),dayPeriod:Tn({values:NL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"})};function Mn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ML(l,f=>f.test(a)):TL(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function TL(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ML(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Ob(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const OL=/^(\d+)(th|st|nd|rd)?/i,RL=/\d+/i,LL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FL={any:[/^b/i,/^(a|c)/i]},AL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DL={any:[/1/i,/2/i,/3/i,/4/i]},_L={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$L={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BL={ordinalNumber:Ob({matchPattern:OL,parsePattern:RL,valueCallback:e=>parseInt(e,10)}),era:Mn({matchPatterns:LL,defaultMatchWidth:"wide",parsePatterns:FL,defaultParseWidth:"any"}),quarter:Mn({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mn({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any"}),day:Mn({matchPatterns:$L,defaultMatchWidth:"wide",parsePatterns:VL,defaultParseWidth:"any"}),dayPeriod:Mn({matchPatterns:zL,defaultMatchWidth:"any",parsePatterns:UL,defaultParseWidth:"any"})},HL={code:"en-US",formatDistance:mL,formatLong:vL,formatRelative:bL,localize:PL,match:BL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WL(e,t,n){const r=rL(),s=(n==null?void 0:n.locale)??r.locale??HL,o=2520,a=Ui(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[c,u]=Gh(n==null?void 0:n.in,...a>0?[t,e]:[e,t]),d=fL(u,c),f=(h0(u)-h0(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<d0){const p=Math.round(h/60);return s.formatDistance("aboutXHours",p,l)}else{if(h<o)return s.formatDistance("xDays",1,l);if(h<xi){const p=Math.round(h/d0);return s.formatDistance("xDays",p,l)}else if(h<xi*2)return m=Math.round(h/xi),s.formatDistance("aboutXMonths",m,l)}if(m=dL(u,c),m<12){const p=Math.round(h/xi);return s.formatDistance("xMonths",p,l)}else{const p=m%12,x=Math.trunc(m/12);return p<3?s.formatDistance("aboutXYears",x,l):p<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function Yd(e,t){return WL(e,sL(e),t)}const KL={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},qL=(e,t,n)=>{let r;const s=KL[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" nữa":r+" trước":r},QL={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},GL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},XL={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},JL={date:Hs({formats:QL,defaultWidth:"full"}),time:Hs({formats:GL,defaultWidth:"full"}),dateTime:Hs({formats:XL,defaultWidth:"full"})},YL={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},ZL=(e,t,n,r)=>YL[e],eF={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},tF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},nF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},rF={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},sF={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},oF={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},aF={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},iF={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},lF=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(r==="quarter")switch(n){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(r==="day")switch(n){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(r==="week")return n===1?"thứ nhất":"thứ "+n;if(r==="dayOfYear")return n===1?"đầu tiên":"thứ "+n}return String(n)},cF={ordinalNumber:lF,era:Tn({values:eF,defaultWidth:"wide"}),quarter:Tn({values:tF,defaultWidth:"wide",formattingValues:nF,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:Tn({values:rF,defaultWidth:"wide",formattingValues:sF,defaultFormattingWidth:"wide"}),day:Tn({values:oF,defaultWidth:"wide"}),dayPeriod:Tn({values:aF,defaultWidth:"wide",formattingValues:iF,defaultFormattingWidth:"wide"})},uF=/^(\d+)/i,dF=/\d+/i,fF={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},hF={any:[/^t/i,/^s/i]},mF={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},pF={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},gF={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},yF={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},vF={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},xF={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},bF={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},wF={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},kF={ordinalNumber:Ob({matchPattern:uF,parsePattern:dF,valueCallback:e=>parseInt(e,10)}),era:Mn({matchPatterns:fF,defaultMatchWidth:"wide",parsePatterns:hF,defaultParseWidth:"any"}),quarter:Mn({matchPatterns:mF,defaultMatchWidth:"wide",parsePatterns:pF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mn({matchPatterns:gF,defaultMatchWidth:"wide",parsePatterns:yF,defaultParseWidth:"wide"}),day:Mn({matchPatterns:vF,defaultMatchWidth:"wide",parsePatterns:xF,defaultParseWidth:"wide"}),dayPeriod:Mn({matchPatterns:bF,defaultMatchWidth:"wide",parsePatterns:wF,defaultParseWidth:"any"})},Zd={code:"vi",formatDistance:qL,formatLong:JL,formatRelative:ZL,localize:cF,match:kF,options:{weekStartsOn:1,firstWeekContainsDate:1}};const Xh=({type:e="manga",title:t="Ngẫu nhiên",showViews:n=!1,className:r="",autoplay:s=!0,autoplayDelay:o=3e3,showRefresh:a=!0,showTimestamp:l=!0,...c})=>{const[u,d]=w.useState(!1),[f,h]=w.useState(!1),m=w.useRef(null),p=s?[qa({delay:o,stopOnInteraction:!1})]:[],[x,b]=Ka({loop:!0,align:"start",skipSnaps:!1,dragFree:!0,containScroll:"trimSnaps"},p),[v,g]=w.useState(!1),[y,k]=w.useState(!1),[S,C]=w.useState(0),[N,j]=w.useState([]),P=Ct(),D=ln(),$=Fn(),{toggleFavorite:_,favoritesRefreshTrigger:U=0}=e==="movie"?D:e==="music"?$:P,{data:M,loading:T,error:z,refresh:E,lastUpdated:O}=_R(e,{enabled:u,count:30,staleTime:5*60*1e3});w.useEffect(()=>{if(U>0&&M&&M.length>0){console.log("🔄 RandomSlider: Favorites changed, updating display");const G=setTimeout(()=>{F(ae=>ae+1)},100);return()=>clearTimeout(G)}},[U]);const[B,F]=w.useState(0),A=w.useCallback(()=>{b&&b.scrollPrev()},[b]),te=w.useCallback(()=>{b&&b.scrollNext()},[b]),q=w.useCallback(G=>{b&&b.scrollTo(G)},[b]),Y=w.useCallback(()=>{b&&(g(b.canScrollPrev()),k(b.canScrollNext()),C(b.selectedScrollSnap()))},[b]),ge=w.useCallback(()=>{b&&j(b.scrollSnapList())},[b]),ie=(()=>{const G=N.length;if(G<=6)return N;const ae=Math.ceil(G/6);return N.filter((Ee,Te)=>Te%ae===0||Te===G-1)})();w.useEffect(()=>{if(b)return ge(),Y(),b.on("reInit",ge),b.on("reInit",Y),b.on("select",Y),()=>{b.off("reInit",ge),b.off("reInit",Y),b.off("select",Y)}},[b,ge,Y]),w.useEffect(()=>{const G=new IntersectionObserver(([ae])=>{var Ee,Te;d(ae.isIntersecting),b&&(ae.isIntersecting&&s&&!f?(Ee=b.plugins().autoplay)==null||Ee.play():(Te=b.plugins().autoplay)==null||Te.stop())},{threshold:.1});return m.current&&G.observe(m.current),()=>{m.current&&G.unobserve(m.current)}},[b,s,f]);const fe=()=>{var G;h(!0),b&&s&&((G=b.plugins().autoplay)==null||G.stop())},ve=()=>{var G;h(!1),b&&s&&u&&((G=b.plugins().autoplay)==null||G.play())},we=async G=>{try{console.log("❤️ RandomSlider toggleFavorite:",{path:G.path,currentFavorite:G.isFavorite}),await _(G),F(ae=>ae+1),console.log("✅ RandomSlider favorite toggle completed")}catch(ae){console.error("❌ Error toggling favorite in RandomSlider:",ae)}},ue=G=>{if(!G)return"";try{return Math.floor((new Date-G)/(1e3*60))<1?"vừa xong":Yd(G,{addSuffix:!0,locale:Zd})}catch{return""}};return z?i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-red-500 mb-4",children:["Lỗi tải dữ liệu: ",z.message]}),i.jsxs(H,{onClick:E,variant:"outline",children:[i.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Thử lại"]})]})}):i.jsxs("div",{ref:m,className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6 ${r}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),l&&O&&i.jsxs(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Wd,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:ue(O)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:A,disabled:!v||T,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Ah,{className:"w-5 h-5"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:te,disabled:!y||T,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Dh,{className:"w-5 h-5"})}),a&&i.jsx(H,{variant:"ghost",size:"sm",onClick:E,disabled:T,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Cr,{className:`w-4 h-4 ${T?"animate-spin":""}`})})]})]}),i.jsx("div",{className:"embla",onMouseEnter:fe,onMouseLeave:ve,children:i.jsx("div",{className:"embla__viewport",ref:x,children:i.jsx("div",{className:"embla__container",children:T?Array.from({length:6}).map((G,ae)=>i.jsx("div",{className:"embla__slide",children:i.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse w-48 h-64"})},ae)):M==null?void 0:M.map((G,ae)=>i.jsx("div",{className:"embla__slide",children:i.jsx(qh,{item:G,type:e,isFavorite:!!G.isFavorite,showViews:n,onToggleFavorite:async Ee=>{await we(Ee)},variant:"compact",className:"w-48"})},`${G.path||ae}-${B}`))})})}),ie.length>1&&i.jsx("div",{className:"embla__dots",children:ie.map((G,ae)=>{const Ee=N.length<=6?ae:ae*Math.ceil(N.length/6),Te=Math.abs(S-Ee)<Math.ceil(N.length/6);return i.jsx("button",{className:`embla__dot ${Te?"active":""} ${s&&Te&&u&&!f?"auto-playing":""}`,style:{"--autoplay-delay":`${o}ms`},onClick:()=>q(Ee),"aria-label":`Đi đến slide ${Ee+1}`},ae)})}),i.jsx("div",{className:"pb-2"})]})},SF=(e="manga",t={})=>{const{sourceKey:n,rootFolder:r}=Le(),{favoritesRefreshTrigger:s}=Ct(),o=Ct(),a=ln(),l=Fn(),c=La(),{enabled:u=!0,staleTime:d=10*60*1e3,...f}=t;return w.useEffect(()=>{const h=c.getQueryData(["prevTopViewSourceKey"]);h&&h!==n&&(console.log("🔄 TopView: SourceKey changed from",h,"to",n,"- Clearing cache"),c.removeQueries(["topViewItems"])),n&&c.setQueryData(["prevTopViewSourceKey"],n)},[n,c]),w.useEffect(()=>{const m={manga:s,movie:a.favoritesRefreshTrigger||0,music:l.favoritesRefreshTrigger||0}[e]||0;m>0&&(console.log(`🔄 TopViewItems: Favorites changed (trigger: ${m}), invalidating top ${e} cache`),c.invalidateQueries(["topViewItems",e,n,r]))},[s,a.favoritesRefreshTrigger,l.favoritesRefreshTrigger,e,c,n,r]),th({queryKey:["topViewItems",e,n,r],queryFn:async()=>{if(!n)throw new Error("No source key available");if(e==="manga"&&!r)throw new Error("No root folder available for manga");let h;switch(e){case"manga":{h=await _e.manga.getFolders({key:n,mode:"top",root:r});break}case"movie":{h=await _e.movie.getVideoCache({key:n,mode:"top"});break}case"music":{h=await _e.music.getAudioCache({key:n,mode:"top"});break}default:throw new Error(`Unsupported type: ${e}`)}let m=h.data,p=[];Array.isArray(m)?p=m:m&&Array.isArray(m.folders)?p=m.folders:m&&m.success&&Array.isArray(m.data)&&(p=m.data);const x=e==="manga"?o:e==="movie"?a:e==="music"?l:null;return x&&Array.isArray(p)&&(p=p.map(b=>{const v=x.favorites.some(g=>g.path===b.path);return{...b,isFavorite:v}}),console.log("🔄 TopViewItems: Merged favorite state from store")),p},enabled:u&&!!n&&(e==="manga"?!!r:!0),staleTime:d,refetchOnWindowFocus:!1,...f})},Rb=({type:e="manga",title:t="🔥 Xem nhiều nhất",className:n="",autoplay:r=!1,autoplayDelay:s=4e3,...o})=>{const[a,l]=w.useState(!1),[c,u]=w.useState(!1),d=w.useRef(null),f=r?[qa({delay:s,stopOnInteraction:!1})]:[],[h,m]=Ka({loop:!1,align:"start",skipSnaps:!1,dragFree:!0,containScroll:"trimSnaps"},f),[p,x]=w.useState(!1),[b,v]=w.useState(!1),[g,y]=w.useState(0),[k,S]=w.useState([]),C=Ct(),N=ln(),j=Fn(),{toggleFavorite:P,favoritesRefreshTrigger:D=0}=e==="movie"?N:e==="music"?j:C;Le();const[$,_]=w.useState(0),{data:U,isLoading:M,error:T}=SF(e,{enabled:a,staleTime:10*60*1e3});w.useEffect(()=>{D>0&&U&&U.length>0&&(console.log("🔄 TopViewSlider: Favorites changed, updating display"),_(re=>re+1))},[D,U]);const z=w.useCallback(()=>{m&&m.scrollPrev()},[m]),E=w.useCallback(()=>{m&&m.scrollNext()},[m]),O=w.useCallback(re=>{m&&m.scrollTo(re)},[m]),B=w.useCallback(()=>{m&&(x(m.canScrollPrev()),v(m.canScrollNext()),y(m.selectedScrollSnap()))},[m]),F=w.useCallback(()=>{m&&S(m.scrollSnapList())},[m]),te=(()=>{const re=k.length;if(re<=6)return k;const ie=Math.ceil(re/6);return k.filter((fe,ve)=>ve%ie===0||ve===re-1)})();w.useEffect(()=>{if(m)return F(),B(),m.on("reInit",F),m.on("reInit",B),m.on("select",B),()=>{m.off("reInit",F),m.off("reInit",B),m.off("select",B)}},[m,F,B]),w.useEffect(()=>{const re=new IntersectionObserver(([ie])=>{l(ie.isIntersecting)},{threshold:.1});return d.current&&re.observe(d.current),()=>{d.current&&re.unobserve(d.current)}},[]);const q=()=>{var re;u(!0),m&&r&&((re=m.plugins().autoplay)==null||re.stop())},Y=()=>{var re;u(!1),m&&r&&a&&((re=m.plugins().autoplay)==null||re.play())},ge=async re=>{try{console.log("❤️ TopViewSlider toggleFavorite:",{path:re.path,currentFavorite:re.isFavorite}),await P(re),_(ie=>ie+1),console.log("✅ TopViewSlider favorite toggle completed")}catch(ie){console.error("❌ Error toggling favorite in TopViewSlider:",ie)}};return T?i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-red-500 mb-4",children:["Lỗi tải dữ liệu: ",T.message]})})}):!M&&(!U||U.length===0)?null:i.jsxs("div",{ref:d,className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6 ${n}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),U&&U.length>0&&i.jsxs(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:[i.jsx(bc,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:U.length})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:z,disabled:!p||M,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Ah,{className:"w-5 h-5"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:E,disabled:!b||M,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Dh,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"embla",onMouseEnter:q,onMouseLeave:Y,children:i.jsx("div",{className:"embla__viewport",ref:h,children:i.jsx("div",{className:"embla__container",children:M?Array.from({length:6}).map((re,ie)=>i.jsx("div",{className:"embla__slide",children:i.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse w-48 h-64"})},ie)):U==null?void 0:U.map((re,ie)=>i.jsx("div",{className:"embla__slide",children:i.jsxs("div",{className:"relative",children:[ie<3&&i.jsx("div",{className:"absolute top-2 left-2 z-10",children:i.jsx("div",{className:`
                          w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white
                          ${ie===0?"bg-yellow-500":""}
                          ${ie===1?"bg-gray-400":""}
                          ${ie===2?"bg-amber-600":""}
                        `,children:ie+1})}),i.jsx(qh,{item:re,type:e,isFavorite:!!re.isFavorite,showViews:!0,onToggleFavorite:()=>ge(re),variant:"compact",className:"w-48"})]})},`${re.path||ie}-${$}`))})})}),te.length>1&&i.jsx("div",{className:"embla__dots",children:te.map((re,ie)=>{const fe=k.length<=6?ie:ie*Math.ceil(k.length/6),ve=Math.abs(g-fe)<Math.ceil(k.length/6);return i.jsx("button",{className:`embla__dot ${ve?"active":""} ${r&&ve&&a&&!c?"auto-playing":""}`,style:{"--autoplay-delay":`${s}ms`},onClick:()=>O(fe),"aria-label":`Đi đến slide ${fe+1}`},ie)})}),i.jsx("div",{className:"pb-2"})]})},jF=({isOpen:e=!1,onClose:t,onConfirm:n,title:r="",message:s="",type:o="default",confirmText:a="Xác nhận",cancelText:l="Hủy",children:c,className:u="",showCloseButton:d=!0,closeOnBackdrop:f=!0,size:h="md"})=>{w.useEffect(()=>{const v=g=>{g.key==="Escape"&&e&&(t==null||t())};return e&&(document.addEventListener("keydown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",v),document.body.style.overflow="unset"}},[e,t]);const m=v=>{v.target===v.currentTarget&&f&&(t==null||t())},p=()=>{n==null||n(),t==null||t()},x=()=>{switch(o){case"success":return i.jsx(r4,{className:"w-6 h-6 text-green-500"});case"warning":return i.jsx(a0,{className:"w-6 h-6 text-yellow-500"});case"error":return i.jsx(o4,{className:"w-6 h-6 text-red-500"});case"confirm":return i.jsx(a0,{className:"w-6 h-6 text-orange-500"});default:return i.jsx(x4,{className:"w-6 h-6 text-blue-500"})}},b=()=>{switch(h){case"sm":return"max-w-sm";case"lg":return"max-w-2xl";case"xl":return"max-w-4xl";default:return"max-w-md"}};return i.jsx(hr,{children:e&&i.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[i.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:m}),i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsxs(Ve.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:`relative w-full ${b()} bg-white dark:bg-gray-800 rounded-lg shadow-xl ${u}`,children:[(r||d)&&i.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[i.jsxs("div",{className:"flex items-center",children:[(o!=="default"||s)&&i.jsx("div",{className:"mr-3",children:x()}),r&&i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r})]}),d&&i.jsx(H,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Nb,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 pb-6",children:[s&&i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:s}),c]}),(o==="confirm"||n)&&i.jsxs("div",{className:"flex justify-end space-x-3 px-6 py-4 bg-gray-50 dark:bg-gray-700 rounded-b-lg",children:[i.jsx(H,{variant:"outline",onClick:t,children:l}),i.jsx(H,{variant:o==="error"||o==="warning"?"danger":"primary",onClick:p,children:a})]})]})})]})})},Lb=()=>{const[e,t]=Bt.useState({isOpen:!1,type:"default",title:"",message:"",onConfirm:null}),n=c=>{t({isOpen:!0,...c})},r=()=>{t(c=>({...c,isOpen:!1}))};return{modalState:e,openModal:n,closeModal:r,confirmModal:c=>{n({type:"confirm",...c})},alertModal:c=>{n({type:"info",...c})},errorModal:c=>{n({type:"error",...c})},successModal:c=>{n({type:"success",...c})},Modal:c=>i.jsx(jF,{...e,...c,isOpen:e.isOpen,onClose:r,onConfirm:e.onConfirm})}},Fb=({type:e="manga",title:t="🕒 Vừa xem",className:n="",autoplay:r=!1,autoplayDelay:s=4e3,showRefresh:o=!0,showClearHistory:a=!0,showTimestamp:l=!0,maxItems:c=20,...u})=>{const[d,f]=w.useState(!1),[h,m]=w.useState(!1),p=w.useRef(null),x=r?[qa({delay:s,stopOnInteraction:!1})]:[],[b,v]=Ka({loop:!1,align:"start",skipSnaps:!1,dragFree:!0,containScroll:"trimSnaps"},x),[g,y]=w.useState(!1),[k,S]=w.useState(!1),[C,N]=w.useState(0),[j,P]=w.useState([]),D=Ct(),$=ln(),{toggleFavorite:_,clearRecentHistory:U,favoritesRefreshTrigger:M=0}=e==="movie"?$:D,{mangaSettings:T}=e==="movie"?{}:D,{confirmModal:z,Modal:E}=Lb(),[O,B]=w.useState(0);if(e==="manga"&&(!T||!T.enableRecentTracking))return null;const{data:F,loading:A,error:te,refresh:q,lastUpdated:Y}=VR(e,{enabled:d,maxItems:c});w.useEffect(()=>{if(M>0&&F&&F.length>0){console.log("🔄 RecentSlider: Favorites changed, refreshing");const ne=setTimeout(()=>{q(),B(oe=>oe+1)},100);return()=>clearTimeout(ne)}},[M]);const ge=w.useCallback(()=>{z({title:"🗑️ Xóa lịch sử xem",message:"Bạn có chắc chắn muốn xóa toàn bộ lịch sử xem? Hành động này không thể hoàn tác.",confirmText:"Xóa lịch sử",cancelText:"Hủy",onConfirm:()=>{U(e),q()}})},[z,U,e,q]),re=w.useCallback(()=>{v&&v.scrollPrev()},[v]),ie=w.useCallback(()=>{v&&v.scrollNext()},[v]),fe=w.useCallback(ne=>{v&&v.scrollTo(ne)},[v]),ve=w.useCallback(()=>{v&&(y(v.canScrollPrev()),S(v.canScrollNext()),N(v.selectedScrollSnap()))},[v]),we=w.useCallback(()=>{v&&P(v.scrollSnapList())},[v]),G=(()=>{const ne=j.length;if(ne<=6)return j;const oe=Math.ceil(ne/6);return j.filter((he,me)=>me%oe===0||me===ne-1)})();w.useEffect(()=>{if(v)return we(),ve(),v.on("reInit",we),v.on("reInit",ve),v.on("select",ve),()=>{v.off("reInit",we),v.off("reInit",ve),v.off("select",ve)}},[v,we,ve]),w.useEffect(()=>{const ne=new IntersectionObserver(([oe])=>{f(oe.isIntersecting)},{threshold:.1});return p.current&&ne.observe(p.current),()=>{p.current&&ne.unobserve(p.current)}},[]);const ae=()=>{var ne;m(!0),v&&r&&((ne=v.plugins().autoplay)==null||ne.stop())},Ee=()=>{var ne;m(!1),v&&r&&d&&((ne=v.plugins().autoplay)==null||ne.play())},Te=async ne=>{try{console.log("❤️ RecentSlider toggleFavorite:",{path:ne.path,currentFavorite:ne.isFavorite}),console.log("🔍 Before toggle - Cache state:"),await _(ne),await q(),B(oe=>oe+1),console.log("✅ RecentSlider favorite toggle completed")}catch(oe){console.error("❌ Error toggling favorite in RecentSlider:",oe)}},et=ne=>{if(!ne)return"";try{return Yd(ne,{addSuffix:!0,locale:Zd})}catch{return""}},se=ne=>{if(!ne)return"";try{const oe=new Date,he=new Date(ne),me=Math.floor((oe-he)/(1e3*60));return me<1?"vừa xong":me<60?`${me} phút trước`:me<1440?`${Math.floor(me/60)} giờ trước`:Yd(he,{addSuffix:!0,locale:Zd})}catch{return""}};return te?i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-red-500 mb-4",children:["Lỗi tải dữ liệu: ",te.message]}),i.jsxs(H,{onClick:q,variant:"outline",children:[i.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Thử lại"]})]})}):!A&&(!F||F.length===0)?null:i.jsxs("div",{ref:p,className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6 ${n}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),F&&F.length>0&&i.jsxs(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full text-xs font-medium",children:[i.jsx(Wd,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:F.length})]}),l&&Y&&i.jsxs(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Wd,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:et(Y)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:re,disabled:!g||A,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Ah,{className:"w-5 h-5"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:ie,disabled:!k||A,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Dh,{className:"w-5 h-5"})}),o&&i.jsx(H,{variant:"ghost",size:"sm",onClick:q,disabled:A,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:i.jsx(Cr,{className:`w-4 h-4 ${A?"animate-spin":""}`})}),a&&F.length>0&&i.jsx(H,{variant:"ghost",size:"sm",onClick:ge,disabled:A,className:"text-red-400 hover:text-red-600 dark:text-red-500 dark:hover:text-red-300",title:"Xóa lịch sử xem",children:i.jsx(Vi,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"embla",onMouseEnter:ae,onMouseLeave:Ee,children:i.jsx("div",{className:"embla__viewport",ref:b,children:i.jsx("div",{className:"embla__container",children:A?Array.from({length:6}).map((ne,oe)=>i.jsx("div",{className:"embla__slide",children:i.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse w-48 h-64"})},oe)):F==null?void 0:F.map((ne,oe)=>i.jsx("div",{className:"embla__slide",children:i.jsxs("div",{className:"relative",children:[ne.lastViewed&&i.jsx("div",{className:"absolute top-2 left-2 z-10",children:i.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:se(ne.lastViewed)})}),i.jsx(qh,{item:ne,type:e,isFavorite:!!ne.isFavorite,variant:"slider",showViews:!1,onToggleFavorite:async he=>{await Te(he)},className:"w-48"})]})},`${ne.path||oe}-${O}`))})})}),G.length>1&&i.jsx("div",{className:"embla__dots",children:G.map((ne,oe)=>{const he=j.length<=6?oe:oe*Math.ceil(j.length/6),me=Math.abs(C-he)<Math.ceil(j.length/6);return i.jsx("button",{className:`embla__dot ${me?"active":""} ${r&&me&&d&&!h?"auto-playing":""}`,style:{"--autoplay-delay":`${s}ms`},onClick:()=>fe(he),"aria-label":`Đi đến slide ${he+1}`},oe)})}),i.jsx("div",{className:"pb-2"}),i.jsx(E,{})]})},NF=()=>{const{sourceKey:e}=Le();return!e||!e.startsWith("ROOT_")?null:i.jsxs("div",{className:"manga-random-sections space-y-6",children:[i.jsx(Xh,{type:"manga",title:"📚 Manga ngẫu nhiên",showViews:!0,autoplay:!0,showRefresh:!0,showTimestamp:!0,className:"manga-random-banner"}),i.jsx(Rb,{type:"manga",title:"🔥 Manga xem nhiều",autoplay:!1,className:"manga-top-view"}),i.jsx(Fb,{type:"manga",title:"🕒 Vừa đọc",autoplay:!1,showRefresh:!1,showTimestamp:!0,maxItems:15,className:"manga-recent-view"})]})},CF=()=>{const e=vt(),[t]=ao(),{mangaList:n,currentPath:r,loading:s,error:o,favorites:a,searchTerm:l,shouldNavigateToReader:c,favoritesRefreshTrigger:u,setSearchTerm:d,fetchMangaFolders:f,fetchFavorites:h,toggleFavorite:m,clearNavigationFlag:p,clearMangaCache:x}=Ct(),{sourceKey:b,rootFolder:v}=Le(),[g,y]=w.useState("grid"),[k,S]=w.useState("name"),[C,N]=w.useState(!1),[j,P]=w.useState(0);w.useEffect(()=>{if(b&&b.startsWith("ROOT_")){console.log("🏠 MangaHome: SourceKey changed to:",b,"- Clearing cache and refetching"),x();const T=t.get("path");T?f(T):f(),h()}},[b,x,f,h,t]),w.useEffect(()=>{const T=t.get("path");console.log("🔍 DEBUG MangaHome URL path param:",T),b&&b.startsWith("ROOT_")&&n.length===0&&(T?f(T):f(),h())},[t,f,h,b,n.length]),w.useEffect(()=>{console.log("Manga list updated:",n)},[n]),w.useEffect(()=>{c&&(e(`/manga/reader?path=${encodeURIComponent(c)}`,{replace:!0}),p())},[c,e,p]),w.useEffect(()=>{u>0&&n&&n.length>0&&(console.log("🔄 MangaHome GridView: Favorites changed, updating display"),P(T=>T+1))},[u,n]);const D=T=>{if(console.log("🔍 Clicked folder:",T),T.isSelfReader&&T.images){console.log("📖 Opening reader for selfReader with images:",T.path),e(`/manga/reader?path=${encodeURIComponent(T.path)}`);return}console.log("📁 Loading subfolder:",T.path),f(T.path)},$=()=>{const T=r.split("/");T.pop();const z=T.join("/");f(z)},_=async T=>{try{console.log("❤️ MangaHome GridView toggleFavorite:",{path:T.path,currentFavorite:T.isFavorite}),await m(T),P(z=>z+1),h(),console.log("✅ MangaHome GridView favorite toggle completed")}catch(z){console.error("❌ Error toggling favorite in MangaHome GridView:",z)}},U=(n==null?void 0:n.filter(T=>{var z;return(z=T.name)==null?void 0:z.toLowerCase().includes(l.toLowerCase())}))||[],M=[...U].sort((T,z)=>{var E;switch(k){case"name":return((E=T.name)==null?void 0:E.localeCompare(z.name))||0;case"date":return new Date(z.lastModified||0)-new Date(T.lastModified||0);case"size":return(z.size||0)-(T.size||0);default:return 0}});return s?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xb,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Đang tải danh sách manga..."})]})}):o?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-red-500 mb-4",children:["Lỗi: ",o]}),i.jsx(H,{onClick:()=>f(r),children:"Thử lại"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsx(NF,{}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"📚 Manga Library"}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r&&i.jsx(H,{variant:"outline",size:"sm",onClick:$,icon:Vh,children:"Back"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Path: /",r||"Root"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>N(!C),icon:Uh,children:"Filters"}),i.jsx(H,{variant:g==="grid"?"primary":"outline",size:"sm",onClick:()=>y("grid"),icon:fo}),i.jsx(H,{variant:g==="list"?"primary":"outline",size:"sm",onClick:()=>y("list"),icon:gs})]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm manga...",value:l,onChange:T=>d(T.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg\r
                     bg-white dark:bg-gray-800 text-gray-900 dark:text-white\r
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),C&&i.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"flex flex-wrap gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort by:"}),i.jsxs("select",{value:k,onChange:T=>S(T.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                           bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"name",children:"Name"}),i.jsx("option",{value:"date",children:"Last Updated"}),i.jsx("option",{value:"views",children:"Most Viewed"})]})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ka,{className:"w-8 h-8 text-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.length}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Items"})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx($t,{className:"w-8 h-8 text-red-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.length}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Favorites"})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(bn,{className:"w-8 h-8 text-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:U.length}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Search Results"})]})]})})]}),M.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ka,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or check the folder path"})]}):g==="grid"?i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:M.map((T,z)=>i.jsx(g3,{manga:T,isFavorite:!!T.isFavorite||a.some(E=>E.path===T.path),onToggleFavorite:()=>_(T),onClick:D,showViews:!1,variant:"grid",className:"w-full"},`${T.path||T.name||z}-${j}`))}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:M.map((T,z)=>i.jsx("div",{onClick:()=>D(T),className:`bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg \r
                        transition-all duration-200 cursor-pointer group flex items-center p-4`,children:i.jsxs("div",{className:"flex items-center gap-4 w-full",children:[i.jsxs("div",{className:`w-16 h-20 bg-gray-200 dark:bg-gray-700 rounded-md \r
                              flex-shrink-0 overflow-hidden flex items-center justify-center`,children:[T.isDirectory?i.jsx("div",{className:"text-4xl",children:"📁"}):i.jsx("img",{src:T.thumbnail||"/default/default-cover.jpg",alt:T.name,className:"w-full h-full object-cover",onError:E=>{console.error("List thumbnail failed to load:",E.target.src),E.target.style.display="none",E.target.nextSibling.style.display="block"}}),i.jsx("div",{className:"text-4xl hidden",children:"📖"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",title:T.name||T.path||"Unknown",children:T.name&&T.name!=="()"?T.name:T.path||"Unknown Item"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[T.isDirectory?"Folder":"File",T.size&&` • ${(T.size/1024/1024).toFixed(1)} MB`]}),T.lastModified&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Modified: ",new Date(T.lastModified).toLocaleDateString()]})]})]})},`${T.path||T.name||z}`))})]})},EF=({currentPath:e="",onToggleFavorite:t,isFavorite:n=!1,onSetThumbnail:r,className:s=""})=>{const o=vt();Yn(),ao();const[a,l]=w.useState(!1),[c,u]=w.useState(!1),{sourceKey:d,rootFolder:f}=Le(),{toggleSidebar:h}=Gt();Ct();const m=()=>{if(!e)return"Manga Reader";const k=e.replace(/\/__self__$/,"").split("/").filter(Boolean);return k[k.length-1]||"Manga Reader"},p=()=>{o("/manga")},x=()=>{if(!e){o("/manga");return}console.log("🔍 DEBUG ReaderHeader currentPath:",e);const y=e.split("/").filter(Boolean);console.log("🔍 DEBUG parts before pop:",y),y.pop(),console.log("🔍 DEBUG parts after pop:",y);const k=y.join("/");console.log("🔍 DEBUG parentPath:",k),k?(console.log("🔍 DEBUG navigating to /manga with path:",k),o(`/manga?path=${k}`)):(console.log("🔍 DEBUG navigating to /manga (no parent path)"),o("/manga"))},b=async()=>{t&&await t()},v=async()=>{r&&await r()},g=m();return i.jsxs(i.Fragment,{children:[i.jsx("header",{className:`reader-header ${s}`,children:i.jsxs("div",{className:"reader-header-content",children:[i.jsxs("div",{className:"reader-header-left",children:[i.jsx("button",{className:"reader-header-btn menu-btn",onClick:h,title:"Menu",children:i.jsx(S4,{size:20})}),i.jsx("button",{className:"reader-header-btn home-btn",onClick:p,title:`Về trang ${f||"manga"}`,children:"📚"})]}),i.jsx("div",{className:"reader-header-center",children:i.jsx("button",{className:"folder-name-btn",onClick:x,title:`Về thư mục cha: ${g}`,children:i.jsx("span",{className:"folder-name-text",children:g})})}),i.jsxs("div",{className:"reader-header-right",children:[i.jsx("button",{className:"reader-header-btn thumbnail-btn",onClick:v,title:"Đặt làm thumbnail",children:i.jsx(y4,{size:18})}),i.jsx("button",{className:`reader-header-btn favorite-btn ${n?"active":""}`,onClick:b,title:n?"Bỏ yêu thích":"Thêm yêu thích",children:i.jsx($t,{size:18,fill:n?"currentColor":"none"})}),i.jsx("button",{className:"reader-header-btn search-btn",onClick:()=>l(!0),title:"Tìm kiếm",children:i.jsx(bn,{size:18})}),i.jsx("button",{className:"reader-header-btn settings-btn",onClick:()=>u(!0),title:"Cài đặt",children:i.jsx(Fl,{size:18})})]})]})}),i.jsx($h,{isOpen:a,onClose:()=>l(!1)}),i.jsx(Cb,{isOpen:c,onClose:()=>u(!1)})]})};const m0=()=>{const{folderId:e}=VS(),t=vt(),[n]=ao(),{readerSettings:r,updateReaderSettings:s,mangaSettings:o}=Ct(),{sourceKey:a,rootFolder:l}=Le(),{addRecentItem:c}=kc("manga"),[u,d]=w.useState([]),[f,h]=w.useState(0),[m,p]=w.useState(!0),[x,b]=w.useState(!0),[v,g]=w.useState(null),[y,k]=w.useState(null),[S,C]=w.useState(null),[N,j]=w.useState(new Set),[P,D]=w.useState(new Map),[$,_]=w.useState(!1),[U,M]=w.useState(""),T=w.useRef(null),z=w.useRef(new Set),E=w.useRef(new Set),O=w.useRef(new Set),B=50,F=w.useMemo(()=>n.get("path")||e,[n,e]),A=w.useMemo(()=>({sourceKey:a,rootFolder:l}),[a,l]),te=w.useCallback(async(se,ne,oe)=>{const he=se.replace(/\/__self__$/,""),me=`${ne}::${oe}::${he}`;if(z.current.has(me)||E.current.has(me)){console.log("🔄 View count already processed/processing for:",he);return}console.log("🎯 Processing view count for:",{sourceKey:ne,rootFolder:oe,cleanPath:he}),E.current.add(me);try{await _e.system.increaseView({path:he,dbkey:ne,rootKey:oe}),E.current.delete(me),z.current.add(me),console.log("📈 View count increased successfully for:",he)}catch(K){console.warn("❌ Failed to increase view count:",K),E.current.delete(me)}},[]),q=w.useCallback(async se=>{if(!A.sourceKey||!A.rootFolder)return;const ne=`${A.sourceKey}::${A.rootFolder}::favorite-check`;if(O.current.has(ne)){console.log("🔄 Favorite state already checked");return}O.current.add(ne);try{const oe=await _e.manga.getFavorites({key:A.sourceKey,root:A.rootFolder});if(oe.data&&Array.isArray(oe.data)){const he=se.replace(/\/__self__$/,""),me=oe.data.some(K=>K.path===he);_(me)}}catch(oe){console.warn("❌ Failed to check favorite:",oe),O.current.delete(ne)}},[A.sourceKey,A.rootFolder]),Y=w.useCallback(se=>new Promise((ne,oe)=>{if(N.has(se)){ne(se);return}console.log(`📥 Preloading: ${se.substring(se.lastIndexOf("/")+1)}`),fetch(se).then(he=>he.blob()).then(he=>{const me=new Image,K=URL.createObjectURL(he);me.onload=()=>{j(pe=>{const qe=new Set(pe);return qe.add(se),qe}),D(pe=>{const qe=new Map(pe);return qe.set(se,K),qe}),console.log(`✅ Cached: ${se.substring(se.lastIndexOf("/")+1)}`),ne(se)},me.onerror=oe,me.src=K}).catch(he=>{console.error(`❌ Failed to preload: ${se}`,he),oe(he)})}),[N]),ge=w.useCallback(async se=>{const ne=`${A.sourceKey}::${A.rootFolder}::${se}`;if(O.current.has(ne)){console.log("🔄 Folder data already loaded for:",se);return}console.log("🎯 Loading folder data for:",{path:se,sourceKey:A.sourceKey,rootFolder:A.rootFolder}),O.current.add(ne);try{if(p(!0),g(null),!A.sourceKey||!A.rootFolder){g("Missing authentication data"),O.current.delete(ne);return}M(se);const oe=await _e.manga.getFolders({mode:"path",path:se,key:A.sourceKey,root:A.rootFolder,useDb:o.useDb?"1":"0"});if(console.log("🎯 API Response:",oe.data),oe.data&&oe.data.type==="reader"&&Array.isArray(oe.data.images)){d(oe.data.images),console.log("✅ Loaded images:",oe.data.images.length);try{const he=se.split("/"),me=he[he.length-1]==="__self__"?he[he.length-2]||"Xem ảnh":he[he.length-1]||"Xem ảnh";c({name:me,path:se,thumbnail:oe.data.images[0]||null,isFavorite:!1})}catch(he){console.warn("Error adding to recent:",he)}oe.data.images.length>0&&Y(oe.data.images[0]),await q(se)}else g("No images found in this folder"),O.current.delete(ne)}catch(oe){console.error("Error loading folder:",oe),g("Failed to load manga images"),O.current.delete(ne)}finally{p(!1)}},[A.sourceKey,A.rootFolder,o.useDb]);w.useEffect(()=>(F&&A.sourceKey&&A.rootFolder&&(console.log("🔍 Loading folder data for path:",F),ge(F)),()=>{const se=`${A.sourceKey}::${A.rootFolder}::favorite-check`;O.current.delete(se)}),[F,A.sourceKey,A.rootFolder]),w.useEffect(()=>{if(F&&A.sourceKey&&A.rootFolder){const se=setTimeout(()=>{te(F,A.sourceKey,A.rootFolder)},100);return()=>clearTimeout(se)}},[F,A.sourceKey,A.rootFolder]),w.useEffect(()=>{console.log("🔧 Reader settings updated:",r)},[r]),w.useEffect(()=>()=>{P.forEach(se=>URL.revokeObjectURL(se))},[]),w.useEffect(()=>()=>{E.current.clear(),O.current.clear(),z.current.clear(),console.log("🧹 Cleaned up all tracking sets on unmount")},[]);const re=w.useCallback(async()=>{if(!u.length)return;const{preloadCount:se}=r,ne=Math.max(0,f-Math.floor(se/2)),oe=Math.min(u.length-1,f+Math.ceil(se/2)),he=[];for(let me=ne;me<=oe;me++)u[me]&&!N.has(u[me])&&he.push(u[me]);if(he.length!==0){console.log(`🖼️ Preloading ${he.length} images around page ${f} (range: ${ne}-${oe})`);try{await Promise.allSettled(he.map(me=>Y(me))),console.log(`✅ Preload complete. Total cached: ${N.size}/${u.length}`)}catch(me){console.error("❌ Error preloading images:",me)}}},[u,f,r.preloadCount,N]);w.useEffect(()=>{if(u.length>0){const se=setTimeout(()=>{re()},100);return()=>clearTimeout(se)}},[u.length,f,r.preloadCount]);const ie=()=>{b(!x)},fe=()=>{f>0&&h(f-1)},ve=()=>{f<u.length-1&&h(f+1)},we=()=>{ie()},ue=()=>{s({...r,readingMode:r.readingMode==="vertical"?"horizontal":"vertical"})},G=se=>{C(null),k(se.targetTouches[0].clientX)},ae=se=>C(se.targetTouches[0].clientX),Ee=()=>{if(!y||!S)return;const se=y-S,ne=se>B,oe=se<-B;ne&&ve(),oe&&fe()},Te=async()=>{if(!a||!U)return;const se=!$;_(se);try{await _e.manga.toggleFavorite(a,U.replace(/\/__self__$/,""),se),Ae.success(se?"✅ Đã thêm vào yêu thích":"✅ Đã bỏ khỏi yêu thích")}catch(ne){console.error("❌ Error toggling favorite:",ne),_(!se),Ae.error("❌ Lỗi khi toggle yêu thích")}},et=async()=>{if(!(!u[f]||!a||!l))try{const ne=u[f].replace(`/manga/${encodeURIComponent(l)}/`,"");await _e.manga.setRootThumbnail({key:a,root:l,thumbnail:ne}),Ae.success("✅ Đã đặt làm thumbnail")}catch(se){console.error("❌ Error setting thumbnail:",se),Ae.error("❌ Lỗi khi đặt thumbnail")}};return m?i.jsx("div",{className:"manga-reader",children:i.jsx("div",{className:"reader",children:i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white",fontSize:"18px"},children:"Đang tải..."})})}):v?i.jsx("div",{className:"manga-reader",children:i.jsx("div",{className:"reader",children:i.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",color:"white",fontSize:"18px",textAlign:"center",padding:"20px"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"⚠️"}),i.jsx("div",{style:{marginBottom:"10px"},children:"Lỗi tải manga"}),i.jsx("div",{style:{fontSize:"14px",opacity:.7,marginBottom:"20px"},children:v}),i.jsx("button",{onClick:()=>t(-1),style:{background:"#333",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer"},children:"← Quay lại"})]})})}):u.length?i.jsxs("div",{className:`manga-reader ${r.readingMode==="vertical"?"scroll-mode-active":""}`,children:[x&&i.jsx(EF,{currentPath:U,isFavorite:$,onToggleFavorite:Te,onSetThumbnail:et}),i.jsx("div",{ref:T,className:`reader ${r.readingMode==="vertical"?"scroll-mode":""}`,children:r.readingMode==="vertical"?i.jsx("div",{className:"scroll-container",children:i.jsx("div",{className:"zoom-wrapper",children:u.map((se,ne)=>i.jsx("img",{src:se,alt:`Page ${ne+1}`,className:"scroll-img",onClick:we,onLoad:oe=>oe.target.classList.remove("loading"),onError:oe=>{oe.target.style.background="#333",oe.target.alt="Lỗi tải ảnh"}},ne))})}):i.jsxs("div",{className:"horizontal-reader-container",onTouchStart:G,onTouchMove:ae,onTouchEnd:Ee,children:[i.jsx("div",{className:"nav-zone left",onClick:fe}),i.jsx("div",{className:"image-container",children:i.jsx("div",{className:"zoom-wrapper",children:i.jsx("img",{src:P.get(u[f])||u[f],alt:`Page ${f+1}`,className:"reader-image-fullsize",onClick:we,onLoad:se=>{se.target.classList.remove("loading");const ne=N.has(u[f]),oe=P.has(u[f]),he=se.target.src.startsWith("blob:")?"BLOB_CACHE":"DIRECT_LOAD";console.log(`🖼️ Page ${f+1}: ${ne?"✅ Preloaded":"❌ Not preloaded"} | ${oe?"🗄️ Using cache":"🌐 Direct load"} | Source: ${he}`)},onError:se=>{se.target.style.background="#333",se.target.alt="Lỗi tải ảnh"}})})}),i.jsx("div",{className:"nav-zone right",onClick:ve})]})}),x&&i.jsx("div",{className:"reading-mode-toggle",children:i.jsx("button",{onClick:ue,className:"mode-toggle-btn",children:r.readingMode==="vertical"?i.jsx(M4,{size:20}):i.jsx(ka,{size:20})})}),x&&i.jsxs("div",{className:"simple-footer",children:[i.jsx("button",{onClick:fe,disabled:f===0,className:"nav-btn",children:"← Prev"}),i.jsxs("div",{className:"page-counter",children:["Trang ",f+1," / ",u.length]}),i.jsx("button",{onClick:ve,disabled:f===u.length-1,className:"nav-btn",children:"Next →"})]})]}):i.jsx("div",{className:"manga-reader",children:i.jsx("div",{className:"reader",children:i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white",fontSize:"18px"},children:"Không có ảnh nào được tìm thấy"})})})},PF=()=>{const{favorites:e,removeFavorite:t,fetchFavorites:n,toggleFavorite:r,loading:s}=Ct(),[o,a]=w.useState("grid"),[l,c]=w.useState("dateAdded"),[u,d]=w.useState(""),[f,h]=w.useState(!1),[m,p]=w.useState("");w.useEffect(()=>{(async()=>{h(!0),p("");try{await n()}catch(k){p("Failed to load favorite manga. Please try again."),console.error("Error loading manga favorites:",k)}finally{h(!1)}})()},[n]);const b=[...e.filter(y=>{var k,S;return((k=y.title)==null?void 0:k.toLowerCase().includes(u.toLowerCase()))||((S=y.name)==null?void 0:S.toLowerCase().includes(u.toLowerCase()))})].sort((y,k)=>{switch(l){case"name":return(y.title||y.name||"").localeCompare(k.title||k.name||"");case"dateAdded":return new Date(k.favoriteDate||k.lastUpdated||0)-new Date(y.favoriteDate||y.lastUpdated||0);case"lastRead":return new Date(k.lastRead||0)-new Date(y.lastRead||0);default:return 0}}),v=async y=>{if(window.confirm("Remove this manga from favorites?"))try{await r(y),await n()}catch(k){console.error("Error removing favorite:",k),p("Failed to remove from favorites. Please try again.")}},g=async()=>{h(!0),p("");try{await n()}catch{p("Failed to refresh favorites. Please try again.")}finally{h(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx($t,{className:"w-8 h-8 text-red-500 mr-3"}),"Favorite Manga"]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e.length," manga in your favorites"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:g,icon:Sc,disabled:f,children:f?"Loading...":"Refresh"}),i.jsx(H,{variant:o==="grid"?"primary":"outline",size:"sm",onClick:()=>a("grid"),icon:fo}),i.jsx(H,{variant:o==="list"?"primary":"outline",size:"sm",onClick:()=>a("list"),icon:gs})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search favorites...",value:u,onChange:y=>d(y.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg\r
                       bg-white dark:bg-gray-800 text-gray-900 dark:text-white\r
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),i.jsx("div",{children:i.jsxs("select",{value:l,onChange:y=>c(y.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"dateAdded",children:"Date Added"}),i.jsx("option",{value:"name",children:"Name"}),i.jsx("option",{value:"lastRead",children:"Last Read"})]})})]})]}),f&&i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading favorites..."})]}),m&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[i.jsx("p",{className:"text-red-800 dark:text-red-200",children:m}),i.jsx(H,{variant:"outline",size:"sm",onClick:g,className:"mt-2",children:"Try Again"})]}),!f&&e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx($t,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start adding manga to your favorites to see them here"}),i.jsx(H,{onClick:()=>window.history.back(),children:"Browse Manga"})]}):b.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(bn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No results found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search term"})]}):i.jsx("div",{className:`grid ${o==="grid"?"grid-cols-2 md:grid-cols-4 lg:grid-cols-6":"grid-cols-1"} gap-4`,children:b.map((y,k)=>i.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg 
                        transition-all duration-200 group border border-gray-200 dark:border-gray-700
                        ${o==="list"?"flex items-center p-4":"p-3"}`,children:o==="grid"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`aspect-[3/4] bg-gray-200 dark:bg-gray-700 rounded-md mb-3 \r
                                  overflow-hidden cursor-pointer`,children:i.jsx("img",{src:y.thumbnail||"/default/default-cover.jpg",alt:y.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),i.jsx("button",{onClick:()=>v(y.id),className:`absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full\r
                               opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600`,children:i.jsx($t,{className:"w-4 h-4 fill-current"})})]}),i.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white text-sm mb-1 \r
                               line-clamp-2 cursor-pointer hover:text-blue-500`,children:y.title}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:[y.chapters," chapters"]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:["Added: ",new Date(y.favoriteDate||y.lastUpdated).toLocaleDateString()]}),y.lastRead&&i.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400",children:["Last read: ",new Date(y.lastRead).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-1 mt-2",children:[i.jsxs(H,{variant:"outline",size:"xs",className:"flex-1",onClick:()=>{},children:[i.jsx(ka,{className:"w-3 h-3 mr-1"}),"Read"]}),i.jsx(H,{variant:"outline",size:"xs",onClick:()=>v(y.id),className:"text-red-500 hover:text-red-600",children:i.jsx(ts,{className:"w-3 h-3"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`w-16 h-20 bg-gray-200 dark:bg-gray-700 rounded-md mr-4 \r
                                flex-shrink-0 overflow-hidden cursor-pointer`,children:i.jsx("img",{src:y.thumbnail||"/default/default-cover.jpg",alt:y.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1 cursor-pointer hover:text-blue-500",children:y.title}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[y.chapters," chapters • ",y.views," views"]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:["Added: ",new Date(y.favoriteDate||y.lastUpdated).toLocaleDateString()]}),y.lastRead&&i.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400",children:["Last read: ",new Date(y.lastRead).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{},children:[i.jsx(ka,{className:"w-4 h-4 mr-1"}),"Read"]}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>v(y.id),className:"text-red-500 hover:text-red-600",children:i.jsx(ts,{className:"w-4 h-4"})})]})]})},y.id||y.path||k))}),e.length>0&&i.jsx("div",{className:"fixed bottom-6 right-6",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{window.confirm("Remove all manga from favorites?")&&e.forEach(y=>t(y))},className:"text-red-500 hover:text-red-600",children:[i.jsx(ts,{className:"w-4 h-4 mr-1"}),"Clear All"]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{},children:[i.jsx(zh,{className:"w-4 h-4 mr-1"}),"Export"]})]})})})]})},TF=()=>{const{sourceKey:e}=Le(),t=La();return{addRecentMovie:(r,s=20)=>{if(!(!e||!r))try{const o=`recentViewedVideo::${e}`,a=localStorage.getItem(o);let l=a?JSON.parse(a):[];l=l.filter(c=>c.path!==r.path),l.unshift({...r,timestamp:Date.now(),type:r.type||"video"}),l=l.slice(0,s),localStorage.setItem(o,JSON.stringify(l)),t.invalidateQueries(["recentMovies",e]),console.log("✅ Added to recent movies:",r.name)}catch(o){console.warn("Error adding to recent movies:",o)}}}},Ab=({item:e,showViews:t=!1,onFavoriteChange:n})=>{var d,f;const r=vt(),{toggleFavorite:s}=ln(),{addRecentMovie:o}=TF(),a=()=>{if(console.log("🎬 MovieCard clicked:",{item:e,type:e.type,path:e.path}),e.type==="folder"){const m=`/movie?path=${encodeURIComponent(e.path)}`;console.log("🎬 Navigating to folder:",m),r(m)}else if(e.type==="video"||e.type==="file"){o(e);const m=`/movie/player?file=${encodeURIComponent(e.path)}`;console.log("🎬 Navigating to player:",m),r(m)}},l=async h=>{h.stopPropagation();try{console.log("❤️ MovieCard toggleFavorite:",{path:e.path,currentFavorite:e.isFavorite}),await s(e),n==null||n(e,!e.isFavorite),console.log("✅ MovieCard favorite toggle completed")}catch(m){console.error("❌ Error toggling favorite in MovieCard:",m)}},c=e.name||((d=e.path)==null?void 0:d.split("/").pop())||"Unknown",u=e.type==="video"||e.type==="file";return e.type,i.jsxs("div",{className:`group relative bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-xl \r
                 transition-all duration-200 cursor-pointer border border-gray-200 dark:border-gray-700 \r
                 overflow-hidden`,onClick:a,children:[i.jsxs("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700 overflow-hidden",children:[i.jsx("img",{src:e.thumbnail||(u?"/default/video-thumb.png":"/default/folder-thumb.png"),alt:c,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:h=>{h.target.src=u?"/default/video-thumb.png":"/default/folder-thumb.png"}}),i.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 \r
                      transition-all duration-300 flex items-center justify-center`,children:u?i.jsx(rn,{className:"w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity"}):i.jsx(zi,{className:"w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),i.jsx("button",{onClick:l,className:`absolute top-2 right-2 p-1 rounded-full bg-black bg-opacity-50 \r
                     hover:bg-opacity-70 transition-all duration-200 z-10`,children:i.jsx($t,{className:`w-4 h-4 ${e.isFavorite?"text-red-500 fill-current":"text-white"}`})}),i.jsx("div",{className:"absolute bottom-2 left-2",children:i.jsx("span",{className:"bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:u?i.jsxs(i.Fragment,{children:[i.jsx(rn,{className:"w-3 h-3"}),"Video"]}):i.jsxs(i.Fragment,{children:[i.jsx(zi,{className:"w-3 h-3"}),"Folder"]})})}),t&&e.views!==void 0&&i.jsx("div",{className:"absolute bottom-2 right-2",children:i.jsxs("span",{className:"bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[i.jsx(Ll,{className:"w-3 h-3"}),((f=e.views)==null?void 0:f.toLocaleString())||0]})})]}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2 mb-1",title:c,children:c}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{className:"flex items-center gap-1",children:u?i.jsxs(i.Fragment,{children:[i.jsx(rn,{className:"w-3 h-3"}),"Video"]}):i.jsxs(i.Fragment,{children:[i.jsx(zi,{className:"w-3 h-3"}),"Folder"]})}),e.size&&i.jsx("span",{children:e.size})]})]})]})},MF=()=>{const{sourceKey:e}=Le();return!e||!e.startsWith("V_")?null:i.jsxs("div",{className:"movie-random-sections space-y-6",children:[i.jsx(Xh,{type:"movie",title:"🎬 Phim ngẫu nhiên",showViews:!0,autoplay:!0,showRefresh:!0,showTimestamp:!0,className:"movie-random-banner"}),i.jsx(Rb,{type:"movie",title:"🔥 Phim xem nhiều",autoplay:!1,className:"movie-top-view"}),i.jsx(Fb,{type:"movie",title:"🕒 Vừa xem",autoplay:!1,showRefresh:!1,showTimestamp:!0,maxItems:15,className:"movie-recent-view"})]})},OF=()=>{const e=vt(),[t,n]=ao(),{sourceKey:r}=Le(),{loading:s}=Gt(),{movieList:o,currentPath:a,loading:l,error:c,searchTerm:u,setSearchTerm:d,fetchMovieFolders:f,clearMovieCache:h}=ln(),[m,p]=w.useState("grid"),[x,b]=w.useState("name"),[v,g]=w.useState(!1),[y,k]=w.useState(0);w.useEffect(()=>{if(!r||!r.startsWith("V_")){e("/");return}},[r,e]),w.useEffect(()=>{if(r&&r.startsWith("V_")){console.log("🎬 MovieHome: SourceKey changed to:",r,"- Clearing cache and refetching"),h();const M=t.get("path")||"";f(M)}},[r,h,f,t]);const S=Sd.MOVIES_PER_PAGE,C=Math.ceil(o.length/S),N=o.slice(y*S,(y+1)*S);w.useEffect(()=>{const M=t.get("path")||"";console.log("🎬 MovieHome: URL path changed to:",M),console.log("🎬 MovieHome: Current searchParams:",Object.fromEntries(t.entries())),r&&r.startsWith("V_")&&M!==a&&o.length===0&&(console.log("🎬 MovieHome: Fetching because URL path differs from currentPath or movieList is empty"),f(M))},[t,f,a,o.length,r]),w.useEffect(()=>{k(0)},[a,o]);const j=()=>{const M=a.split("/").filter(Boolean);M.pop();const T=M.join("/");e(`/movie${T?`?path=${encodeURIComponent(T)}`:""}`)},P=()=>{if(!a)return[{name:"Movies",path:""}];const M=a.split("/").filter(Boolean),T=[{name:"Movies",path:""}];let z="";return M.forEach((E,O)=>{z+=(z?"/":"")+E,T.push({name:E,path:z})}),T},D=()=>{f(a)},$=o.filter(M=>{var z,E;return((z=M.name)==null?void 0:z.toLowerCase().includes(u.toLowerCase()))||((E=M.path)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))}),_=[...$].sort((M,T)=>{switch(x){case"name":return(M.name||"").localeCompare(T.name||"");case"type":return(M.type||"").localeCompare(T.type||"");case"views":return(T.views||0)-(M.views||0);default:return 0}}),U=M=>{k(M),window.scrollTo({top:0,behavior:"smooth"})};return l||s?i.jsx(jc,{message:"Loading movies..."}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 py-6",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsx(MF,{})})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[a&&i.jsx(H,{variant:"outline",size:"sm",onClick:j,icon:Vh,children:"Back"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"🎬 Movies"}),i.jsx("nav",{className:"flex mt-2","aria-label":"Breadcrumb",children:i.jsx("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:P().map((M,T)=>i.jsxs("li",{className:"inline-flex items-center",children:[T>0&&i.jsx("svg",{className:"w-6 h-6 text-gray-400 mx-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),T===P().length-1?i.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:M.name}):i.jsx("button",{onClick:()=>e(`/movie${M.path?`?path=${encodeURIComponent(M.path)}`:""}`),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:M.name})]},T))})})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:D,icon:Sc,disabled:l,children:"Refresh"}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>g(!v),icon:Uh,children:"Filters"}),i.jsx(H,{variant:m==="grid"?"primary":"outline",size:"sm",onClick:()=>p("grid"),icon:fo}),i.jsx(H,{variant:m==="list"?"primary":"outline",size:"sm",onClick:()=>p("list"),icon:gs})]})]}),i.jsxs("div",{className:"relative max-w-md mb-6",children:[i.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search movies...",value:u,onChange:M=>d(M.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg\r
                     bg-white dark:bg-gray-800 text-gray-900 dark:text-white\r
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),v&&i.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:i.jsx("div",{className:"flex flex-wrap gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort by:"}),i.jsxs("select",{value:x,onChange:M=>b(M.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                           bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"name",children:"Name"}),i.jsx("option",{value:"type",children:"Type"}),i.jsx("option",{value:"views",children:"Views"})]})]})})}),c&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:i.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error: ",c]})}),_.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(rn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No movies found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u?"Try adjusting your search":"This folder is empty"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`grid ${m==="grid"?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"} gap-6 mb-8`,children:N.map(M=>i.jsx(Ab,{item:M,showViews:!1},M.path))}),C>1&&i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>U(y-1),disabled:y===0,children:"⬅ Previous"}),i.jsx("div",{className:"flex items-center gap-2",children:[...Array(Math.min(5,C))].map((M,T)=>{const z=Math.max(0,Math.min(y-2,C-5))+T;return i.jsx("button",{onClick:()=>U(z),className:`px-3 py-1 rounded ${z===y?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:z+1},z)})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>U(y+1),disabled:y>=C-1,children:"Next ➡"})]}),i.jsxs("div",{className:"text-center mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Page ",y+1," of ",C," • ",$.length," total items"]})]})]})]})},RF=`
  .movie-player-range::-webkit-slider-thumb {
    appearance: none;
    width: 16px;
    height: 16px;
    background: #3b82f6;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }
  
  .movie-player-range::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: #3b82f6;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }
  
  .movie-player-range:focus {
    outline: none;
  }
  
  .movie-player-episode-scrollbar::-webkit-scrollbar {
    width: 8px;
  }
  
  .movie-player-episode-scrollbar::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.1);
    border-radius: 4px;
  }
  
  .movie-player-episode-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.3);
    border-radius: 4px;
  }
  
  .movie-player-episode-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255,255,255,0.5);
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=RF,document.head.appendChild(e)}const LF=()=>{var le;const e=vt(),[t]=ao(),{sourceKey:n,token:r}=Le(),{toggleFavorite:s,favorites:o,fetchFavorites:a}=ln(),{loading:l,setLoading:c}=Gt(),{addRecentItem:u}=kc("movie"),d=t.get("file"),h=t.get("key")||n,[m,p]=w.useState(d),[x,b]=w.useState(!1),[v,g]=w.useState(""),[y,k]=w.useState(""),[S,C]=w.useState(""),[N,j]=w.useState([]),[P,D]=w.useState(-1),[$,_]=w.useState(!1),[U,M]=w.useState(!1),[T,z]=w.useState(!0),[E,O]=w.useState(!1),[B,F]=w.useState(1),[A,te]=w.useState(0),[q,Y]=w.useState(0),[ge,re]=w.useState(!1),ie=w.useRef(null),fe=w.useRef(null),ve=w.useRef(null),[we,ue]=w.useState(null),[G,ae]=w.useState(0),[Ee,Te]=w.useState(!1);w.useEffect(()=>{if(m){const L=m.split("/").filter(Boolean),ee=L[L.length-1],ye=L.slice(0,-1).join("/"),je=L[L.length-2]||"Home";g(ee),C(ye),k(je)}},[m]),w.useEffect(()=>{if(m&&o.length>=0){const L=o.find(ee=>ee.path===m);b(!!L)}},[m,o]),w.useEffect(()=>{a()},[a]),w.useEffect(()=>{S&&h&&et()},[S,h]),w.useEffect(()=>{m&&h&&(se(),ne())},[m,h]),w.useEffect(()=>{const L=ie.current;if(!L)return;const ee=()=>{Y(L.duration)},ye=()=>{te(L.currentTime)},je=()=>{O(!0)},Oe=()=>{O(!1)},Ie=()=>{F(L.volume)};return L.addEventListener("loadeddata",ee),L.addEventListener("timeupdate",ye),L.addEventListener("play",je),L.addEventListener("pause",Oe),L.addEventListener("volumechange",Ie),()=>{L.removeEventListener("loadeddata",ee),L.removeEventListener("timeupdate",ye),L.removeEventListener("play",je),L.removeEventListener("pause",Oe),L.removeEventListener("volumechange",Ie)}},[]),w.useEffect(()=>{const L=()=>{re(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",L),()=>document.removeEventListener("fullscreenchange",L)},[]),w.useEffect(()=>((()=>{ve.current&&clearTimeout(ve.current),z(!0),ve.current=setTimeout(()=>{E&&z(!1)},3e3)})(),()=>{ve.current&&clearTimeout(ve.current)}),[E]);const et=async()=>{if(!(!S||!h))try{const je=((await(await fetch(`/api/movie/movie-folder?key=${h}&path=${encodeURIComponent(S)}`)).json()).folders||[]).filter(Ie=>Ie.type==="video"||Ie.type==="file");j(je);const Oe=je.findIndex(Ie=>Ie.path===m);D(Oe)}catch(L){console.error("Error loading sibling videos:",L),Ae.error("Lỗi khi tải danh sách video")}},se=async()=>{try{await fetch("/api/increase-view/movie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:h,path:m})})}catch(L){console.error("Error increasing view count:",L)}},ne=()=>{if(!m||!v)return;const ee=`.thumbnail/${m.split("/").pop().replace(/\.(mp4|mkv|ts|avi|mov|webm|wmv)$/i,"")}.jpg`,ye={name:v,path:m,thumbnail:ee,type:"video",lastViewed:Date.now()};u(ye)},oe=async()=>{if(m)try{await s({name:v,path:m,type:"video"}),b(!x),Ae.success(x?"Đã bỏ yêu thích":"Đã thêm vào yêu thích")}catch(L){console.error("Error toggling favorite:",L),Ae.error("Lỗi khi thao tác yêu thích")}},he=async()=>{if(!(!m||!h))try{c(!0),await fetch("/api/movie/extract-movie-thumbnail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:h,path:m})}),await fetch("/api/movie/set-thumbnail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:h,folderPath:S,srcPath:m})}),Ae.success("Đã đặt thumbnail thành công")}catch(L){console.error("Error setting thumbnail:",L),Ae.error("Lỗi khi đặt thumbnail")}finally{c(!1)}},me=L=>{if(N.length===0||P===-1)return;let ee;L==="prev"?ee=P>0?P-1:N.length-1:ee=P<N.length-1?P+1:0;const ye=N[ee];ye&&(e(`/movie/player?file=${encodeURIComponent(ye.path)}&key=${h}`),p(ye.path))},K=async()=>{try{c(!0);const ee=await(await fetch(`/api/movie/video-cache?mode=random&type=file&key=${h}`)).json(),je=(Array.isArray(ee)?ee:ee.folders).filter(Ie=>Ie.type==="video"||Ie.type==="file");if(je.length===0){Ae.error("Không có video ngẫu nhiên");return}const Oe=je[Math.floor(Math.random()*je.length)];e(`/movie/player?file=${encodeURIComponent(Oe.path)}&key=${h}`),p(Oe.path)}catch(L){console.error("Error jumping to random video:",L),Ae.error("Không thể tải video ngẫu nhiên")}finally{c(!1)}},pe=()=>{const L=ie.current;L&&(L.paused?L.play():L.pause())},qe=L=>{const ee=ie.current;ee&&(ee.currentTime=Math.max(0,Math.min(q,L)))},Q=L=>{const ee=ie.current;if(!ee)return;const ye=Math.max(0,Math.min(q,ee.currentTime+L));ee.currentTime=ye,Ae.info(`${L>0?"⏩":"⏪"} ${Math.abs(L)}s`)},R=()=>{const L=fe.current;L&&(document.fullscreenElement?document.exitFullscreen().catch(ee=>{console.warn("Cannot exit fullscreen:",ee)}):L.requestFullscreen().catch(ee=>{console.warn("Cannot enter fullscreen:",ee)}))},X=L=>{ue(L.clientX),ae(A),Te(!1)},J=L=>{if(we===null)return;const ee=L.clientX-we,ye=5;if(!Ee&&Math.abs(ee)>=ye&&Te(!0),Ee){L.preventDefault();const Oe=G+ee/10;qe(Oe)}},ke=L=>{if(we===null)return;const ee=L.clientX-we;if(Ee){L.preventDefault();const je=Math.floor(ee/10);je!==0&&Ae.info(`${je>0?"⏩":"⏪"} ${Math.abs(je)}s`)}ue(null),Te(!1)},xe=L=>{const ee=ie.current;if(!ee)return;const ye=ee.getBoundingClientRect(),je=L.clientX-ye.left,Oe=ye.width;je<Oe/2?Q(-10):Q(10)},Me=()=>{const L=S?`/movie?path=${encodeURIComponent(S)}`:"/movie";e(L)},I=L=>{if(!L||isNaN(L))return"00:00";const ee=Math.floor(L/60),ye=Math.floor(L%60);return`${ee.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`},W=()=>{if(!m||!h)return"";const L=`/api/movie/video?key=${h}&file=${encodeURIComponent(m)}`;return r?`${L}&token=${encodeURIComponent(r)}`:L},de=()=>{var ee;const L=`${window.location.origin}${W()}`;(ee=window.Android)!=null&&ee.openExoPlayer?window.Android.openExoPlayer(L):Ae.error("Ứng dụng không hỗ trợ ExoPlayer")};return!m||!h?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"❌ Thiếu thông tin video"}),i.jsx(H,{onClick:()=>e("/movie"),children:"Quay lại danh sách phim"})]})}):i.jsxs("div",{className:"movie-player-wrapper fixed inset-0 w-full h-full bg-black overflow-hidden",children:[i.jsx("div",{ref:fe,className:"video-layer absolute inset-0 w-full h-full z-0",onMouseMove:()=>z(!0),children:i.jsx("video",{ref:ie,src:W(),className:"video-element absolute inset-0 w-full h-full object-contain bg-black",onPointerDown:X,onPointerMove:J,onPointerUp:ke,onDoubleClick:xe,controls:!1,autoPlay:!0,style:{zIndex:0}})}),i.jsxs("div",{className:"ui-overlay-container absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[i.jsx("header",{className:"player-header absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/90 via-black/60 to-transparent p-4 pointer-events-auto",children:i.jsxs("div",{className:"flex items-center justify-between max-w-full",children:[i.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:Me,className:"text-white hover:bg-white/20 flex-shrink-0",children:i.jsx(SR,{className:"w-5 h-5"})}),i.jsx("div",{className:"text-white min-w-0",children:i.jsxs("h1",{className:"font-medium cursor-pointer hover:text-blue-400 transition-colors truncate",onClick:Me,title:S||"Quay lại thư mục",children:["📁 ",y]})})]}),i.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:oe,className:"text-white hover:bg-white/20",title:x?"Bỏ yêu thích":"Thêm yêu thích",children:i.jsx(Bs,{className:`w-5 h-5 ${x?"text-red-500 fill-current":""}`})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:he,className:"text-white hover:bg-white/20",title:"Đặt thumbnail",loading:l,children:i.jsx(NR,{className:"w-5 h-5"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>M(!0),className:"text-white hover:bg-white/20",title:"Tìm kiếm",children:i.jsx(Ih,{className:"w-5 h-5"})})]})]})}),i.jsx("div",{className:"video-title-overlay absolute top-20 left-4 right-4 z-20 pointer-events-none",children:i.jsx(hr,{children:T&&v&&i.jsx(Ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"pointer-events-auto",children:i.jsx("h2",{className:"text-white text-lg font-medium bg-black/70 rounded-lg px-4 py-2 backdrop-blur-sm max-w-full",children:i.jsx("span",{className:"block truncate",title:v,children:v})})})})}),i.jsx("div",{className:"center-controls absolute inset-0 z-30 pointer-events-none",children:i.jsx(hr,{children:T&&i.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center h-full space-x-8 pointer-events-auto",children:[i.jsx(H,{variant:"ghost",size:"lg",onClick:()=>me("prev"),disabled:N.length===0,className:"text-white hover:bg-white/20 disabled:opacity-30 p-4 rounded-full bg-black/30 backdrop-blur-sm",children:i.jsx(n0,{className:"w-8 h-8"})}),i.jsx(H,{variant:"ghost",size:"lg",onClick:pe,className:"text-white hover:bg-white/20 p-6 rounded-full bg-black/50 backdrop-blur-sm",children:E?i.jsx(OR,{className:"w-12 h-12"}):i.jsx(Kd,{className:"w-12 h-12"})}),i.jsx(H,{variant:"ghost",size:"lg",onClick:()=>me("next"),disabled:N.length===0,className:"text-white hover:bg-white/20 disabled:opacity-30 p-4 rounded-full bg-black/30 backdrop-blur-sm",children:i.jsx(r0,{className:"w-8 h-8"})})]})})}),i.jsx("div",{className:"bottom-controls absolute bottom-0 left-0 right-0 z-40 pointer-events-none",children:i.jsx(hr,{children:T&&i.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-gradient-to-t from-black/90 via-black/70 to-transparent p-4 pointer-events-auto",children:[i.jsxs("div",{className:"progress-section mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-white text-sm mb-2",children:[i.jsx("span",{className:"font-mono",children:I(A)}),i.jsx("span",{children:"/"}),i.jsx("span",{className:"font-mono",children:I(q)})]}),i.jsxs("div",{className:"relative h-2 bg-white/20 rounded-full cursor-pointer group",onClick:L=>{const ee=L.currentTarget.getBoundingClientRect(),ye=(L.clientX-ee.left)/ee.width;qe(q*ye)},children:[i.jsx("div",{className:"absolute inset-y-0 left-0 bg-blue-500 rounded-full transition-all duration-100",style:{width:q>0?`${A/q*100}%`:"0%"}}),i.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",style:{left:q>0?`calc(${A/q*100}% - 8px)`:"0px"}})]})]}),i.jsxs("div",{className:"controls-row flex items-center justify-between",children:[i.jsxs("div",{className:"left-controls flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:K,className:"text-white hover:bg-white/20",title:"Video ngẫu nhiên",children:i.jsx(t0,{className:"w-5 h-5"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>_(!$),className:"text-white hover:bg-white/20",title:"Danh sách tập",children:i.jsx(CR,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"right-controls flex items-center space-x-4",children:[i.jsxs("div",{className:"volume-control flex items-center space-x-2",children:[i.jsx(LR,{className:"w-5 h-5 text-white"}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:B,onChange:L=>{const ee=parseFloat(L.target.value);F(ee),ie.current&&(ie.current.volume=ee)},className:"w-20 h-1 bg-white/20 rounded-full appearance-none cursor-pointer movie-player-range",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${B*100}%, rgba(255,255,255,0.2) ${B*100}%, rgba(255,255,255,0.2) 100%)`}})]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:R,className:"text-white hover:bg-white/20",title:"Toàn màn hình",children:i.jsx(PR,{className:"w-5 h-5"})})]})]})]})})}),i.jsx("div",{className:"episode-sidebar absolute top-0 right-0 bottom-0 z-50 pointer-events-none",children:i.jsx(hr,{children:$&&i.jsx(Ve.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"w-72 sm:w-80 h-full bg-black/95 backdrop-blur-xl border-l border-white/30 overflow-hidden pointer-events-auto shadow-2xl",children:i.jsxs("div",{className:"episode-list-container h-full flex flex-col",children:[i.jsxs("div",{className:"episode-header flex items-center justify-between p-4 border-b border-white/20 bg-black/50",children:[i.jsx("h3",{className:"text-white font-medium text-lg",children:"Danh sách tập"}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>_(!1),className:"text-white hover:bg-white/20",children:i.jsx(pb,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"episode-content flex-1 overflow-y-auto p-4 movie-player-episode-scrollbar",children:i.jsxs("div",{className:"space-y-2",children:[N.map((L,ee)=>i.jsxs("button",{onClick:()=>{e(`/movie/player?file=${encodeURIComponent(L.path)}&key=${h}`),p(L.path),_(!1)},className:`episode-item w-full text-left p-3 rounded-lg transition-all duration-200 ${L.path===m?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-white hover:bg-white/20"}`,children:[i.jsxs("div",{className:"font-medium",children:["Tập ",ee+1]}),i.jsx("div",{className:"text-sm opacity-75 truncate",children:L.name||L.path.split("/").pop()})]},L.path)),N.length===0&&i.jsx("div",{className:"text-white/50 text-center py-8",children:"Không có tập nào"})]})})]})})})}),i.jsx("div",{className:"nav-buttons absolute bottom-20 sm:bottom-24 left-1/2 transform -translate-x-1/2 z-50 pointer-events-none",children:i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 pointer-events-auto",children:[i.jsxs(H,{variant:"secondary",onClick:()=>me("prev"),disabled:N.length===0||P<=0,className:"bg-black/80 backdrop-blur-md text-white border-white/30 hover:bg-black/90 shadow-lg text-xs sm:text-sm px-3 py-2",children:[i.jsx(n0,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Tập trước"}),i.jsx("span",{className:"sm:hidden",children:"Trước"})]}),i.jsxs(H,{variant:"secondary",onClick:K,className:"bg-black/80 backdrop-blur-md text-white border-white/30 hover:bg-black/90 shadow-lg text-xs sm:text-sm px-3 py-2",children:[i.jsx(t0,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Ngẫu nhiên"}),i.jsx("span",{className:"sm:hidden",children:"Random"})]}),i.jsxs(H,{variant:"secondary",onClick:()=>me("next"),disabled:N.length===0||P>=N.length-1,className:"bg-black/80 backdrop-blur-md text-white border-white/30 hover:bg-black/90 shadow-lg text-xs sm:text-sm px-3 py-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"Tập sau"}),i.jsx("span",{className:"sm:hidden",children:"Sau"}),i.jsx(r0,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1 sm:ml-2"})]})]})}),((le=window.Android)==null?void 0:le.openExoPlayer)&&i.jsx("div",{className:"exoplayer-button absolute bottom-4 right-4 z-30 pointer-events-auto",children:i.jsx(H,{variant:"primary",onClick:de,className:"bg-green-600 hover:bg-green-700 shadow-lg",children:"▶ Mở bằng ExoPlayer"})}),i.jsx("div",{className:"additional-content absolute bottom-0 left-0 right-0 z-20 transform translate-y-full transition-transform duration-300 bg-gray-900/95 backdrop-blur-sm",children:i.jsx("div",{className:"p-6 space-y-6",children:i.jsx(Xh,{type:"movie",title:"🎬 Phim ngẫu nhiên",showViews:!0,autoplay:!1,showRefresh:!0,showTimestamp:!0})})})]})," ",i.jsx($h,{isOpen:U,onClose:()=>M(!1)})]})},FF=()=>{const e=vt(),{loading:t}=Gt(),{favorites:n,removeFavorite:r,fetchFavorites:s,toggleFavorite:o,loading:a}=ln(),[l,c]=w.useState("grid"),[u,d]=w.useState("dateAdded"),[f,h]=w.useState(""),[m,p]=w.useState(!1),[x,b]=w.useState(""),[v,g]=w.useState(0),[y,k]=w.useState(0),[S,C]=w.useState(!1),[N,j]=w.useState(!0),P=Sd.MOVIE_FAVORITES_FOLDER_PER_PAGE,D=Sd.MOVIE_FAVORITES_VIDEO_PER_PAGE;w.useEffect(()=>{(async()=>{p(!0);try{await s()}catch(Y){b("Failed to load favorites"),console.error("Load favorites error:",Y)}finally{p(!1)}})()},[s]);const $=n.filter(q=>{var ge,re;return((ge=q.name)==null?void 0:ge.toLowerCase().includes(f.toLowerCase()))||((re=q.path)==null?void 0:re.toLowerCase().includes(f.toLowerCase()))}),_=[...$].sort((q,Y)=>{switch(u){case"name":return(q.name||"").localeCompare(Y.name||"");case"type":return(q.type||"").localeCompare(Y.type||"");case"dateAdded":default:return(q.name||"").localeCompare(Y.name||"")}}),U=_.filter(q=>q.type==="folder"),M=_.filter(q=>q.type==="video"||q.type==="file"),T=Math.ceil(U.length/P),z=Math.ceil(M.length/D),E=U.slice(v*P,(v+1)*P),O=M.slice(y*D,(y+1)*D),B=async(q,Y)=>{Y||await s()},F=(q,Y)=>{q==="folder"?g(Y):k(Y),window.scrollTo({top:0,behavior:"smooth"})},A=(q,Y,ge)=>Y<=1?null:i.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>ge(q-1),disabled:q===0,children:"⬅ Previous"}),i.jsx("div",{className:"flex items-center gap-2",children:[...Array(Math.min(5,Y))].map((re,ie)=>{const fe=Math.max(0,Math.min(q-2,Y-5))+ie;return i.jsx("button",{onClick:()=>ge(fe),className:`px-3 py-1 rounded ${fe===q?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:fe+1},fe)})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>ge(q+1),disabled:q>=Y-1,children:"Next ➡"})]}),te=(q,Y,ge,re,ie,fe,ve,we)=>Y.length===0?null:i.jsxs("details",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",open:fe,onToggle:ue=>ve(ue.target.open),children:[i.jsxs("summary",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 cursor-pointer font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[we,q," (",Y.length,")"]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:`grid ${l==="grid"?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"} gap-6`,children:Y.map(ue=>i.jsx(Ab,{item:ue,showViews:!1,onFavoriteChange:B},ue.path))}),A(ge,re,ie),re>1&&i.jsxs("div",{className:"text-center mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Page ",ge+1," of ",re]})]})]});return m||a||t?i.jsx(jc,{message:"Loading favorites..."}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>e("/movie"),icon:Vh,children:"Back to Movies"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"❤️ Movie Favorites"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[$.length," favorite items"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(H,{variant:l==="grid"?"primary":"outline",size:"sm",onClick:()=>c("grid"),icon:fo}),i.jsx(H,{variant:l==="list"?"primary":"outline",size:"sm",onClick:()=>c("list"),icon:gs})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search favorites...",value:f,onChange:q=>h(q.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg\r
                       bg-white dark:bg-gray-800 text-gray-900 dark:text-white\r
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort by:"}),i.jsxs("select",{value:u,onChange:q=>d(q.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"dateAdded",children:"Date Added"}),i.jsx("option",{value:"name",children:"Name"}),i.jsx("option",{value:"type",children:"Type"})]})]})]})]}),x&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:i.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error: ",x]})}),$.length===0&&!m&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx($t,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:f?"No matching favorites":"No favorites yet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f?"Try adjusting your search":"Start adding movies to your favorites"})]}),$.length>0&&i.jsxs(i.Fragment,{children:[te("📁 Favorite Folders",E,v,T,q=>F("folder",q),S,C,i.jsx(zi,{className:"w-5 h-5"})),te("🎬 Favorite Videos",O,y,z,q=>F("video",q),N,j,i.jsx(rn,{className:"w-5 h-5"}))]})]})},AF=()=>{const e=vt(),{sourceKey:t}=Le(),{isLoading:n,toggleLoading:r}=Gt(),{musicList:s,favorites:o,currentSource:a,searchTerm:l,setSearchTerm:c}=Fn();w.useEffect(()=>{if(!t||!t.startsWith("M_")){e("/");return}},[t,e]);const[u,d]=w.useState("grid"),[f,h]=w.useState("name"),[m,p]=w.useState("all"),[x,b]=w.useState(!1),v=[{id:1,title:"Bohemian Rhapsody",artist:"Queen",album:"A Night at the Opera",duration:"5:55",year:1975,genre:"Rock",thumbnail:"/default/music-thumb.png",plays:15420,format:"mp3"},{id:2,title:"Hotel California",artist:"Eagles",album:"Hotel California",duration:"6:30",year:1976,genre:"Rock",thumbnail:"/default/music-thumb.png",plays:12350,format:"flac"},{id:3,title:"Billie Jean",artist:"Michael Jackson",album:"Thriller",duration:"4:54",year:1982,genre:"Pop",thumbnail:"/default/music-thumb.png",plays:18900,format:"mp3"},{id:4,title:"Stairway to Heaven",artist:"Led Zeppelin",album:"Led Zeppelin IV",duration:"8:02",year:1971,genre:"Rock",thumbnail:"/default/music-thumb.png",plays:14200,format:"mp3"}];w.useEffect(()=>{r(),setTimeout(()=>{r()},1e3)},[a]);const g=v.filter(k=>{const S=k.title.toLowerCase().includes(l.toLowerCase())||k.artist.toLowerCase().includes(l.toLowerCase())||k.album.toLowerCase().includes(l.toLowerCase()),C=m==="all"||m==="favorites"&&o.includes(k.id)||k.genre.toLowerCase()===m.toLowerCase();return S&&C}),y=[...g].sort((k,S)=>{switch(f){case"name":return k.title.localeCompare(S.title);case"artist":return k.artist.localeCompare(S.artist);case"year":return S.year-k.year;case"plays":return S.plays-k.plays;case"duration":return k.duration.localeCompare(S.duration);default:return 0}});return n?i.jsx(jc,{message:"Loading music library..."}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"🎵 Music Library"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Source: ",(a==null?void 0:a.name)||"M_MUSIC"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(!x),icon:Uh,children:"Filters"}),i.jsx(H,{variant:u==="grid"?"primary":"outline",size:"sm",onClick:()=>d("grid"),icon:fo}),i.jsx(H,{variant:u==="list"?"primary":"outline",size:"sm",onClick:()=>d("list"),icon:gs})]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search songs, artists, albums...",value:l,onChange:k=>c(k.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg\r
                     bg-white dark:bg-gray-800 text-gray-900 dark:text-white\r
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),x&&i.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort by:"}),i.jsxs("select",{value:f,onChange:k=>h(k.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                           bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"name",children:"Song Name"}),i.jsx("option",{value:"artist",children:"Artist"}),i.jsx("option",{value:"year",children:"Year"}),i.jsx("option",{value:"plays",children:"Most Played"}),i.jsx("option",{value:"duration",children:"Duration"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by:"}),i.jsxs("select",{value:m,onChange:k=>p(k.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                           bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"all",children:"All Music"}),i.jsx("option",{value:"favorites",children:"Favorites"}),i.jsx("option",{value:"rock",children:"Rock"}),i.jsx("option",{value:"pop",children:"Pop"}),i.jsx("option",{value:"jazz",children:"Jazz"}),i.jsx("option",{value:"classical",children:"Classical"})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qd,{className:"w-8 h-8 text-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v.length}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Songs"})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx($t,{className:"w-8 h-8 text-red-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.length}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Favorites"})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ll,{className:"w-8 h-8 text-green-500 mr-3"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Math.floor(v.reduce((k,S)=>{const[C,N]=S.duration.split(":").map(Number);return k+(C*60+N)},0)/60),"m"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Duration"})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(bn,{className:"w-8 h-8 text-purple-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.length}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Search Results"})]})]})})]}),y.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No music found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filters"})]}):i.jsx("div",{className:`grid ${u==="grid"?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"} gap-4`,children:y.map(k=>i.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg 
                        transition-all duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700
                        ${u==="list"?"flex items-center p-4":"p-4"}`,children:u==="grid"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`relative aspect-square bg-gray-200 dark:bg-gray-700 rounded-md mb-3 \r
                                overflow-hidden`,children:[i.jsx("img",{src:k.thumbnail,alt:k.album,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),i.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 \r
                                  transition-all duration-300 flex items-center justify-center`,children:i.jsx(rn,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx($t,{className:`w-4 h-4 ${o.includes(k.id)?"text-red-500 fill-current":"text-white opacity-70"}`})})]}),i.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white text-sm mb-1 \r
                               line-clamp-1`,children:k.title}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:k.artist}),i.jsx("p",{className:"text-xs text-gray-500 mb-2 line-clamp-1",children:k.album}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsx("span",{children:k.duration}),i.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:k.format.toUpperCase()})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-md mr-4 \r
                                flex-shrink-0 overflow-hidden relative group`,children:[i.jsx("img",{src:k.thumbnail,alt:k.album,className:"w-full h-full object-cover"}),i.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 \r
                                  transition-all duration-300 flex items-center justify-center`,children:i.jsx(rn,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:k.title}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:[k.artist," • ",k.album]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:k.year}),i.jsx("span",{children:k.genre}),i.jsxs("span",{children:[k.plays.toLocaleString()," plays"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[i.jsx("span",{children:k.duration}),i.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-xs",children:k.format.toUpperCase()}),i.jsx($t,{className:`w-4 h-4 ${o.includes(k.id)?"text-red-500 fill-current":"text-gray-400"}`})]})]})},k.id))})]})},DF=()=>{const e=vt(),[t]=ao(),n=t.get("path");t.get("playlist");const{currentTrack:r,playlist:s,playerSettings:o,updatePlayerSettings:a,addToRecentPlayed:l,toggleFavorite:c,favorites:u,setCurrentTrack:d,setPlaylist:f}=Fn();Gt(),Le();const h=w.useRef(null),m=w.useRef(null);w.useRef(null),w.useRef(null);const[p,x]=w.useState(!1),[b,v]=w.useState(0),[g,y]=w.useState(0),[k,S]=w.useState(0),[C,N]=w.useState(o.volume||.7),[j,P]=w.useState(!1),[D,$]=w.useState(o.shuffle||!1),[_,U]=w.useState(o.repeat||"off"),[M,T]=w.useState(!1);w.useState(!1);const[z,E]=w.useState(!1),[O,B]=w.useState(!0),[F,A]=w.useState(null),[te,q]=w.useState(0);w.useState(null),w.useState(!1);const Y=u.some(K=>K.path===n),ge=re(n);function re(K){return K?K.startsWith("http")||K.startsWith("/default/")?K:`/audio/${K.replace(/\\/g,"/")}`:null}const fe=w.useCallback(()=>{if(!n)return{title:"Unknown Track",artist:"Unknown Artist",album:""};const K=n.split("/"),pe=K[K.length-1],qe=K[K.length-2]||"",Q=K[K.length-3]||"";return{title:pe.replace(/\.[^/.]+$/,""),artist:Q||"Unknown Artist",album:qe,fullPath:n}},[n])();w.useEffect(()=>{if(!n){e("/music");return}const K=h.current;if(!K)return;const pe=()=>{B(!0),A(null)},qe=()=>{y(K.duration)},Q=()=>{B(!1),o.autoPlay&&K.play()},R=()=>{if(v(K.currentTime),K.buffered.length>0){const I=K.buffered.end(K.buffered.length-1);S(I/K.duration*100)}},X=()=>x(!0),J=()=>x(!1),ke=()=>G(),xe=I=>{console.error("Audio error:",I),A("Không thể tải nhạc. Vui lòng thử lại."),B(!1)},Me=()=>{N(K.volume),P(K.muted)};return K.addEventListener("loadstart",pe),K.addEventListener("loadedmetadata",qe),K.addEventListener("canplay",Q),K.addEventListener("timeupdate",R),K.addEventListener("play",X),K.addEventListener("pause",J),K.addEventListener("ended",ke),K.addEventListener("error",xe),K.addEventListener("volumechange",Me),()=>{K.removeEventListener("loadstart",pe),K.removeEventListener("loadedmetadata",qe),K.removeEventListener("canplay",Q),K.removeEventListener("timeupdate",R),K.removeEventListener("play",X),K.removeEventListener("pause",J),K.removeEventListener("ended",ke),K.removeEventListener("error",xe),K.removeEventListener("volumechange",Me)}},[n,o.autoPlay,e]),w.useEffect(()=>{const K=pe=>{if(!(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"))switch(pe.key){case" ":case"k":pe.preventDefault(),ve();break;case"ArrowLeft":pe.preventDefault(),ae(-10);break;case"ArrowRight":pe.preventDefault(),ae(10);break;case"ArrowUp":pe.preventDefault(),Te(.1);break;case"ArrowDown":pe.preventDefault(),Te(-.1);break;case"m":pe.preventDefault(),et();break;case"n":pe.preventDefault(),we();break;case"p":pe.preventDefault(),ue();break;case"s":pe.preventDefault(),se();break;case"r":pe.preventDefault(),ne();break;case"l":pe.preventDefault(),T(!M);break}};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[M]),w.useEffect(()=>{a({volume:C,shuffle:D,repeat:_})},[C,D,_,a]),w.useEffect(()=>{n&&b>30&&l({path:n,title:fe.title,artist:fe.artist,currentTime:b,duration:g,timestamp:Date.now()})},[n,b,g,fe.title,fe.artist,l]);const ve=w.useCallback(()=>{h.current&&(p?h.current.pause():h.current.play())},[p]),we=w.useCallback(()=>{if(s.length===0)return;let K;if(D?K=Math.floor(Math.random()*s.length):(K=te+1,K>=s.length&&(K=_==="all"?0:te)),K!==te){q(K);const pe=s[K];e(`/music/player?path=${encodeURIComponent(pe.path)}`)}},[s,te,D,_,e]),ue=w.useCallback(()=>{if(s.length===0)return;if(b>3){h.current.currentTime=0;return}let K;D?K=Math.floor(Math.random()*s.length):(K=te-1,K<0&&(K=_==="all"?s.length-1:0)),q(K);const pe=s[K];e(`/music/player?path=${encodeURIComponent(pe.path)}`)},[s,te,b,D,_,e]),G=w.useCallback(()=>{_==="one"?(h.current.currentTime=0,h.current.play()):we()},[_,we]),ae=w.useCallback(K=>{if(!h.current)return;const pe=Math.max(0,Math.min(g,b+K));h.current.currentTime=pe,v(pe)},[b,g]),Ee=w.useCallback(K=>{if(!h.current||!g)return;const pe=K.currentTarget.getBoundingClientRect(),Q=(K.clientX-pe.left)/pe.width*g;h.current.currentTime=Q,v(Q)},[g]),Te=w.useCallback(K=>{if(!h.current)return;const pe=Math.max(0,Math.min(1,C+K));N(pe),h.current.volume=pe,pe===0?(P(!0),h.current.muted=!0):j&&(P(!1),h.current.muted=!1)},[C,j]),et=w.useCallback(()=>{if(!h.current)return;const K=!j;P(K),h.current.muted=K},[j]),se=w.useCallback(()=>{$(!D)},[D]),ne=w.useCallback(()=>{const K=["off","one","all"],qe=(K.indexOf(_)+1)%K.length;U(K[qe])},[_]),oe=w.useCallback(async()=>{try{const{sourceKey:K}=Le.getState();await _e.music.toggleFavorite(K,n,!Y),c(n),Ae.success(Y?"Đã xóa khỏi yêu thích":"Đã thêm vào yêu thích")}catch(K){console.error("Toggle favorite error:",K),Ae.error("Có lỗi xảy ra")}},[n,Y,c]),he=w.useCallback(()=>{h.current&&(A(null),B(!0),h.current.load())},[]),me=w.useCallback(K=>{if(!K||!isFinite(K))return"0:00";const pe=Math.floor(K/60),qe=Math.floor(K%60);return`${pe}:${qe.toString().padStart(2,"0")}`},[]);return F?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-blue-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),i.jsx("h2",{className:"text-2xl mb-4",children:"Có lỗi xảy ra"}),i.jsx("p",{className:"text-gray-300 mb-6",children:F}),i.jsxs("div",{className:"space-x-4",children:[i.jsxs(H,{onClick:he,variant:"primary",children:[i.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Thử lại"]}),i.jsx(H,{onClick:()=>e("/music"),variant:"secondary",children:"Quay lại"})]})]})}):O?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-blue-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx(xb,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),i.jsx("h2",{className:"text-xl mb-2",children:"Đang tải nhạc..."}),i.jsx("p",{className:"text-sm text-gray-400",children:fe.title})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[i.jsx("audio",{ref:h,src:ge,preload:"auto"}),i.jsxs("header",{className:"flex items-center justify-between p-4 text-white",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{onClick:()=>e("/music"),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:i.jsx(t4,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Đang phát"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(H,{onClick:()=>T(!M),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:i.jsx(gs,{className:"w-5 h-5"})})})]}),i.jsxs("div",{className:"flex flex-col items-center px-8 py-12",children:[i.jsx("div",{className:"w-80 h-80 rounded-2xl bg-white/10 backdrop-blur-lg mb-8 overflow-hidden shadow-2xl",children:i.jsx("img",{src:"/default/music-thumb.png",alt:"Album Art",className:"w-full h-full object-cover",onError:K=>{K.target.src="/default/music-thumb.png"}})}),i.jsxs("div",{className:"text-center text-white mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:fe.title}),i.jsx("p",{className:"text-lg text-gray-300 mb-1",children:fe.artist}),i.jsx("p",{className:"text-gray-400",children:fe.album})]}),i.jsxs("div",{className:"w-full max-w-md mb-8",children:[i.jsxs("div",{ref:m,className:"relative h-2 bg-white/20 rounded-full cursor-pointer group",onClick:Ee,children:[i.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/40 rounded-full",style:{width:`${k}%`}}),i.jsx("div",{className:"absolute inset-y-0 left-0 bg-white rounded-full",style:{width:`${b/g*100}%`}}),i.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full \r
                        opacity-0 group-hover:opacity-100 transition-opacity shadow-lg`,style:{left:`${b/g*100}%`,marginLeft:"-8px"}})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-300 mt-2",children:[i.jsx("span",{children:me(b)}),i.jsx("span",{children:me(g)})]})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-8",children:[i.jsx(H,{onClick:se,variant:"ghost",size:"sm",className:`text-white hover:bg-white/20 ${D?"text-green-400":""}`,children:i.jsx(W4,{className:"w-5 h-5"})}),i.jsx(H,{onClick:ue,variant:"ghost",size:"lg",className:"text-white hover:bg-white/20",children:i.jsx(q4,{className:"w-6 h-6"})}),i.jsx(H,{onClick:ve,variant:"ghost",size:"xl",className:"w-16 h-16 rounded-full bg-white text-purple-900 hover:bg-gray-100",children:p?i.jsx(R4,{className:"w-8 h-8"}):i.jsx(rn,{className:"w-8 h-8 ml-1"})}),i.jsx(H,{onClick:we,variant:"ghost",size:"lg",className:"text-white hover:bg-white/20",children:i.jsx(G4,{className:"w-6 h-6"})}),i.jsxs(H,{onClick:ne,variant:"ghost",size:"sm",className:`text-white hover:bg-white/20 ${_!=="off"?"text-green-400":""}`,children:[i.jsx(D4,{className:"w-5 h-5"}),_==="one"&&i.jsx("span",{className:"text-xs absolute -top-1 -right-1",children:"1"})]})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-4 text-white",children:[i.jsx(H,{onClick:oe,variant:"ghost",size:"sm",className:`${Y?"text-red-500":"text-white"} hover:bg-white/20`,children:i.jsx($t,{className:`w-5 h-5 ${Y?"fill-current":""}`})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{onClick:et,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:j||C===0?i.jsx(a3,{className:"w-5 h-5"}):i.jsx(Gd,{className:"w-5 h-5"})}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:C,onChange:K=>Te(parseFloat(K.target.value)-C),className:`w-24 h-1 bg-white/20 rounded-full appearance-none cursor-pointer\r
                       [&::-webkit-slider-thumb]:appearance-none \r
                       [&::-webkit-slider-thumb]:w-3 \r
                       [&::-webkit-slider-thumb]:h-3 \r
                       [&::-webkit-slider-thumb]:bg-white \r
                       [&::-webkit-slider-thumb]:rounded-full`})]}),i.jsx(H,{onClick:()=>E(!z),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:i.jsx(J4,{className:"w-5 h-5"})})]})]}),M&&i.jsxs("div",{className:"fixed top-0 right-0 w-80 h-full bg-black/90 backdrop-blur-lg text-white p-4 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách phát"}),i.jsx(H,{onClick:()=>T(!1),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:"✕"})]}),i.jsx("div",{className:"space-y-2",children:s.map((K,pe)=>i.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${pe===te?"bg-white/20 border border-white/30":"hover:bg-white/10"}`,onClick:()=>{q(pe),e(`/music/player?path=${encodeURIComponent(K.path)}`)},children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(Qd,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:K.title||"Unknown Track"}),i.jsx("p",{className:"text-sm text-gray-400 truncate",children:K.artist||"Unknown Artist"})]}),pe===te&&p&&i.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})})]})},K.path))})]}),z&&i.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 bg-black/90 backdrop-blur-lg rounded-lg p-4 text-white",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Equalizer"}),i.jsx("div",{className:"flex space-x-2",children:["60Hz","170Hz","310Hz","600Hz","1kHz","3kHz","6kHz","12kHz","14kHz","16kHz"].map(K=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("input",{type:"range",min:"-12",max:"12",defaultValue:"0",className:`w-6 h-24 appearance-none bg-white/20 rounded-full \r
                           [&::-webkit-slider-thumb]:appearance-none \r
                           [&::-webkit-slider-thumb]:w-6 \r
                           [&::-webkit-slider-thumb]:h-3 \r
                           [&::-webkit-slider-thumb]:bg-white \r
                           [&::-webkit-slider-thumb]:rounded-full`,style:{writingMode:"bt-lr"}}),i.jsx("span",{className:"text-xs mt-2",children:K})]},K))})]})]})},_F=()=>{const{favorites:e,removeFavorite:t,fetchFavorites:n,toggleFavorite:r,loading:s}=Fn(),[o,a]=w.useState("list"),[l,c]=w.useState("dateAdded"),[u,d]=w.useState(""),[f,h]=w.useState(!1),[m,p]=w.useState("");w.useEffect(()=>{(async()=>{h(!0),p("");try{await n()}catch(S){p("Failed to load favorite music. Please try again."),console.error("Error loading music favorites:",S)}finally{h(!1)}})()},[n]);const b=[...e.filter(k=>{var S,C,N,j;return((S=k.title)==null?void 0:S.toLowerCase().includes(u.toLowerCase()))||((C=k.name)==null?void 0:C.toLowerCase().includes(u.toLowerCase()))||((N=k.artist)==null?void 0:N.toLowerCase().includes(u.toLowerCase()))||((j=k.album)==null?void 0:j.toLowerCase().includes(u.toLowerCase()))})].sort((k,S)=>{switch(l){case"name":return(k.title||k.name||"").localeCompare(S.title||S.name||"");case"artist":return(k.artist||"").localeCompare(S.artist||"");case"dateAdded":return new Date(S.favoriteDate||S.lastUpdated||0)-new Date(k.favoriteDate||k.lastUpdated||0);case"lastPlayed":return new Date(S.lastPlayed||0)-new Date(k.lastPlayed||0);case"plays":return(S.plays||0)-(k.plays||0);default:return 0}}),v=async k=>{if(window.confirm("Remove this track from favorites?"))try{await r(k),await n()}catch(S){console.error("Error removing favorite:",S),p("Failed to remove from favorites. Please try again.")}},g=async()=>{h(!0),p("");try{await n()}catch{p("Failed to refresh favorites. Please try again.")}finally{h(!1)}},y=k=>{if(!k)return"Unknown";if(typeof k=="string")return k;const S=Math.floor(k/60),C=k%60;return`${S}:${C.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx($t,{className:"w-8 h-8 text-red-500 mr-3"}),"Favorite Music"]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e.length," tracks in your favorites"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:g,icon:Sc,disabled:f,children:f?"Loading...":"Refresh"}),i.jsx(H,{variant:o==="grid"?"primary":"outline",size:"sm",onClick:()=>a("grid"),icon:fo}),i.jsx(H,{variant:o==="list"?"primary":"outline",size:"sm",onClick:()=>a("list"),icon:gs})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search favorites...",value:u,onChange:k=>d(k.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg\r
                       bg-white dark:bg-gray-800 text-gray-900 dark:text-white\r
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),i.jsx("div",{children:i.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"dateAdded",children:"Date Added"}),i.jsx("option",{value:"name",children:"Track Name"}),i.jsx("option",{value:"artist",children:"Artist"}),i.jsx("option",{value:"lastPlayed",children:"Last Played"}),i.jsx("option",{value:"plays",children:"Play Count"})]})})]})]}),f&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading favorites..."})]}),m&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[i.jsx("p",{className:"text-red-800 dark:text-red-200",children:m}),i.jsx(H,{variant:"outline",size:"sm",onClick:g,className:"mt-2",children:"Try Again"})]}),!f&&e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx($t,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No favorites yet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start adding music to your favorites to see them here"}),i.jsx(H,{onClick:()=>window.history.back(),children:"Browse Music"})]}):b.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(bn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No results found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search term"})]}):i.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:b.map(k=>i.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg 
                        transition-all duration-200 group border border-gray-200 dark:border-gray-700
                        ${o==="list"?"flex items-center p-4":"p-4"}`,children:o==="grid"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsxs("div",{className:`aspect-square bg-gray-200 dark:bg-gray-700 rounded-md \r
                                  overflow-hidden cursor-pointer`,children:[i.jsx("img",{src:k.thumbnail||"/default/music-thumb.png",alt:k.title||k.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),i.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 \r
                                    transition-opacity flex items-center justify-center`,children:i.jsx(rn,{className:"w-12 h-12 text-white fill-white"})})]}),i.jsx("button",{onClick:()=>v(k.id),className:`absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full\r
                               opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600`,children:i.jsx($t,{className:"w-4 h-4 fill-current"})})]}),i.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white text-sm mb-1 \r
                               line-clamp-2 cursor-pointer hover:text-blue-500`,children:k.title||k.name}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:k.artist||"Unknown Artist"}),k.album&&i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:k.album}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-3",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ll,{className:"w-3 h-3 mr-1"}),y(k.duration)]}),i.jsxs("span",{children:[k.plays||0," plays"]})]}),i.jsxs("div",{className:"flex flex-col gap-1 mb-3 text-xs",children:[i.jsxs("span",{className:"text-gray-500",children:["Added: ",new Date(k.favoriteDate||k.lastUpdated).toLocaleDateString()]}),k.lastPlayed&&i.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Last played: ",new Date(k.lastPlayed).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsxs(H,{variant:"outline",size:"xs",className:"flex-1",onClick:()=>{},children:[i.jsx(rn,{className:"w-3 h-3 mr-1"}),"Play"]}),i.jsx(H,{variant:"outline",size:"xs",onClick:()=>v(k.id),className:"text-red-500 hover:text-red-600",children:i.jsx(ts,{className:"w-3 h-3"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-md mr-4 \r
                                flex-shrink-0 overflow-hidden cursor-pointer relative`,children:[i.jsx("img",{src:k.thumbnail||"/default/music-thumb.png",alt:k.title||k.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-40 opacity-0 hover:opacity-100 \r
                                  transition-opacity flex items-center justify-center`,children:i.jsx(rn,{className:"w-5 h-5 text-white fill-white"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1 cursor-pointer hover:text-blue-500 truncate",children:k.title||k.name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-1",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(jb,{className:"w-4 h-4 mr-1"}),k.artist||"Unknown Artist"]}),k.album&&i.jsxs("span",{className:"flex items-center truncate",children:[i.jsx(GR,{className:"w-4 h-4 mr-1"}),k.album]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ll,{className:"w-3 h-3 mr-1"}),y(k.duration)]}),i.jsxs("span",{children:[k.plays||0," plays"]}),i.jsxs("span",{children:["Added: ",new Date(k.favoriteDate||k.lastUpdated).toLocaleDateString()]}),k.lastPlayed&&i.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Last played: ",new Date(k.lastPlayed).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{},children:[i.jsx(rn,{className:"w-4 h-4 mr-1"}),"Play"]}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>v(k.id),className:"text-red-500 hover:text-red-600",children:i.jsx(ts,{className:"w-4 h-4"})})]})]})},k.id))}),e.length>0&&i.jsx("div",{className:"fixed bottom-6 right-6",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{window.confirm("Remove all tracks from favorites?")&&e.forEach(k=>v(k.id))},className:"text-red-500 hover:text-red-600",children:[i.jsx(ts,{className:"w-4 h-4 mr-1"}),"Clear All"]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{},children:[i.jsx(zh,{className:"w-4 h-4 mr-1"}),"Export"]})]})})})]})},IF=()=>{const{darkMode:e,toggleDarkMode:t,language:n,setLanguage:r,animationsEnabled:s,toggleAnimations:o}=Gt(),{isAuthenticated:a,currentUser:l,logout:c}=Le(),{clearMangaCache:u,readerSettings:d,mangaSettings:f,updateReaderSettings:h,updateMangaSettings:m,clearRecentHistory:p,clearAllCache:x}=Ct(),{clearMovieCache:b}=ln(),{clearMusicCache:v}=Fn(),[g,y]=w.useState("appearance"),[k,S]=w.useState(!1),{modalState:C,closeModal:N,confirmModal:j,alertModal:P,successModal:D,errorModal:$,Modal:_}=Lb(),U=[{id:"appearance",label:"Appearance",icon:wb},{id:"general",label:"General",icon:Fl},{id:"media",label:"Media",icon:Mo},{id:"account",label:"Account",icon:jb},{id:"privacy",label:"Privacy",icon:B4},{id:"about",label:"About",icon:qd}],M=()=>{const F={appearance:{darkMode:e,animationsEnabled:s},language:n,timestamp:new Date().toISOString()},A=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),te=URL.createObjectURL(A),q=document.createElement("a");q.href=te,q.download="mainwebsite-settings.json",document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(te)},T=F=>{const A=F.target.files[0];if(!A)return;const te=new FileReader;te.onload=q=>{try{const Y=JSON.parse(q.target.result);Y.appearance&&(Y.appearance.darkMode!==e&&t(),Y.appearance.animationsEnabled!==s&&o()),Y.language&&r(Y.language),D({title:"Thành công!",message:"Cài đặt đã được import thành công!"})}catch{$({title:"Lỗi import",message:"Không thể import cài đặt. File không đúng định dạng."})}},te.readAsText(A)},z=()=>{j({title:"🗑️ Xóa lịch sử xem",message:"Bạn có chắc chắn muốn xóa toàn bộ lịch sử xem manga? Hành động này không thể hoàn tác.",confirmText:"Xóa lịch sử",cancelText:"Hủy",onConfirm:()=>{p("manga"),D({title:"Đã xóa!",message:"Lịch sử xem đã được xóa thành công."})}})},E=()=>{j({title:"⚠️ Xóa toàn bộ cache",message:"Bạn có chắc chắn muốn xóa toàn bộ cache (lịch sử, random, top view)? Điều này sẽ làm mất tất cả dữ liệu đã lưu.",confirmText:"Xóa tất cả",cancelText:"Hủy",onConfirm:()=>{x(),D({title:"Đã xóa!",message:"Toàn bộ cache đã được xóa thành công."})}})},O=()=>{k?(u(),b(),v(),localStorage.clear(),sessionStorage.clear(),window.location.reload()):(S(!0),setTimeout(()=>S(!1),5e3))},B=()=>{switch(g){case"appearance":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Appearance Settings"}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Theme"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{onClick:()=>!e&&t(),className:`p-4 rounded-lg border-2 transition-all ${e?"border-gray-300 dark:border-gray-600 hover:border-gray-400":"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}`,children:[i.jsx(Sb,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Light"})]}),i.jsxs("button",{onClick:()=>e&&t(),className:`p-4 rounded-lg border-2 transition-all ${e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[i.jsx(bb,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Dark"})]}),i.jsxs("button",{className:"p-4 rounded-lg border-2 border-gray-300 dark:border-gray-600 hover:border-gray-400 opacity-50 cursor-not-allowed",children:[i.jsx(N4,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Auto"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Coming Soon"})]})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Animations"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable smooth transitions and animations"})]}),i.jsx(H,{variant:s?"primary":"outline",onClick:o,children:s?"Enabled":"Disabled"})]})})]});case"general":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"General Settings"}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Language"}),i.jsxs("select",{value:n,onChange:F=>r(F.target.value),className:`w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"en",children:"English"}),i.jsx("option",{value:"vi",children:"Tiếng Việt"}),i.jsx("option",{value:"ja",children:"日本語"})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Auto-refresh"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Automatically refresh content every 30 minutes"})]}),i.jsx(H,{variant:"outline",children:"Disabled"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show browser notifications for updates"})]}),i.jsx(H,{variant:"outline",icon:YR,children:"Configure"})]})})]});case"media":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Media Settings"}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Cache Management"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Manga Cache"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clear manga thumbnails and data"})]}),i.jsx(H,{variant:"outline",onClick:u,children:"Clear"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Movie Cache"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clear movie thumbnails and data"})]}),i.jsx(H,{variant:"outline",onClick:b,children:"Clear"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Music Cache"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clear music thumbnails and data"})]}),i.jsx(H,{variant:"outline",onClick:v,children:"Clear"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Recent History"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clear viewing history cache"})]}),i.jsx(H,{variant:"outline",onClick:z,className:"text-red-600 hover:text-red-700",children:"Clear History"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"All Cache"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clear all cached data (recent, random, topview)"})]}),i.jsx(H,{variant:"outline",onClick:E,className:"text-red-600 hover:text-red-700",children:"Clear All"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"📚 Manga Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Số trang preload: ",d.preloadCount]}),i.jsx("input",{type:"range",min:"1",max:"20",value:d.preloadCount,onChange:F=>h({preloadCount:parseInt(F.target.value)}),className:"w-full max-w-xs"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Số ảnh được tải trước để đọc mượt hơn"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Số lượng lịch sử lưu: ",f.recentHistoryCount]}),i.jsx("input",{type:"range",min:"5",max:"50",value:f.recentHistoryCount,onChange:F=>m({recentHistoryCount:parseInt(F.target.value)}),className:"w-full max-w-xs"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Số manga được lưu trong lịch sử xem"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Theo dõi lịch sử xem"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tự động lưu manga vừa xem"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.enableRecentTracking,onChange:F=>m({enableRecentTracking:F.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sử dụng Database"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Load folder từ DB thay vì disk"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.useDb,onChange:F=>m({useDb:F.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Lazy Loading"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tải ảnh khi cần thiết"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.lazyLoad,onChange:F=>m({lazyLoad:F.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Quality Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Video Quality"}),i.jsxs("select",{className:`w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                                   bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"auto",children:"Auto"}),i.jsx("option",{value:"1080p",children:"1080p"}),i.jsx("option",{value:"720p",children:"720p"}),i.jsx("option",{value:"480p",children:"480p"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Audio Quality"}),i.jsxs("select",{className:`w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md\r
                                   bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,children:[i.jsx("option",{value:"high",children:"High (320kbps)"}),i.jsx("option",{value:"medium",children:"Medium (192kbps)"}),i.jsx("option",{value:"low",children:"Low (128kbps)"})]})]})]})]})]});case"account":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Account Settings"}),a?i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Logged in as: ",l==null?void 0:l.username]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Access level: ",(l==null?void 0:l.role)||"User"]})]}),i.jsx(H,{variant:"outline",onClick:c,children:"Sign Out"})]})}):i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Not signed in"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Sign in to access secure sources and sync your preferences"}),i.jsx(H,{variant:"primary",children:"Sign In"})]})]});case"privacy":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Privacy Settings"}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Analytics"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Help improve the app by sharing usage data"})]}),i.jsx(H,{variant:"outline",children:"Disabled"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Error Reporting"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Automatically report errors to help fix issues"})]}),i.jsx(H,{variant:"outline",children:"Disabled"})]})]})})]});case"about":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"About MainWebSite"}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg mx-auto mb-4 flex items-center justify-center",children:i.jsx(qd,{className:"w-8 h-8 text-white"})}),i.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"MainWebSite React"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Version 1.0.0"})]}),i.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx("p",{children:"A modern React-based media management application for organizing and viewing manga, movies, and music collections."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Built with:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• React 18"}),i.jsx("li",{children:"• Vite"}),i.jsx("li",{children:"• Tailwind CSS"}),i.jsx("li",{children:"• Zustand"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Features:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• Manga Reader"}),i.jsx("li",{children:"• Movie Player"}),i.jsx("li",{children:"• Music Player"}),i.jsx("li",{children:"• Dark Mode"})]})]})]})]})]})]});default:return null}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(Fl,{className:"w-8 h-8 mr-3"}),"Settings"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Customize your MainWebSite experience"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsxs("div",{className:"w-full lg:w-64 flex-shrink-0",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsx("nav",{className:"p-4 space-y-2",children:U.map(F=>{const A=F.icon;return i.jsxs("button",{onClick:()=>y(F.id),className:`w-full flex items-center px-3 py-2 rounded-md text-left transition-colors ${g===F.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[i.jsx(A,{className:"w-5 h-5 mr-3"}),F.label]},F.id)})})}),i.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(H,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:M,icon:zh,children:"Export Settings"}),i.jsxs("label",{className:"block",children:[i.jsx("input",{type:"file",accept:".json",onChange:T,className:"hidden"}),i.jsx(H,{variant:"outline",size:"sm",className:"w-full justify-start",icon:n3,as:"span",children:"Import Settings"})]}),i.jsx(H,{variant:k?"danger":"outline",size:"sm",className:"w-full justify-start",onClick:O,icon:k?ts:kb,children:k?"Confirm Reset":"Reset App"})]})]})]}),i.jsx("div",{className:"flex-1",children:B()})]})]}),i.jsx(_,{})]})},$F=()=>i.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:i.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6",children:[i.jsx("div",{className:"text-8xl mb-8",children:"🤔"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"404"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Trang không tìm thấy"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Xin lỗi, chúng tôi không thể tìm thấy trang bạn đang tìm kiếm. Có thể link đã bị thay đổi hoặc trang đã bị xóa."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(Us,{to:"/",children:i.jsx(H,{variant:"primary",children:"🏠 Về trang chủ"})}),i.jsx(H,{variant:"secondary",onClick:()=>window.history.back(),children:"← Quay lại"})]})]})});function VF(){const{darkMode:e}=Gt();return w.useEffect(()=>{e?(document.documentElement.classList.add("dark"),document.documentElement.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.setAttribute("data-theme","light"))},[e]),i.jsxs(rj,{children:[i.jsx(ut,{path:"/manga/reader/:folderId",element:i.jsx(m0,{})}),i.jsx(ut,{path:"/manga/reader",element:i.jsx(m0,{})}),i.jsx(ut,{path:"/movie/player",element:i.jsx(LF,{})}),i.jsx(ut,{path:"/music/player",element:i.jsx(DF,{})}),i.jsxs(ut,{path:"/",element:i.jsx(u3,{}),children:[i.jsx(ut,{index:!0,element:i.jsx(f3,{})}),i.jsxs(ut,{path:"manga",children:[i.jsx(ut,{path:"select",element:i.jsx(h3,{})}),i.jsx(ut,{index:!0,element:i.jsx(CF,{})}),i.jsx(ut,{path:"favorites",element:i.jsx(PF,{})})]}),i.jsxs(ut,{path:"movie",children:[i.jsx(ut,{index:!0,element:i.jsx(OF,{})}),i.jsx(ut,{path:"favorites",element:i.jsx(FF,{})})]}),i.jsxs(ut,{path:"music",children:[i.jsx(ut,{index:!0,element:i.jsx(AF,{})}),i.jsx(ut,{path:"favorites",element:i.jsx(_F,{})})]}),i.jsx(ut,{path:"settings",element:i.jsx(IF,{})}),i.jsx(ut,{path:"*",element:i.jsx($F,{})})]})]})}const zF=new Tj({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});sh.setAppElement("#root");gu.createRoot(document.getElementById("root")).render(i.jsx(Bt.StrictMode,{children:i.jsx(dj,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsx(Bj,{client:zF,children:i.jsx(VF,{})})})}));
