<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Danh sách phim</title>
    <link rel="stylesheet" href="/dist/movie/index.css" />
    <script src="/api/source-keys.js"></script>
  </head>

  <body>
    <header id="site-header" class="site-header">
      <div class="header-left">
        <button class="menu-button" id="sidebarToggle">☰</button>
        <div class="logo" onclick="location.href='/home.html'">
          🎬 <span class="logo-text">MyLocalMovie</span>
        </div>
      </div>

      <div class="header-right">
        <button
          class="icon-button"
          onclick="location.href='favorites.html'"
        >
          ❤️
        </button>
        <button class="icon-button" id="searchToggle">🔍</button>
      </div>
    </header>

    <!-- ✅ SEARCH FLOATING -->
    <div id="floating-search" class="floating-search">
      <input
        type="text"
        id="floatingSearchInput"
        placeholder="Tìm kiếm phim..."
      />

      <!-- 🆕 Dropdown chọn loại tìm -->
      <select id="search-type-select" class="search-type-dropdown">
        <option value="video">🎬 Chỉ video</option>
        <option value="folder">📁 Chỉ thư mục</option>
        <option value="all" selected>🔍 Cả hai</option>
      </select>

      <div id="search-dropdown" class="search-dropdown hidden"></div>
    </div>
    <!-- ✅ LAYOUT CHUẨN -->
    <div id="wrapper">
      <aside id="sidebar-menu"></aside>
      <div class="main-content">
        <!-- ✅ CÁC SLIDER RANDOM -->
        <details id="random-video-collapse" class="random-collapse" open>
          <summary>🎬 Video ngẫu nhiên</summary>
          <section id="randomVideoSection" class="folder-slider-section"></section>
        </details>
        <details id="recent-video-collapse" class="random-collapse" open>
          <summary>🕓 Vừa xem</summary>
          <section id="section-recent" class="folder-slider-section"></section>
        </details>
        <details id="topview-video-collapse" class="random-collapse" open>
          <summary>🔥 Xem nhiều</summary>
          <section id="section-topview" class="folder-slider-section"></section>
        </details>
        <details id="random-folder-collapse" class="random-collapse">
          <summary>🎲 Folder ngẫu nhiên</summary>
          <section id="randomFolderSection" class="folder-slider-section"></section>
        </details>

        <!-- ✅ APP CHÍNH -->
        <button id="back-root" style="display: none">
          ⬅ Quay lại nguồn phim
        </button>
        <div id="movie-app"></div>
      </div>
    </div>

    <!-- ✅ FOOTER -->
    <footer id="main-footer" class="footer-bar">
      <button id="extract-thumbnail-btn" class="danger-button">
        🖼 Extract thumbnail (movie)
      </button>
    </footer>
    <div id="loading-overlay" class="hidden">
      <div class="loader-text">⏳ Đang tải...</div>
    </div>
    <script src="/dist/movie/index.js"></script>
  </body>
</html>
