<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Xem phim</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/styles/base.css" />
    <link rel="stylesheet" href="/src/styles/components/movie-card.css" />
    <link rel="stylesheet" href="/src/styles/components/folder-slider.css" />
    <link rel="stylesheet" href="/src/styles/pages/player.css" />

    <link rel="icon" type="image/png" href="/default/favicon.png" />
  </head>
  <body>
    <header id="site-header" class="site-header">
      <div class="header-left">
        <button class="menu-button" id="sidebarToggle">☰</button>

        <div id="movie-folder-name" class="logo">📁 ...</div>
      </div>
      <div class="header-right">
        <button class="icon-button" id="fav-btn">🤍</button>
        <button class="icon-button" id="searchToggle">🔍</button>
      </div>
    </header>

    <div id="floating-search" class="floating-search">
      <input
        type="text"
        id="floatingSearchInput"
        placeholder="Tìm kiếm video..."
      />
      <select id="search-type-select" class="search-type-dropdown">
        <option value="video">🎬 Chỉ video</option>
        <option value="folder">📁 Chỉ thư mục</option>
        <option value="all" selected>🔍 Cả hai</option>
      </select>
      <div id="search-dropdown" class="search-dropdown hidden"></div>
    </div>

    <div id="wrapper">
      <div class="main-content">
        <aside id="sidebar-menu"></aside>

        <div id="video-name" class="video-name-display"></div>
        <!-- ✅ Thêm nút mở bằng ExoPlayer -->
        <div class="open-exoplayer-wrapper">
          <button id="btn-open-exoplayer">▶ Mở bằng ExoPlayer</button>
        </div>
        <video
          id="video-player"
          controls
          style="width: 100%; margin-top: 20px"
        ></video>
        <div id="video-prev-next" class="video-nav">
          <button id="btn-prev">⬅ Tập trước</button>
          <div class="random-jump">
            <button id="btn-random-jump">🎲 Xem ngẫu nhiên</button>
          </div>
          <button id="btn-next">Tập sau ➡</button>
        </div>

        <!-- Thêm dòng này dưới -->
        <div id="video-episode-list" class="episode-list"></div>
        <!-- ✅ Section random -->
        <section
          id="randomFolderSection"
          class="folder-slider-section"
        ></section>
        <section
          id="randomVideoSection"
          class="folder-slider-section"
        ></section>
      </div>
    </div>

    <div id="loading-overlay" class="hidden">⏳ Đang tải...</div>
    <script type="module" src="/src/pages/movie-player.js"></script>
    <script type="module" src="/src/core/ui.js"></script>
  </body>
</html>
